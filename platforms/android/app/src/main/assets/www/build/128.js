webpackJsonp([128],{1991:function(e,n,l){"use strict";function View_AddonMessageOutputAirnotifierDevicesPage_2(e){return t._57(0,[(e()(),t._31(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),t._55(1,null,["(",")"])),t._47(131072,j.a,[R.a,t.j])],null,function(e,n){e(n,1,0,t._56(n,1,0,t._44(n,2).transform("core.currentdevice")))})}function View_AddonMessageOutputAirnotifierDevicesPage_3(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,C.b,C.a)),t._30(1,114688,null,0,T.a,[U.a,t.t,t.V],null,null)],function(e,n){e(n,1,0)},function(e,n){e(n,0,0,t._44(n,1)._paused)})}function View_AddonMessageOutputAirnotifierDevicesPage_1(e){return t._57(0,[(e()(),t._31(0,0,null,null,23,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,$.b,$.a)),t._30(1,1097728,null,3,k.a,[I.a,U.a,t.t,t.V,[2,L.a]],null,null),t._52(335544320,1,{contentLabel:0}),t._52(603979776,2,{_buttons:1}),t._52(603979776,3,{_icons:1}),t._30(5,16384,null,0,E.a,[],null,null),(e()(),t._55(-1,2,["\n                "])),(e()(),t._31(7,0,null,1,5,"ion-label",[],[[2,"core-bold",null]],null,null,null,null)),t._30(8,16384,[[1,4]],0,F.a,[U.a,t.t,t.V,[8,null],[8,null],[8,null],[8,null]],null,null),(e()(),t._55(9,null,["\n                    ","\n                    "])),(e()(),t._26(16777216,null,null,1,null,View_AddonMessageOutputAirnotifierDevicesPage_2)),t._30(11,16384,null,0,N.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n                "])),(e()(),t._55(-1,2,["\n                "])),(e()(),t._26(16777216,null,4,1,null,View_AddonMessageOutputAirnotifierDevicesPage_3)),t._30(15,16384,null,0,N.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,2,["\n                "])),(e()(),t._31(17,0,null,4,5,"ion-toggle",[],[[2,"toggle-disabled",null],[2,"toggle-checked",null],[2,"toggle-activated",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"]],function(e,n,l){var i=!0,u=e.component;if("keyup"===n){i=!1!==t._44(e,18)._keyup(l)&&i}if("ngModelChange"===n){i=!1!==(e.context.$implicit.enable=l)&&i}if("ngModelChange"===n){i=!1!==u.enableDevice(e.context.$implicit,e.context.$implicit.enable)&&i}return i},q.b,q.a)),t._30(18,1228800,null,0,G.a,[I.a,U.a,H.a,t.t,t.V,J.a,[2,k.a],K.l,z.a,t.M],{disabled:[0,"disabled"]},null),t._50(1024,null,B.l,function(e){return[e]},[G.a]),t._30(20,671744,null,0,B.q,[[8,null],[8,null],[8,null],[2,B.l]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),t._50(2048,null,B.m,null,[B.q]),t._30(22,16384,null,0,B.n,[B.m],null,null),(e()(),t._55(-1,2,["\n            "]))],function(e,n){e(n,11,0,n.context.$implicit.current);e(n,15,0,n.context.$implicit.updating);e(n,18,0,n.context.$implicit.updating);e(n,20,0,n.context.$implicit.updating,n.context.$implicit.enable)},function(e,n){e(n,7,0,n.context.$implicit.current);e(n,9,0,n.context.$implicit.model);e(n,17,0,t._44(n,18)._disabled,t._44(n,18)._value,t._44(n,18)._activated,t._44(n,22).ngClassUntouched,t._44(n,22).ngClassTouched,t._44(n,22).ngClassPristine,t._44(n,22).ngClassDirty,t._44(n,22).ngClassValid,t._44(n,22).ngClassInvalid,t._44(n,22).ngClassPending)})}function View_AddonMessageOutputAirnotifierDevicesPage_0(e){return t._57(0,[(e()(),t._31(0,0,null,null,12,"ion-header",[],null,null,null,null,null)),t._30(1,16384,null,0,Q.a,[U.a,t.t,t.V,[2,S.a]],null,null),(e()(),t._55(-1,null,["\n    "])),(e()(),t._31(3,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,W.b,W.a)),t._30(4,49152,null,0,X.a,[Y.a,[2,S.a],[2,Z.a],U.a,t.t,t.V],null,null),t._30(5,212992,null,0,ee.a,[X.a,H.a,R.a,ne.a],null,null),(e()(),t._55(-1,3,["\n        "])),(e()(),t._31(7,0,null,3,3,"ion-title",[],null,null,null,le.b,le.a)),t._30(8,49152,null,0,te.a,[U.a,t.t,t.V,[2,ie.a],[2,X.a]],null,null),(e()(),t._55(9,0,["",""])),t._47(131072,j.a,[R.a,t.j]),(e()(),t._55(-1,3,["\n    "])),(e()(),t._55(-1,null,["\n"])),(e()(),t._55(-1,null,["\n"])),(e()(),t._31(14,0,null,null,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,ue.b,ue.a)),t._30(15,4374528,null,0,ae.a,[U.a,H.a,z.a,t.t,t.V,Y.a,oe.a,t.M,[2,S.a],[2,Z.a]],null,null),(e()(),t._55(-1,1,["\n    "])),(e()(),t._31(17,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,n,l){var t=!0;if("ionRefresh"===n){t=!1!==e.component.refreshDevices(l)&&t}return t},null,null)),t._30(18,212992,null,0,re.a,[H.a,ae.a,t.M,K.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),t._55(-1,null,["\n        "])),(e()(),t._31(20,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,se.b,se.a)),t._30(21,114688,null,0,ce.a,[re.a,U.a],{pullingText:[0,"pullingText"]},null),t._47(131072,j.a,[R.a,t.j]),(e()(),t._55(-1,null,["\n    "])),(e()(),t._55(-1,1,["\n    "])),(e()(),t._31(25,0,null,1,9,"core-loading",[],null,null,null,de.b,de.a)),t._30(26,638976,null,0,_e.a,[R.a,t.t,ne.a,fe.a],{hideUntil:[0,"hideUntil"]},null),(e()(),t._55(-1,0,["\n        "])),(e()(),t._31(28,0,null,0,5,"ion-list",[],null,null,null,null,null)),t._30(29,16384,null,0,pe.a,[U.a,t.t,t.V,H.a,K.l,z.a],null,null),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_AddonMessageOutputAirnotifierDevicesPage_1)),t._30(32,802816,null,0,N.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,0,["\n    "])),(e()(),t._55(-1,1,["\n"])),(e()(),t._55(-1,null,["\n"]))],function(e,n){var l=n.component;e(n,5,0);e(n,18,0,l.devicesLoaded);e(n,21,0,t._34(1,"",t._56(n,21,0,t._44(n,22).transform("core.pulltorefresh")),""));e(n,26,0,l.devicesLoaded);e(n,32,0,l.devices)},function(e,n){e(n,3,0,t._44(n,4)._hidden,t._44(n,4)._sbPadding);e(n,9,0,t._56(n,9,0,t._44(n,10).transform("addon.messageoutput_airnotifier.processorsettingsdesc")));e(n,14,0,t._44(n,15).statusbarPadding,t._44(n,15)._hasRefresher);e(n,17,0,"inactive"!==t._44(n,18).state,t._44(n,18)._top);e(n,20,0,t._44(n,21).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var t=l(0),i=l(5),u=l(3),a=l(26),o=l(32),r=l(4),s=l(136),c=l(495),d=this&&this.__decorate||function(e,n,l,t){var i,u=arguments.length,a=u<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,l,t);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(u<3?i(a):u>3?i(n,l,a):i(n,l))||a);return u>3&&a&&Object.defineProperty(n,l,a),a},_=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},f=function(){function AddonMessageOutputAirnotifierDevicesPage(e,n,l){this.domUtils=e,this.airnotifierProivder=n,this.pushNotificationsProvider=l,this.devices=[],this.devicesLoaded=!1}return AddonMessageOutputAirnotifierDevicesPage.prototype.ionViewDidLoad=function(){this.fetchDevices()},AddonMessageOutputAirnotifierDevicesPage.prototype.fetchDevices=function(){var e=this;return this.airnotifierProivder.getUserDevices().then(function(n){var l=e.pushNotificationsProvider.getPushId();n.forEach(function(e){e.enable=!!e.enable,e.current=l&&l==e.pushid}),e.devices=n}).catch(function(n){e.domUtils.showErrorModal(n)}).finally(function(){e.devicesLoaded=!0})},AddonMessageOutputAirnotifierDevicesPage.prototype.updateDevicesAfterDelay=function(){var e=this;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(function(){e.updateTimeout=null,e.updateDevices()},5e3)},AddonMessageOutputAirnotifierDevicesPage.prototype.updateDevices=function(){var e=this;this.airnotifierProivder.invalidateUserDevices().finally(function(){e.airnotifierProivder.getUserDevices()})},AddonMessageOutputAirnotifierDevicesPage.prototype.refreshDevices=function(e){var n=this;this.airnotifierProivder.invalidateUserDevices().finally(function(){n.fetchDevices().finally(function(){e.complete()})})},AddonMessageOutputAirnotifierDevicesPage.prototype.enableDevice=function(e,n){var l=this;e.updating=!0,this.airnotifierProivder.enableDevice(e.id,n).then(function(){l.updateDevicesAfterDelay()}).catch(function(n){l.domUtils.showErrorModal(n),e.enable=!e.enable}).finally(function(){e.updating=!1})},AddonMessageOutputAirnotifierDevicesPage.prototype.ngOnDestroy=function(){this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateDevices())},AddonMessageOutputAirnotifierDevicesPage=d([Object(t.m)({selector:"page-addon-message-output-airnotifier-devices",templateUrl:"devices.html"}),_("design:paramtypes",[r.a,c.a,s.a])],AddonMessageOutputAirnotifierDevicesPage)}(),p=this&&this.__decorate||function(e,n,l,t){var i,u=arguments.length,a=u<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,l,t);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(u<3?i(a):u>3?i(n,l,a):i(n,l))||a);return u>3&&a&&Object.defineProperty(n,l,a),a},g=function(){function AddonMessageOutputAirnotifierDevicesPageModule(){}return AddonMessageOutputAirnotifierDevicesPageModule=p([Object(t.I)({declarations:[f],imports:[a.a,o.a,i.l.forChild(f),u.b.forChild()]})],AddonMessageOutputAirnotifierDevicesPageModule)}(),v=l(1522),h=l(1523),b=l(1524),m=l(1525),D=l(1526),A=l(1527),P=l(1528),M=l(1529),O=l(1530),y=l(1531),V=l(1532),w=l(1533),x=l(1534),j=l(25),R=l(18),C=l(121),T=l(101),U=l(8),$=l(31),k=l(21),I=l(19),L=l(27),E=l(33),F=l(67),N=l(7),q=l(726),G=l(316),H=l(16),J=l(187),K=l(44),z=l(34),B=l(23),Q=l(371),S=l(39),W=l(723),X=l(212),Y=l(35),Z=l(20),ee=l(473),ne=l(9),le=l(724),te=l(314),ie=l(247),ue=l(181),ae=l(29),oe=l(107),re=l(159),se=l(213),ce=l(173),de=l(54),_e=l(51),fe=l(2),pe=l(86),ge=t._29({encapsulation:2,styles:[],data:{}}),ve=t._27("page-addon-message-output-airnotifier-devices",f,function View_AddonMessageOutputAirnotifierDevicesPage_Host_0(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"page-addon-message-output-airnotifier-devices",[],null,null,null,View_AddonMessageOutputAirnotifierDevicesPage_0,ge)),t._30(1,180224,null,0,f,[r.a,c.a,s.a],null,null)],null,null)},{},{},[]),he=l(367),be=l(368),me=l(370),De=l(369),Ae=l(472),Pe=l(722),Me=l(106),Oe=l(270);l.d(n,"AddonMessageOutputAirnotifierDevicesPageModuleNgFactory",function(){return ye});var ye=t._28(g,[],function(e){return t._40([t._41(512,t.o,t._21,[[8,[v.a,h.a,b.a,m.a,D.a,A.a,P.a,M.a,O.a,y.a,V.a,w.a,x.a,ve]],[3,t.o],t.K]),t._41(4608,N.m,N.l,[t.G,[2,N.w]]),t._41(4608,B.x,B.x,[]),t._41(4608,B.d,B.d,[]),t._41(4608,he.b,he.a,[]),t._41(4608,be.a,be.b,[]),t._41(4608,me.b,me.a,[]),t._41(4608,De.b,De.a,[]),t._41(4608,R.a,R.a,[Ae.a,he.b,be.a,me.b,De.b,R.b,R.c]),t._41(512,N.b,N.b,[]),t._41(512,B.v,B.v,[]),t._41(512,B.i,B.i,[]),t._41(512,B.s,B.s,[]),t._41(512,Pe.a,Pe.a,[]),t._41(512,u.b,u.b,[]),t._41(512,o.a,o.a,[]),t._41(512,Me.a,Me.a,[]),t._41(512,a.a,a.a,[]),t._41(512,Pe.b,Pe.b,[]),t._41(512,g,g,[]),t._41(256,R.c,void 0,[]),t._41(256,R.b,void 0,[]),t._41(256,Oe.a,f,[])])})}});