webpackJsonp([34],{2111:function(e,a,t){"use strict";function View_CoreTagIndexAreaPage_1(e){return n._57(0,[(e()(),n._31(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),n._55(-1,null,["\n            "])),(e()(),n._31(2,0,null,null,2,"core-dynamic-component",[],null,null,null,N.b,N.a)),n._30(3,901120,null,0,D.a,[R.a,n.o,n.F,[2,w.a],n.j,n.t,o.a],{component:[0,"component"],data:[1,"data"]},null),n._48(4,{items:0}),(e()(),n._55(-1,null,["\n        "]))],function(e,a){var t=a.component;e(a,3,0,t.areaComponent,e(a,4,0,t.items))},null)}function View_CoreTagIndexAreaPage_0(e){return n._57(0,[(e()(),n._31(0,0,null,null,15,"ion-header",[],null,null,null,null,null)),n._30(1,16384,null,0,V.a,[O.a,n.t,n.V,[2,E.a]],null,null),(e()(),n._55(-1,null,["\n    "])),(e()(),n._31(3,0,null,null,11,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,K.b,K.a)),n._30(4,49152,null,0,L.a,[U.a,[2,E.a],[2,w.a],O.a,n.t,n.V],null,null),n._30(5,212992,null,0,k.a,[L.a,F.a,G.a,H.a],null,null),(e()(),n._55(-1,3,["\n        "])),(e()(),n._31(7,0,null,3,6,"ion-title",[],null,null,null,J.b,J.a)),n._30(8,49152,null,0,$.a,[O.a,n.t,n.V,[2,q.a],[2,L.a]],null,null),(e()(),n._55(9,0,["",""])),n._47(131072,z.a,[G.a,n.j]),n._48(11,{tagarea:0,tag:1}),n._48(12,{$a:0}),n._47(131072,z.a,[G.a,n.j]),(e()(),n._55(-1,3,["\n    "])),(e()(),n._55(-1,null,["\n"])),(e()(),n._55(-1,null,["\n"])),(e()(),n._31(17,0,null,null,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,B.b,B.a)),n._30(18,4374528,null,0,Q.a,[O.a,F.a,S.a,n.t,n.V,U.a,W.a,n.M,[2,E.a],[2,w.a]],null,null),(e()(),n._55(-1,1,["\n    "])),(e()(),n._31(20,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,a,t){var n=!0;if("ionRefresh"===a){n=!1!==e.component.refreshData(t)&&n}return n},null,null)),n._30(21,212992,null,0,X.a,[F.a,Q.a,n.M,Y.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),n._55(-1,null,["\n        "])),(e()(),n._31(23,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Z.b,Z.a)),n._30(24,114688,null,0,ee.a,[X.a,O.a],{pullingText:[0,"pullingText"]},null),n._47(131072,z.a,[G.a,n.j]),(e()(),n._55(-1,null,["\n    "])),(e()(),n._55(-1,1,["\n    "])),(e()(),n._31(28,0,null,1,8,"core-loading",[],null,null,null,ae.b,ae.a)),n._30(29,638976,null,0,te.a,[G.a,n.t,H.a,ne.a],{hideUntil:[0,"hideUntil"]},null),(e()(),n._55(-1,0,["\n        "])),(e()(),n._26(16777216,null,0,1,null,View_CoreTagIndexAreaPage_1)),n._30(32,16384,null,0,le.k,[n._11,n._6],{ngIf:[0,"ngIf"]},null),(e()(),n._55(-1,0,["\n        "])),(e()(),n._31(34,0,null,0,1,"core-infinite-loading",[],null,[[null,"action"]],function(e,a,t){var n=!0;if("action"===a){n=!1!==e.component.loadMore(t)&&n}return n},re.b,re.a)),n._30(35,573440,null,0,oe.a,[[2,Q.a],o.a],{enabled:[0,"enabled"],error:[1,"error"]},{action:"action"}),(e()(),n._55(-1,0,["\n    "])),(e()(),n._55(-1,1,["\n"])),(e()(),n._55(-1,null,["\n"]))],function(e,a){var t=a.component;e(a,5,0);e(a,21,0,t.loaded);e(a,24,0,n._34(1,"",n._56(a,24,0,n._44(a,25).transform("core.pulltorefresh")),""));e(a,29,0,t.loaded);e(a,32,0,t.loaded);e(a,35,0,t.canLoadMore,t.loadMoreError)},function(e,a){var t=a.component;e(a,3,0,n._44(a,4)._hidden,n._44(a,4)._sbPadding);e(a,9,0,n._56(a,9,0,n._44(a,13).transform("core.tag.itemstaggedwith",e(a,12,0,e(a,11,0,n._56(a,9,0,n._44(a,10).transform(t.areaNameKey)),t.tagName)))));e(a,17,0,n._44(a,18).statusbarPadding,n._44(a,18)._hasRefresher);e(a,20,0,"inactive"!==n._44(a,21).state,n._44(a,21)._top);e(a,23,0,n._44(a,24).r.state)})}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=t(5),r=t(3),o=t(4),i=t(163),u=t(205),c=this&&this.__decorate||function(e,a,t,n){var l,r=arguments.length,o=r<3?a:null===n?n=Object.getOwnPropertyDescriptor(a,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,a,t,n);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(o=(r<3?l(o):r>3?l(a,t,o):l(a,t))||o);return r>3&&o&&Object.defineProperty(a,t,o),o},s=this&&this.__metadata||function(e,a){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,a)},d=function(){function CoreTagIndexAreaPage(e,a,t,n,l,r){this.injector=a,this.translate=t,this.tagProvider=n,this.domUtils=l,this.tagAreaDelegate=r,this.loaded=!1,this.items=[],this.nextPage=0,this.canLoadMore=!1,this.loadMoreError=!1,this.tagId=e.get("tagId"),this.tagName=e.get("tagName"),this.collectionId=e.get("collectionId"),this.areaId=e.get("areaId"),this.fromContextId=e.get("fromContextId"),this.contextId=e.get("contextId"),this.recursive=e.get("recursive"),this.areaNameKey=e.get("areaNameKey"),this.componentName=e.get("componentName"),this.itemType=e.get("itemType"),this.items=e.get("items")||[],this.nextPage=e.get("nextPage")||0,this.canLoadMore=!!e.get("canLoadMore")}return CoreTagIndexAreaPage.prototype.ionViewDidLoad=function(){var e=this;(this.componentName&&this.itemType&&this.items.length&&0!=this.nextPage?Promise.resolve():this.fetchData(!0)).then(function(){return e.tagAreaDelegate.getComponent(e.componentName,e.itemType,e.injector).then(function(a){e.areaComponent=a})}).finally(function(){e.loaded=!0})},CoreTagIndexAreaPage.prototype.fetchData=function(e){var a=this;void 0===e&&(e=!1),this.loadMoreError=!1;var t=e?0:this.nextPage;return this.tagProvider.getTagIndexPerArea(this.tagId,this.tagName,this.collectionId,this.areaId,this.fromContextId,this.contextId,this.recursive,t).then(function(e){var n=e[0];return a.tagAreaDelegate.parseContent(n.component,n.itemtype,n.content).then(function(e){if(!e||!e.length)return Promise.reject(a.translate.instant("core.tag.errorareanotsupported"));0==t?a.items=e:(l=a.items).push.apply(l,e),a.componentName=n.component,a.itemType=n.itemtype,a.areaNameKey=a.tagAreaDelegate.getDisplayNameKey(n.component,n.itemtype),a.canLoadMore=!!n.nextpageurl,a.nextPage=t+1;var l})}).catch(function(e){a.loadMoreError=!0,a.domUtils.showErrorModalDefault(e,"Error loading tag index")})},CoreTagIndexAreaPage.prototype.loadMore=function(e){return this.fetchData().finally(function(){e()})},CoreTagIndexAreaPage.prototype.refreshData=function(e){var a=this;this.tagProvider.invalidateTagIndexPerArea(this.tagId,this.tagName,this.collectionId,this.areaId,this.fromContextId,this.contextId,this.recursive).finally(function(){a.fetchData(!0).finally(function(){e.complete()})})},CoreTagIndexAreaPage=c([Object(n.m)({selector:"page-core-tag-index-area",templateUrl:"index-area.html"}),s("design:paramtypes",[l.t,n.C,r.c,i.a,o.a,u.a])],CoreTagIndexAreaPage)}(),_=t(26),g=t(32),h=this&&this.__decorate||function(e,a,t,n){var l,r=arguments.length,o=r<3?a:null===n?n=Object.getOwnPropertyDescriptor(a,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,a,t,n);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(o=(r<3?l(o):r>3?l(a,t,o):l(a,t))||o);return r>3&&o&&Object.defineProperty(a,t,o),o},f=function(){function CoreTagIndexAreaPageModule(){}return CoreTagIndexAreaPageModule=h([Object(n.I)({declarations:[d],imports:[_.a,g.a,l.l.forChild(d),r.b.forChild()]})],CoreTagIndexAreaPageModule)}(),p=t(1522),m=t(1523),b=t(1524),x=t(1525),I=t(1526),y=t(1527),P=t(1528),v=t(1529),C=t(1530),T=t(1531),A=t(1532),M=t(1533),j=t(1534),N=t(725),D=t(199),R=t(6),w=t(20),V=t(371),O=t(8),E=t(39),K=t(723),L=t(212),U=t(35),k=t(473),F=t(16),G=t(18),H=t(9),J=t(724),$=t(314),q=t(247),z=t(25),B=t(181),Q=t(29),S=t(34),W=t(107),X=t(159),Y=t(44),Z=t(213),ee=t(173),ae=t(54),te=t(51),ne=t(2),le=t(7),re=t(373),oe=t(273),ie=t(69),ue=n._29({encapsulation:2,styles:[],data:{}}),ce=n._27("page-core-tag-index-area",d,function View_CoreTagIndexAreaPage_Host_0(e){return n._57(0,[(e()(),n._31(0,0,null,null,1,"page-core-tag-index-area",[],null,null,null,View_CoreTagIndexAreaPage_0,ue)),n._30(1,49152,null,0,d,[ie.a,n.C,G.a,i.a,o.a,u.a],null,null)],null,null)},{},{},[]),se=t(23),de=t(367),_e=t(368),ge=t(370),he=t(369),fe=t(472),pe=t(722),me=t(106),be=t(270);t.d(a,"CoreTagIndexAreaPageModuleNgFactory",function(){return xe});var xe=n._28(f,[],function(e){return n._40([n._41(512,n.o,n._21,[[8,[p.a,m.a,b.a,x.a,I.a,y.a,P.a,v.a,C.a,T.a,A.a,M.a,j.a,ce]],[3,n.o],n.K]),n._41(4608,le.m,le.l,[n.G,[2,le.w]]),n._41(4608,se.x,se.x,[]),n._41(4608,se.d,se.d,[]),n._41(4608,de.b,de.a,[]),n._41(4608,_e.a,_e.b,[]),n._41(4608,ge.b,ge.a,[]),n._41(4608,he.b,he.a,[]),n._41(4608,G.a,G.a,[fe.a,de.b,_e.a,ge.b,he.b,G.b,G.c]),n._41(512,le.b,le.b,[]),n._41(512,se.v,se.v,[]),n._41(512,se.i,se.i,[]),n._41(512,se.s,se.s,[]),n._41(512,pe.a,pe.a,[]),n._41(512,r.b,r.b,[]),n._41(512,g.a,g.a,[]),n._41(512,me.a,me.a,[]),n._41(512,_.a,_.a,[]),n._41(512,pe.b,pe.b,[]),n._41(512,f,f,[]),n._41(256,G.c,void 0,[]),n._41(256,G.b,void 0,[]),n._41(256,be.a,d,[])])})}});