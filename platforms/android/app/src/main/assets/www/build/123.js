webpackJsonp([123],{2013:function(n,l,e){"use strict";function View_AddonModChatSessionMessagesPage_2(n){return t._57(0,[(n()(),t._31(0,0,null,null,2,"h6",[["class","addon-messages-date"],["text-center",""]],null,null,null,null,null)),(n()(),t._55(1,null,["\n                    ","\n                "])),t._49(2,2)],null,function(n,l){n(l,1,0,t._56(l,1,0,n(l,2,0,t._44(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimedayshort")))})}function View_AddonModChatSessionMessagesPage_4(n){return t._57(0,[(n()(),t._31(0,0,null,null,10,"ion-badge",[["color","success"],["text-wrap",""]],null,null,null,null,null)),t._30(1,16384,null,0,F.a,[T.a,t.t,t.V],{color:[0,"color"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._31(4,0,null,null,1,"core-icon",[["name","fa-sign-in"]],null,null,null,H.b,H.a)),t._30(5,704512,null,0,N.a,[t.t,T.a],{name:[0,"name"]},null),(n()(),t._55(6,null,[" "," ",""])),t._49(7,2),t._48(8,{$a:0}),t._47(131072,W.a,[G.a,t.j]),(n()(),t._55(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"success");n(l,5,0,"fa-sign-in")},function(n,l){n(l,6,0,t._56(l,6,0,n(l,7,0,t._44(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._56(l,6,1,t._44(l,9).transform("addon.mod_chat.messageenter",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_5(n){return t._57(0,[(n()(),t._31(0,0,null,null,10,"ion-badge",[["color","danger"],["text-wrap",""]],null,null,null,null,null)),t._30(1,16384,null,0,F.a,[T.a,t.t,t.V],{color:[0,"color"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._31(4,0,null,null,1,"core-icon",[["name","fa-sign-out"]],null,null,null,H.b,H.a)),t._30(5,704512,null,0,N.a,[t.t,T.a],{name:[0,"name"]},null),(n()(),t._55(6,null,[" "," ",""])),t._49(7,2),t._48(8,{$a:0}),t._47(131072,W.a,[G.a,t.j]),(n()(),t._55(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"danger");n(l,5,0,"fa-sign-out")},function(n,l){n(l,6,0,t._56(l,6,0,n(l,7,0,t._44(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._56(l,6,1,t._44(l,9).transform("addon.mod_chat.messageexit",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_6(n){return t._57(0,[(n()(),t._31(0,0,null,null,10,"ion-badge",[["color","primary"],["text-wrap",""]],null,null,null,null,null)),t._30(1,16384,null,0,F.a,[T.a,t.t,t.V],{color:[0,"color"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._31(4,0,null,null,1,"ion-icon",[["name","notifications"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(5,147456,null,0,J.a,[T.a,t.t,t.V],{name:[0,"name"]},null),(n()(),t._55(6,null,[" ","\n                        "," "])),t._49(7,2),t._48(8,{$a:0}),t._47(131072,W.a,[G.a,t.j]),(n()(),t._55(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"primary");n(l,5,0,"notifications")},function(n,l){n(l,4,0,t._44(l,5)._hidden);n(l,6,0,t._56(l,6,0,n(l,7,0,t._44(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._56(l,6,1,t._44(l,9).transform("addon.mod_chat.messagebeepseveryone",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_7(n){return t._57(0,[(n()(),t._31(0,0,null,null,10,"ion-badge",[["color","primary"],["text-wrap",""]],null,null,null,null,null)),t._30(1,16384,null,0,F.a,[T.a,t.t,t.V],{color:[0,"color"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._31(4,0,null,null,1,"ion-icon",[["name","notifications"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(5,147456,null,0,J.a,[T.a,t.t,t.V],{name:[0,"name"]},null),(n()(),t._55(6,null,[" ","\n                        "," "])),t._49(7,2),t._48(8,{$a:0}),t._47(131072,W.a,[G.a,t.j]),(n()(),t._55(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"primary");n(l,5,0,"notifications")},function(n,l){n(l,4,0,t._44(l,5)._hidden);n(l,6,0,t._56(l,6,0,n(l,7,0,t._44(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._56(l,6,1,t._44(l,9).transform("addon.mod_chat.messagebeepsyou",n(l,8,0,l.parent.parent.context.$implicit.userfullname))))})}function View_AddonModChatSessionMessagesPage_8(n){return t._57(0,[(n()(),t._31(0,0,null,null,10,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),t._30(1,16384,null,0,F.a,[T.a,t.t,t.V],{color:[0,"color"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(3,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t._31(4,0,null,null,1,"ion-icon",[["name","notifications"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(5,147456,null,0,J.a,[T.a,t.t,t.V],{name:[0,"name"]},null),(n()(),t._55(6,null,[" ","\n                        "," "])),t._49(7,2),t._48(8,{$a:0}),t._47(131072,W.a,[G.a,t.j]),(n()(),t._55(-1,null,["\n                    "]))],function(n,l){n(l,1,0,"light");n(l,5,0,"notifications")},function(n,l){n(l,4,0,t._44(l,5)._hidden);n(l,6,0,t._56(l,6,0,n(l,7,0,t._44(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")),t._56(l,6,1,t._44(l,9).transform("addon.mod_chat.messageyoubeep",n(l,8,0,l.parent.parent.context.$implicit.beepWho))))})}function View_AddonModChatSessionMessagesPage_9(n){return t._57(0,[(n()(),t._31(0,0,null,null,12,"ion-badge",[["color","info"],["text-wrap",""]],null,null,null,null,null)),t._30(1,16384,null,0,F.a,[T.a,t.t,t.V],{color:[0,"color"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(3,0,null,null,8,"span",[],null,null,null,null,null)),(n()(),t._31(4,0,null,null,1,"core-icon",[["name","fa-asterisk"]],null,null,null,H.b,H.a)),t._30(5,704512,null,0,N.a,[t.t,T.a],{name:[0,"name"]},null),(n()(),t._55(6,null,[" ","\n                            "])),t._49(7,2),(n()(),t._31(8,0,null,null,3,"strong",[],null,null,null,null,null)),(n()(),t._55(9,null,[""," "])),(n()(),t._31(10,16777216,null,null,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),t._30(11,540672,null,0,K.a,[t.t,c.a,_.a,q.b,G.a,z.a,B.b,Q.b,X.b,Y.a,Z.b,nn.a,[2,ln.a],[2,en.a],[2,tn.a],an.a,un.b,sn.a,on.a,rn.a,t._11,_n.a],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null),(n()(),t._55(-1,null,["\n                    "]))],function(n,l){var e=l.component;n(l,1,0,"info");n(l,5,0,"fa-asterisk");n(l,11,0,l.parent.parent.context.$implicit.message,"module",e.cmId,e.courseId)},function(n,l){n(l,6,0,t._56(l,6,0,n(l,7,0,t._44(l.parent.parent.parent,0),1e3*l.parent.parent.context.$implicit.timestamp,"strftimetime")));n(l,9,0,l.parent.parent.context.$implicit.userfullname)})}function View_AddonModChatSessionMessagesPage_3(n){return t._57(0,[(n()(),t._31(0,0,null,null,19,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(n()(),t._55(-1,null,["\n                    "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_4)),t._30(3,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n\n                    "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_5)),t._30(6,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n\n                    "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_6)),t._30(9,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n\n                    "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_7)),t._30(12,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n\n                    "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_8)),t._30(15,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n\n                    "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_9)),t._30(18,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n                "]))],function(n,l){var e=l.component;n(l,3,0,l.parent.context.$implicit.issystem&&"enter"==l.parent.context.$implicit.message);n(l,6,0,l.parent.context.$implicit.issystem&&"exit"==l.parent.context.$implicit.message);n(l,9,0,"all"==l.parent.context.$implicit.beep);n(l,12,0,l.parent.context.$implicit.userid!=e.currentUserId&&l.parent.context.$implicit.beep==e.currentUserId);n(l,15,0,l.parent.context.$implicit.userid==e.currentUserId&&l.parent.context.$implicit.beep&&"all"!=l.parent.context.$implicit.beep);n(l,18,0,!l.parent.context.$implicit.issystem&&!l.parent.context.$implicit.beep)},null)}function View_AddonModChatSessionMessagesPage_11(n){return t._57(0,[(n()(),t._31(0,0,null,null,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,dn.b,dn.a)),t._30(1,770048,null,0,pn.a,[ln.a,c.a,B.b,Z.b,un.b,[2,tn.a]],{user:[0,"user"],linkProfile:[1,"linkProfile"]},null),t._30(2,16384,null,0,gn.a,[],null,null)],function(n,l){n(l,1,0,l.parent.parent.context.$implicit,!1)},null)}function View_AddonModChatSessionMessagesPage_12(n){return t._57(0,[(n()(),t._31(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t._55(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.parent.context.$implicit.userfullname)})}function View_AddonModChatSessionMessagesPage_13(n){return t._57(0,[(n()(),t._31(0,0,null,null,0,"div",[["class","tail"]],null,null,null,null,null))],null,null)}function View_AddonModChatSessionMessagesPage_10(n){return t._57(0,[(n()(),t._31(0,0,null,null,30,"ion-item",[["class","addon-message item item-block"],["text-wrap",""]],[[2,"addon-message-mine",null],[2,"addon-message-not-mine",null],[2,"addon-message-no-user",null]],null,null,mn.b,mn.a)),t._30(1,1097728,null,3,fn.a,[hn.a,T.a,t.t,t.V,[2,Mn.a]],null,null),t._52(335544320,1,{contentLabel:0}),t._52(603979776,2,{_buttons:1}),t._52(603979776,3,{_icons:1}),t._30(5,16384,null,0,bn.a,[],null,null),(n()(),t._55(-1,2,["\n                    "])),(n()(),t._55(-1,2,["\n                    "])),(n()(),t._31(8,0,null,2,12,"h2",[["class","addon-message-user"]],null,null,null,null,null)),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_11)),t._30(11,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_12)),t._30(14,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(16,0,null,null,3,"ion-note",[],null,null,null,null,null)),t._30(17,16384,null,0,xn.a,[T.a,t.t,t.V],null,null),(n()(),t._55(18,null,["",""])),t._49(19,2),(n()(),t._55(-1,null,["\n                    "])),(n()(),t._55(-1,2,["\n\n                    "])),(n()(),t._31(22,0,null,2,4,"p",[["class","addon-message-text"]],null,null,null,null,null)),(n()(),t._55(-1,null,["\n                        "])),(n()(),t._31(24,16777216,null,null,1,"core-format-text",[["contextLevel","module"]],null,null,null,null,null)),t._30(25,540672,null,0,K.a,[t.t,c.a,_.a,q.b,G.a,z.a,B.b,Q.b,X.b,Y.a,Z.b,nn.a,[2,ln.a],[2,en.a],[2,tn.a],an.a,un.b,sn.a,on.a,rn.a,t._11,_n.a],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],courseId:[3,"courseId"]},null),(n()(),t._55(-1,null,["\n                    "])),(n()(),t._55(-1,2,["\n                    "])),(n()(),t._26(16777216,null,2,1,null,View_AddonModChatSessionMessagesPage_13)),t._30(29,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,2,["\n                "]))],function(n,l){var e=l.component;n(l,11,0,l.parent.context.$implicit.showUserData);n(l,14,0,l.parent.context.$implicit.showUserData);n(l,25,0,l.parent.context.$implicit.message,"module",e.cmId,e.courseId);n(l,29,0,l.parent.context.$implicit.showTail)},function(n,l){var e=l.component;n(l,0,0,l.parent.context.$implicit.userid==e.currentUserId,l.parent.context.$implicit.userid!=e.currentUserId,!l.parent.context.$implicit.showUserData);n(l,18,0,t._56(l,18,0,n(l,19,0,t._44(l.parent.parent,0),1e3*l.parent.context.$implicit.timestamp,"strftimetime")))})}function View_AddonModChatSessionMessagesPage_1(n){return t._57(0,[(n()(),t._31(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),t._55(-1,null,["\n                "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_2)),t._30(3,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n\n                "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_3)),t._30(6,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n\n                "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_10)),t._30(9,16384,null,0,cn.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,null,["\n            "]))],function(n,l){n(l,3,0,l.context.$implicit.showDate);n(l,6,0,l.context.$implicit.special);n(l,9,0,!l.context.$implicit.special)},null)}function View_AddonModChatSessionMessagesPage_0(n){return t._57(0,[t._47(0,In.a,[X.b,Pn.a]),(n()(),t._31(1,0,null,null,12,"ion-header",[],null,null,null,null,null)),t._30(2,16384,null,0,wn.a,[T.a,t.t,t.V,[2,Sn.a]],null,null),(n()(),t._55(-1,null,["\n    "])),(n()(),t._31(4,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,vn.b,vn.a)),t._30(5,49152,null,0,Vn.a,[$n.a,[2,Sn.a],[2,ln.a],T.a,t.t,t.V],null,null),t._30(6,212992,null,0,Cn.a,[Vn.a,z.a,G.a,un.b],null,null),(n()(),t._55(-1,3,["\n        "])),(n()(),t._31(8,0,null,3,3,"ion-title",[],null,null,null,An.b,An.a)),t._30(9,49152,null,0,yn.a,[T.a,t.t,t.V,[2,Un.a],[2,Vn.a]],null,null),(n()(),t._55(10,0,["",""])),t._47(131072,W.a,[G.a,t.j]),(n()(),t._55(-1,3,["\n    "])),(n()(),t._55(-1,null,["\n"])),(n()(),t._55(-1,null,["\n"])),(n()(),t._31(15,0,null,null,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,kn.b,kn.a)),t._30(16,4374528,null,0,en.a,[T.a,z.a,jn.a,t.t,t.V,$n.a,Rn.a,t.M,[2,Sn.a],[2,ln.a]],null,null),(n()(),t._55(-1,1,["\n    "])),(n()(),t._31(18,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;if("ionRefresh"===l){t=!1!==n.component.refreshMessages(e)&&t}return t},null,null)),t._30(19,212992,null,0,On.a,[z.a,en.a,t.M,Dn.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),t._55(-1,null,["\n        "])),(n()(),t._31(21,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Ln.b,Ln.a)),t._30(22,114688,null,0,En.a,[On.a,T.a],{pullingText:[0,"pullingText"]},null),t._47(131072,W.a,[G.a,t.j]),(n()(),t._55(-1,null,["\n    "])),(n()(),t._55(-1,1,["\n    "])),(n()(),t._31(26,0,null,1,9,"core-loading",[],null,null,null,Fn.b,Fn.a)),t._30(27,638976,null,0,Tn.a,[G.a,t.t,un.b,B.b],{hideUntil:[0,"hideUntil"]},null),(n()(),t._55(-1,0,["\n        "])),(n()(),t._31(29,0,null,0,5,"ion-list",[["aria-live","polite"],["class","addon-messages-discussion-container safe-area-page"]],null,null,null,null,null)),t._30(30,16384,null,0,Hn.a,[T.a,t.t,t.V,z.a,Dn.l,jn.a],null,null),(n()(),t._55(-1,null,["\n            "])),(n()(),t._26(16777216,null,null,1,null,View_AddonModChatSessionMessagesPage_1)),t._30(33,802816,null,0,cn.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._55(-1,null,["\n        "])),(n()(),t._55(-1,0,["\n    "])),(n()(),t._55(-1,1,["\n"])),(n()(),t._55(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,6,0);n(l,19,0,e.loaded);n(l,22,0,t._34(1,"",t._56(l,22,0,t._44(l,23).transform("core.pulltorefresh")),""));n(l,27,0,e.loaded);n(l,33,0,e.messages)},function(n,l){n(l,4,0,t._44(l,5)._hidden,t._44(l,5)._sbPadding);n(l,10,0,t._56(l,10,0,t._44(l,11).transform("addon.mod_chat.messages")));n(l,15,0,t._44(l,16).statusbarPadding,t._44(l,16)._hasRefresher);n(l,18,0,"inactive"!==t._44(l,19).state,t._44(l,19)._top);n(l,21,0,t._44(l,22).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var t=e(0),a=e(5),u=e(3),s=e(26),o=e(32),i=e(108),r=e(736),_=e(4),c=e(1),d=e(46),p=e(281),g=e(740),m=this&&this.__decorate||function(n,l,e,t){var a,u=arguments.length,s=u<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,l,e,t);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(u<3?a(s):u>3?a(l,e,s):a(l,e))||s);return u>3&&s&&Object.defineProperty(l,e,s),s},f=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)},h=function(){function AddonModChatSessionMessagesPage(n,l,e,t,a,u){this.domUtils=l,this.chatProvider=e,this.chatHelper=a,this.userProvider=u,this.messages=[],this.loaded=!1,this.courseId=n.get("courseId"),this.chatId=n.get("chatId"),this.groupId=n.get("groupId"),this.sessionStart=n.get("sessionStart"),this.sessionEnd=n.get("sessionEnd"),this.cmId=n.get("cmId"),this.currentUserId=t.getCurrentSiteUserId(),this.fetchMessages()}return AddonModChatSessionMessagesPage.prototype.fetchMessages=function(){var n=this;return this.chatProvider.getSessionMessages(this.chatId,this.sessionStart,this.sessionEnd,this.groupId).then(function(l){return n.chatProvider.getMessagesUserData(l,n.courseId).then(function(l){if(n.messages=l,l.length){for(var e=function(l){var e=n.messages[l];n.chatHelper.formatMessage(n.currentUserId,e,l>0?n.messages[l-1]:null),e.beep&&e.beep!=n.currentUserId+""&&n.getUserFullname(e.beep).then(function(n){e.beepWho=n})},t=0;t<n.messages.length;t++)e(t);n.messages[n.messages.length-1].showTail=!0}})}).catch(function(l){n.domUtils.showErrorModalDefault(l,"core.errorloadingcontent",!0)}).finally(function(){n.loaded=!0})},AddonModChatSessionMessagesPage.prototype.getUserFullname=function(n){return isNaN(parseInt(n,10))?Promise.resolve(n):this.userProvider.getProfile(parseInt(n,10),this.courseId,!0).then(function(n){return n.fullname}).catch(function(){return n})},AddonModChatSessionMessagesPage.prototype.refreshMessages=function(n){var l=this;this.chatProvider.invalidateSessionMessages(this.chatId,this.sessionStart,this.groupId).finally(function(){l.fetchMessages().finally(function(){n.complete()})})},AddonModChatSessionMessagesPage=m([Object(t.m)({selector:"page-addon-mod-chat-session-messages",templateUrl:"session-messages.html"}),f("design:paramtypes",[a.t,_.a,p.a,c.a,g.a,d.a])],AddonModChatSessionMessagesPage)}(),M=this&&this.__decorate||function(n,l,e,t){var a,u=arguments.length,s=u<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,l,e,t);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(u<3?a(s):u>3?a(l,e,s):a(l,e))||s);return u>3&&s&&Object.defineProperty(l,e,s),s},b=function(){function AddonModChatSessionMessagesPageModule(){}return AddonModChatSessionMessagesPageModule=M([Object(t.I)({declarations:[h],imports:[s.a,o.a,i.a,r.a,a.l.forChild(h),u.b.forChild()]})],AddonModChatSessionMessagesPageModule)}(),x=e(1528),I=e(1529),P=e(1530),w=e(1531),S=e(1532),v=e(1533),V=e(1534),$=e(1535),C=e(1536),A=e(1537),y=e(1538),U=e(1539),k=e(1540),j=e(1543),R=e(1544),O=e(1541),D=e(1542),L=e(1545),E=e(1563),F=e(145),T=e(8),H=e(84),N=e(77),W=e(25),G=e(18),J=e(48),K=e(49),q=e(11),z=e(15),B=e(2),Q=e(22),X=e(6),Y=e(17),Z=e(10),nn=e(14),ln=e(20),en=e(29),tn=e(28),an=e(43),un=e(9),sn=e(41),on=e(30),rn=e(36),_n=e(39),cn=e(7),dn=e(216),pn=e(184),gn=e(162),mn=e(31),fn=e(21),hn=e(19),Mn=e(27),bn=e(33),xn=e(251),In=e(230),Pn=e(24),wn=e(373),Sn=e(40),vn=e(723),Vn=e(214),$n=e(35),Cn=e(472),An=e(724),yn=e(317),Un=e(250),kn=e(183),jn=e(34),Rn=e(109),On=e(161),Dn=e(45),Ln=e(215),En=e(175),Fn=e(56),Tn=e(53),Hn=e(89),Nn=e(70),Wn=t._29({encapsulation:2,styles:[],data:{}}),Gn=t._27("page-addon-mod-chat-session-messages",h,function View_AddonModChatSessionMessagesPage_Host_0(n){return t._57(0,[(n()(),t._31(0,0,null,null,1,"page-addon-mod-chat-session-messages",[],null,null,null,View_AddonModChatSessionMessagesPage_0,Wn)),t._30(1,49152,null,0,h,[Nn.a,_.a,p.a,c.a,g.a,d.a],null,null)],null,null)},{},{},[]),Jn=e(23),Kn=e(369),qn=e(370),zn=e(372),Bn=e(371),Qn=e(471),Xn=e(722),Yn=e(273),Zn=e(76),nl=e(272);e.d(l,"AddonModChatSessionMessagesPageModuleNgFactory",function(){return ll});var ll=t._28(b,[],function(n){return t._40([t._41(512,t.o,t._21,[[8,[x.a,I.a,P.a,w.a,S.a,v.a,V.a,$.a,C.a,A.a,y.a,U.a,k.a,j.a,R.a,O.a,D.a,L.a,E.a,Gn]],[3,t.o],t.K]),t._41(4608,cn.m,cn.l,[t.G,[2,cn.w]]),t._41(4608,Jn.x,Jn.x,[]),t._41(4608,Jn.d,Jn.d,[]),t._41(4608,Kn.b,Kn.a,[]),t._41(4608,qn.a,qn.b,[]),t._41(4608,zn.b,zn.a,[]),t._41(4608,Bn.b,Bn.a,[]),t._41(4608,G.a,G.a,[Qn.a,Kn.b,qn.a,zn.b,Bn.b,G.b,G.c]),t._41(512,cn.b,cn.b,[]),t._41(512,Jn.v,Jn.v,[]),t._41(512,Jn.i,Jn.i,[]),t._41(512,Jn.s,Jn.s,[]),t._41(512,Xn.a,Xn.a,[]),t._41(512,u.b,u.b,[]),t._41(512,o.a,o.a,[]),t._41(512,i.a,i.a,[]),t._41(512,s.a,s.a,[]),t._41(512,Yn.a,Yn.a,[]),t._41(512,Zn.a,Zn.a,[]),t._41(512,r.a,r.a,[]),t._41(512,Xn.b,Xn.b,[]),t._41(512,b,b,[]),t._41(256,G.c,void 0,[]),t._41(256,G.b,void 0,[]),t._41(256,nl.a,h,[])])})}});