webpackJsonp([131],{1987:function(n,l,e){"use strict";function View_AddonCompetencyPlanListPage_1(n){return t._57(0,[(n()(),t._31(0,0,null,null,3,"core-empty-box",[["icon","map"]],null,null,null,R.b,R.a)),t._30(1,49152,null,0,k.a,[],{message:[0,"message"],icon:[1,"icon"]},null),t._47(131072,M.a,[T.a,t.j]),(n()(),t._55(-1,0,["\n            "]))],function(n,l){n(l,1,0,t._56(l,1,0,t._44(l,2).transform("addon.competency.noplanswerecreated")),"map")},null)}function View_AddonCompetencyPlanListPage_4(n){return t._57(0,[(n()(),t._31(0,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),t._55(1,null,["",": ",""])),t._47(131072,M.a,[T.a,t.j]),t._49(3,2)],null,function(n,l){n(l,1,0,t._56(l,1,0,t._44(l,2).transform("addon.competency.duedate")),t._56(l,1,1,n(l,3,0,t._44(l.parent.parent.parent,0),1e3*l.parent.context.$implicit.duedate,"strftimedatetimeshort")))})}function View_AddonCompetencyPlanListPage_3(n){return t._57(0,[(n()(),t._31(0,0,null,null,16,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openPlan(n.context.$implicit.id)&&t}return t},$.b,$.a)),t._30(1,1097728,null,3,E.a,[U.a,S.a,t.t,t.V,[2,D.a]],null,null),t._52(335544320,2,{contentLabel:0}),t._52(603979776,3,{_buttons:1}),t._52(603979776,4,{_icons:1}),t._30(5,16384,null,0,F.a,[],null,null),(n()(),t._55(-1,2,["\n                    "])),(n()(),t._31(7,0,null,2,1,"h2",[],null,null,null,null,null)),(n()(),t._55(8,null,["",""])),(n()(),t._55(-1,2,["\n                    "])),(n()(),t._26(16777216,null,2,1,null,View_AddonCompetencyPlanListPage_4)),t._30(11,16384,null,0,H.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,2,["\n                    "])),(n()(),t._31(13,0,null,4,2,"ion-badge",[["item-end",""],["text-wrap",""]],null,null,null,null,null)),t._30(14,16384,null,0,N.a,[S.a,t.t,t.V],{color:[0,"color"]},null),(n()(),t._55(15,null,["",""])),(n()(),t._55(-1,2,["\n                "]))],function(n,l){n(l,11,0,l.context.$implicit.duedate>0);n(l,14,0,l.context.$implicit.statuscolor)},function(n,l){n(l,0,0,l.context.$implicit.name,l.context.$implicit.id==l.component.planId);n(l,8,0,l.context.$implicit.name);n(l,15,0,l.context.$implicit.statusname)})}function View_AddonCompetencyPlanListPage_2(n){return t._57(0,[(n()(),t._31(0,0,null,null,5,"ion-list",[["no-margin",""]],null,null,null,null,null)),t._30(1,16384,null,0,G.a,[S.a,t.t,t.V,J.a,K.l,q.a],null,null),(n()(),t._55(-1,null,["\n                "])),(n()(),t._26(16777216,null,null,1,null,View_AddonCompetencyPlanListPage_3)),t._30(4,802816,null,0,H.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(n()(),t._55(-1,null,["\n            "]))],function(n,l){n(l,4,0,l.component.plans)},null)}function View_AddonCompetencyPlanListPage_0(n){return t._57(0,[t._47(0,z.a,[B.a,Q.a]),t._52(402653184,1,{splitviewCtrl:0}),(n()(),t._31(2,0,null,null,12,"ion-header",[],null,null,null,null,null)),t._30(3,16384,null,0,W.a,[S.a,t.t,t.V,[2,X.a]],null,null),(n()(),t._55(-1,null,["\n    "])),(n()(),t._31(5,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Y.b,Y.a)),t._30(6,49152,null,0,Z.a,[nn.a,[2,X.a],[2,ln.a],S.a,t.t,t.V],null,null),t._30(7,212992,null,0,en.a,[Z.a,J.a,T.a,tn.a],null,null),(n()(),t._55(-1,3,["\n        "])),(n()(),t._31(9,0,null,3,3,"ion-title",[],null,null,null,an.b,an.a)),t._30(10,49152,null,0,on.a,[S.a,t.t,t.V,[2,un.a],[2,Z.a]],null,null),(n()(),t._55(11,0,["",""])),t._47(131072,M.a,[T.a,t.j]),(n()(),t._55(-1,3,["\n    "])),(n()(),t._55(-1,null,["\n"])),(n()(),t._55(-1,null,["\n"])),(n()(),t._31(16,0,null,null,24,"core-split-view",[],null,null,null,cn.b,cn.a)),t._30(17,245760,[[1,4]],0,_.a,[[2,ln.a],t.t,rn.a,J.a,T.a],null,null),(n()(),t._55(-1,0,["\n    "])),(n()(),t._31(19,0,null,0,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,_n.b,_n.a)),t._30(20,4374528,null,0,sn.a,[S.a,J.a,q.a,t.t,t.V,nn.a,dn.a,t.M,[2,X.a],[2,ln.a]],null,null),(n()(),t._55(-1,1,["\n        "])),(n()(),t._31(22,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;if("ionRefresh"===l){t=!1!==n.component.refreshLearningPlans(e)&&t}return t},null,null)),t._30(23,212992,null,0,pn.a,[J.a,sn.a,t.M,K.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),t._55(-1,null,["\n            "])),(n()(),t._31(25,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,fn.b,fn.a)),t._30(26,114688,null,0,mn.a,[pn.a,S.a],{pullingText:[0,"pullingText"]},null),t._47(131072,M.a,[T.a,t.j]),(n()(),t._55(-1,null,["\n        "])),(n()(),t._55(-1,1,["\n        "])),(n()(),t._31(30,0,null,1,8,"core-loading",[],null,null,null,gn.b,gn.a)),t._30(31,638976,null,0,Pn.a,[T.a,t.t,tn.a,hn.a],{hideUntil:[0,"hideUntil"]},null),(n()(),t._55(-1,0,["\n            "])),(n()(),t._26(16777216,null,0,1,null,View_AddonCompetencyPlanListPage_1)),t._30(34,16384,null,0,H.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,0,["\n            "])),(n()(),t._26(16777216,null,0,1,null,View_AddonCompetencyPlanListPage_2)),t._30(37,16384,null,0,H.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(n()(),t._55(-1,0,["\n        "])),(n()(),t._55(-1,1,["\n    "])),(n()(),t._55(-1,0,["\n"])),(n()(),t._55(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,7,0),n(l,17,0);n(l,23,0,e.plansLoaded);n(l,26,0,t._34(1,"",t._56(l,26,0,t._44(l,27).transform("core.pulltorefresh")),""));n(l,31,0,e.plansLoaded);n(l,34,0,0==e.plans.length);n(l,37,0,e.plans.length>0)},function(n,l){n(l,5,0,t._44(l,6)._hidden,t._44(l,6)._sbPadding);n(l,11,0,t._56(l,11,0,t._44(l,12).transform("addon.competency.userplans")));n(l,19,0,t._44(l,20).statusbarPadding,t._44(l,20)._hasRefresher);n(l,22,0,"inactive"!==t._44(l,23).state,t._44(l,23)._top);n(l,25,0,t._44(l,26).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var t=e(0),a=e(5),o=e(3),u=e(26),i=e(32),c=e(106),r=e(4),_=e(28),s=e(165),d=e(375),p=this&&this.__decorate||function(n,l,e,t){var a,o=arguments.length,u=o<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,l,e,t);else for(var i=n.length-1;i>=0;i--)(a=n[i])&&(u=(o<3?a(u):o>3?a(l,e,u):a(l,e))||u);return o>3&&u&&Object.defineProperty(l,e,u),u},f=this&&this.__metadata||function(n,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,l)},m=function(){function AddonCompetencyPlanListPage(n,l,e,t){this.domUtils=l,this.competencyProvider=e,this.competencyHelperProvider=t,this.plansLoaded=!1,this.plans=[],this.userId=n.get("userId")}return AddonCompetencyPlanListPage.prototype.ionViewDidLoad=function(){var n=this;this.planId&&this.openPlan(this.planId),this.fetchLearningPlans().then(function(){!n.planId&&n.splitviewCtrl.isOn()&&n.plans.length>0&&n.openPlan(n.plans[0].id)}).finally(function(){n.plansLoaded=!0})},AddonCompetencyPlanListPage.prototype.fetchLearningPlans=function(){var n=this;return this.competencyProvider.getLearningPlans(this.userId).then(function(l){l.forEach(function(l){switch(l.statusname=n.competencyHelperProvider.getPlanStatusName(l.status),l.status){case s.a.STATUS_ACTIVE:l.statuscolor="success";break;case s.a.STATUS_COMPLETE:l.statuscolor="danger";break;default:l.statuscolor="warning"}}),n.plans=l}).catch(function(l){n.domUtils.showErrorModalDefault(l,"Error getting learning plans data.")})},AddonCompetencyPlanListPage.prototype.refreshLearningPlans=function(n){var l=this;this.competencyProvider.invalidateLearningPlans(this.userId).finally(function(){l.fetchLearningPlans().finally(function(){n.complete()})})},AddonCompetencyPlanListPage.prototype.openPlan=function(n){this.planId=n,this.splitviewCtrl.push("AddonCompetencyPlanPage",{planId:n})},p([Object(t._9)(_.a),f("design:type",_.a)],AddonCompetencyPlanListPage.prototype,"splitviewCtrl",void 0),AddonCompetencyPlanListPage=p([Object(t.m)({selector:"page-addon-competency-planlist",templateUrl:"planlist.html"}),f("design:paramtypes",[a.t,r.a,s.a,d.a])],AddonCompetencyPlanListPage)}(),g=this&&this.__decorate||function(n,l,e,t){var a,o=arguments.length,u=o<3?l:null===t?t=Object.getOwnPropertyDescriptor(l,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,l,e,t);else for(var i=n.length-1;i>=0;i--)(a=n[i])&&(u=(o<3?a(u):o>3?a(l,e,u):a(l,e))||u);return o>3&&u&&Object.defineProperty(l,e,u),u},P=function(){function AddonCompetencyPlanListPageModule(){}return AddonCompetencyPlanListPageModule=g([Object(t.I)({declarations:[m],imports:[u.a,i.a,c.a,a.l.forChild(m),o.b.forChild()]})],AddonCompetencyPlanListPageModule)}(),h=e(1522),y=e(1523),b=e(1524),L=e(1525),v=e(1526),C=e(1527),w=e(1528),A=e(1529),V=e(1530),I=e(1531),j=e(1532),x=e(1533),O=e(1534),R=e(124),k=e(114),M=e(25),T=e(18),$=e(31),E=e(21),U=e(19),S=e(8),D=e(27),F=e(33),H=e(7),N=e(143),G=e(86),J=e(16),K=e(44),q=e(34),z=e(228),B=e(6),Q=e(24),W=e(371),X=e(39),Y=e(723),Z=e(212),nn=e(35),ln=e(20),en=e(473),tn=e(9),an=e(724),on=e(314),un=e(247),cn=e(474),rn=e(72),_n=e(181),sn=e(29),dn=e(107),pn=e(159),fn=e(213),mn=e(173),gn=e(54),Pn=e(51),hn=e(2),yn=e(69),bn=t._29({encapsulation:2,styles:[],data:{}}),Ln=t._27("page-addon-competency-planlist",m,function View_AddonCompetencyPlanListPage_Host_0(n){return t._57(0,[(n()(),t._31(0,0,null,null,1,"page-addon-competency-planlist",[],null,null,null,View_AddonCompetencyPlanListPage_0,bn)),t._30(1,49152,null,0,m,[yn.a,r.a,s.a,d.a],null,null)],null,null)},{},{},[]),vn=e(23),Cn=e(367),wn=e(368),An=e(370),Vn=e(369),In=e(472),jn=e(722),xn=e(270);e.d(l,"AddonCompetencyPlanListPageModuleNgFactory",function(){return On});var On=t._28(P,[],function(n){return t._40([t._41(512,t.o,t._21,[[8,[h.a,y.a,b.a,L.a,v.a,C.a,w.a,A.a,V.a,I.a,j.a,x.a,O.a,Ln]],[3,t.o],t.K]),t._41(4608,H.m,H.l,[t.G,[2,H.w]]),t._41(4608,vn.x,vn.x,[]),t._41(4608,vn.d,vn.d,[]),t._41(4608,Cn.b,Cn.a,[]),t._41(4608,wn.a,wn.b,[]),t._41(4608,An.b,An.a,[]),t._41(4608,Vn.b,Vn.a,[]),t._41(4608,T.a,T.a,[In.a,Cn.b,wn.a,An.b,Vn.b,T.b,T.c]),t._41(512,H.b,H.b,[]),t._41(512,vn.v,vn.v,[]),t._41(512,vn.i,vn.i,[]),t._41(512,vn.s,vn.s,[]),t._41(512,jn.a,jn.a,[]),t._41(512,o.b,o.b,[]),t._41(512,i.a,i.a,[]),t._41(512,c.a,c.a,[]),t._41(512,u.a,u.a,[]),t._41(512,jn.b,jn.b,[]),t._41(512,P,P,[]),t._41(256,T.c,void 0,[]),t._41(256,T.b,void 0,[]),t._41(256,xn.a,m,[])])})}});