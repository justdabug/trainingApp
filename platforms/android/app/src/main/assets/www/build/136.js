webpackJsonp([136],{1983:function(e,n,t){"use strict";function View_AddonCompetencyCompetenciesPage_2(e){return l._57(0,[(e()(),l._31(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),l._30(1,16384,null,0,R.a,[O.a,l.t,l.V],{color:[0,"color"]},null),(e()(),l._55(2,null,["",""]))],function(e,n){e(n,1,0,n.parent.context.$implicit.usercompetency.proficiency?"success":"danger")},function(e,n){e(n,2,0,n.parent.context.$implicit.usercompetency.gradename)})}function View_AddonCompetencyCompetenciesPage_3(e){return l._57(0,[(e()(),l._31(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),l._30(1,16384,null,0,R.a,[O.a,l.t,l.V],{color:[0,"color"]},null),(e()(),l._55(2,null,["",""]))],function(e,n){e(n,1,0,n.parent.context.$implicit.usercompetencycourse.proficiency?"success":"danger")},function(e,n){e(n,2,0,n.parent.context.$implicit.usercompetencycourse.gradename)})}function View_AddonCompetencyCompetenciesPage_1(e){return l._57(0,[(e()(),l._31(0,0,null,null,17,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(e,n,t){var l=!0;if("click"===n){l=!1!==e.component.openCompetency(e.context.$implicit.competency.id)&&l}return l},$.b,$.a)),l._30(1,1097728,null,3,L.a,[M.a,O.a,l.t,l.V,[2,k.a]],null,null),l._52(335544320,2,{contentLabel:0}),l._52(603979776,3,{_buttons:1}),l._52(603979776,4,{_icons:1}),l._30(5,16384,null,0,U.a,[],null,null),(e()(),l._55(-1,2,["\n                    "])),(e()(),l._31(7,0,null,2,3,"h2",[],null,null,null,null,null)),(e()(),l._55(8,null,[""," "])),(e()(),l._31(9,0,null,null,1,"em",[],null,null,null,null,null)),(e()(),l._55(10,null,["",""])),(e()(),l._55(-1,2,["\n                    "])),(e()(),l._26(16777216,null,4,1,null,View_AddonCompetencyCompetenciesPage_2)),l._30(13,16384,null,0,D.k,[l._11,l._6],{ngIf:[0,"ngIf"]},null),(e()(),l._55(-1,2,["\n                    "])),(e()(),l._26(16777216,null,4,1,null,View_AddonCompetencyCompetenciesPage_3)),l._30(16,16384,null,0,D.k,[l._11,l._6],{ngIf:[0,"ngIf"]},null),(e()(),l._55(-1,2,["\n                "]))],function(e,n){e(n,13,0,n.context.$implicit.usercompetency);e(n,16,0,n.context.$implicit.usercompetencycourse)},function(e,n){e(n,0,0,n.context.$implicit.competency.shortname,n.context.$implicit.competency.id==n.component.competencyId);e(n,8,0,n.context.$implicit.competency.shortname);e(n,10,0,n.context.$implicit.competency.idnumber)})}function View_AddonCompetencyCompetenciesPage_0(e){return l._57(0,[l._52(402653184,1,{splitviewCtrl:0}),(e()(),l._31(1,0,null,null,11,"ion-header",[],null,null,null,null,null)),l._30(2,16384,null,0,E.a,[O.a,l.t,l.V,[2,F.a]],null,null),(e()(),l._55(-1,null,["\n    "])),(e()(),l._31(4,0,null,null,7,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,T.b,T.a)),l._30(5,49152,null,0,G.a,[H.a,[2,F.a],[2,J.a],O.a,l.t,l.V],null,null),l._30(6,212992,null,0,K.a,[G.a,N.a,q.a,z.a],null,null),(e()(),l._55(-1,3,["\n        "])),(e()(),l._31(8,0,null,3,2,"ion-title",[],null,null,null,B.b,B.a)),l._30(9,49152,null,0,Q.a,[O.a,l.t,l.V,[2,S.a],[2,G.a]],null,null),(e()(),l._55(10,0,["",""])),(e()(),l._55(-1,3,["\n    "])),(e()(),l._55(-1,null,["\n"])),(e()(),l._55(-1,null,["\n"])),(e()(),l._31(14,0,null,null,25,"core-split-view",[],null,null,null,W.b,W.a)),l._30(15,245760,[[1,4]],0,r.a,[[2,J.a],l.t,X.a,N.a,q.a],null,null),(e()(),l._55(-1,0,["\n    "])),(e()(),l._31(17,0,null,0,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Y.b,Y.a)),l._30(18,4374528,null,0,Z.a,[O.a,N.a,ee.a,l.t,l.V,H.a,ne.a,l.M,[2,F.a],[2,J.a]],null,null),(e()(),l._55(-1,1,["\n        "])),(e()(),l._31(20,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,n,t){var l=!0;if("ionRefresh"===n){l=!1!==e.component.refreshCompetencies(t)&&l}return l},null,null)),l._30(21,212992,null,0,te.a,[N.a,Z.a,l.M,le.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),l._55(-1,null,["\n            "])),(e()(),l._31(23,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,oe.b,oe.a)),l._30(24,114688,null,0,ce.a,[te.a,O.a],{pullingText:[0,"pullingText"]},null),l._47(131072,ie.a,[q.a,l.j]),(e()(),l._55(-1,null,["\n        "])),(e()(),l._55(-1,1,["\n        "])),(e()(),l._31(28,0,null,1,9,"core-loading",[],null,null,null,ae.b,ae.a)),l._30(29,638976,null,0,ue.a,[q.a,l.t,z.a,re.a],{hideUntil:[0,"hideUntil"]},null),(e()(),l._55(-1,0,["\n            "])),(e()(),l._31(31,0,null,0,5,"ion-list",[],null,null,null,null,null)),l._30(32,16384,null,0,se.a,[O.a,l.t,l.V,N.a,le.l,ee.a],null,null),(e()(),l._55(-1,null,["\n                "])),(e()(),l._26(16777216,null,null,1,null,View_AddonCompetencyCompetenciesPage_1)),l._30(35,802816,null,0,D.j,[l._11,l._6,l.E],{ngForOf:[0,"ngForOf"]},null),(e()(),l._55(-1,null,["\n            "])),(e()(),l._55(-1,0,["\n        "])),(e()(),l._55(-1,1,["\n    "])),(e()(),l._55(-1,0,["\n"]))],function(e,n){var t=n.component;e(n,6,0),e(n,15,0);e(n,21,0,t.competenciesLoaded);e(n,24,0,l._34(1,"",l._56(n,24,0,l._44(n,25).transform("core.pulltorefresh")),""));e(n,29,0,t.competenciesLoaded);e(n,35,0,t.competencies)},function(e,n){var t=n.component;e(n,4,0,l._44(n,5)._hidden,l._44(n,5)._sbPadding);e(n,10,0,t.title);e(n,17,0,l._44(n,18).statusbarPadding,l._44(n,18)._hasRefresher);e(n,20,0,"inactive"!==l._44(n,21).state,l._44(n,21)._top);e(n,23,0,l._44(n,24).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),o=t(5),c=t(3),i=t(26),a=t(32),u=t(4),r=t(28),s=t(165),p=this&&this.__decorate||function(e,n,t,l){var o,c=arguments.length,i=c<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,l);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(c<3?o(i):c>3?o(n,t,i):o(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},d=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},_=function(){function AddonCompetencyCompetenciesPage(e,n,t,l){this.translate=n,this.domUtils=t,this.competencyProvider=l,this.competenciesLoaded=!1,this.competencies=[],this.planId=e.get("planId"),this.courseId=e.get("courseId"),this.competencyId=e.get("competencyId"),this.userId=e.get("userId")}return AddonCompetencyCompetenciesPage.prototype.ionViewDidLoad=function(){var e=this;this.competencyId&&this.openCompetency(this.competencyId),this.fetchCompetencies().then(function(){!e.competencyId&&e.splitviewCtrl.isOn()&&e.competencies.length>0&&e.openCompetency(e.competencies[0].competency.id)}).finally(function(){e.competenciesLoaded=!0})},AddonCompetencyCompetenciesPage.prototype.fetchCompetencies=function(){var e=this;return(this.planId?this.competencyProvider.getLearningPlan(this.planId):this.courseId?this.competencyProvider.getCourseCompetencies(this.courseId,this.userId):Promise.reject(null)).then(function(n){if(e.planId){var t=n;if(t.competencycount<=0)return Promise.reject(e.translate.instant("addon.competency.errornocompetenciesfound"));e.title=t.plan.name,e.userId=t.plan.userid}else e.title=e.translate.instant("addon.competency.coursecompetencies");e.competencies=n.competencies}).catch(function(n){e.domUtils.showErrorModalDefault(n,"Error getting competencies data.")})},AddonCompetencyCompetenciesPage.prototype.openCompetency=function(e){this.competencyId=e;this.splitviewCtrl.push("AddonCompetencyCompetencyPage",this.planId?{competencyId:e,planId:this.planId}:{competencyId:e,courseId:this.courseId,userId:this.userId})},AddonCompetencyCompetenciesPage.prototype.refreshCompetencies=function(e){var n=this;return(this.planId?this.competencyProvider.invalidateLearningPlan(this.planId):this.competencyProvider.invalidateCourseCompetencies(this.courseId,this.userId)).finally(function(){n.fetchCompetencies().finally(function(){e.complete()})})},p([Object(l._9)(r.a),d("design:type",r.a)],AddonCompetencyCompetenciesPage.prototype,"splitviewCtrl",void 0),AddonCompetencyCompetenciesPage=p([Object(l.m)({selector:"page-addon-competency-competencies",templateUrl:"competencies.html"}),d("design:paramtypes",[o.t,c.c,u.a,s.a])],AddonCompetencyCompetenciesPage)}(),m=this&&this.__decorate||function(e,n,t,l){var o,c=arguments.length,i=c<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,l);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(c<3?o(i):c>3?o(n,t,i):o(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},f=function(){function AddonCompetencyCompetenciesPageModule(){}return AddonCompetencyCompetenciesPageModule=m([Object(l.I)({declarations:[_],imports:[i.a,a.a,o.l.forChild(_),c.b.forChild()]})],AddonCompetencyCompetenciesPageModule)}(),y=t(1522),h=t(1523),g=t(1524),C=t(1525),b=t(1526),I=t(1527),P=t(1528),v=t(1529),A=t(1530),w=t(1531),V=t(1532),x=t(1533),j=t(1534),R=t(143),O=t(8),$=t(31),L=t(21),M=t(19),k=t(27),U=t(33),D=t(7),E=t(371),F=t(39),T=t(723),G=t(212),H=t(35),J=t(20),K=t(473),N=t(16),q=t(18),z=t(9),B=t(724),Q=t(314),S=t(247),W=t(474),X=t(72),Y=t(181),Z=t(29),ee=t(34),ne=t(107),te=t(159),le=t(44),oe=t(213),ce=t(173),ie=t(25),ae=t(54),ue=t(51),re=t(2),se=t(86),pe=t(69),de=l._29({encapsulation:2,styles:[],data:{}}),_e=l._27("page-addon-competency-competencies",_,function View_AddonCompetencyCompetenciesPage_Host_0(e){return l._57(0,[(e()(),l._31(0,0,null,null,1,"page-addon-competency-competencies",[],null,null,null,View_AddonCompetencyCompetenciesPage_0,de)),l._30(1,49152,null,0,_,[pe.a,q.a,u.a,s.a],null,null)],null,null)},{},{},[]),me=t(23),fe=t(367),ye=t(368),he=t(370),ge=t(369),Ce=t(472),be=t(722),Ie=t(106),Pe=t(270);t.d(n,"AddonCompetencyCompetenciesPageModuleNgFactory",function(){return ve});var ve=l._28(f,[],function(e){return l._40([l._41(512,l.o,l._21,[[8,[y.a,h.a,g.a,C.a,b.a,I.a,P.a,v.a,A.a,w.a,V.a,x.a,j.a,_e]],[3,l.o],l.K]),l._41(4608,D.m,D.l,[l.G,[2,D.w]]),l._41(4608,me.x,me.x,[]),l._41(4608,me.d,me.d,[]),l._41(4608,fe.b,fe.a,[]),l._41(4608,ye.a,ye.b,[]),l._41(4608,he.b,he.a,[]),l._41(4608,ge.b,ge.a,[]),l._41(4608,q.a,q.a,[Ce.a,fe.b,ye.a,he.b,ge.b,q.b,q.c]),l._41(512,D.b,D.b,[]),l._41(512,me.v,me.v,[]),l._41(512,me.i,me.i,[]),l._41(512,me.s,me.s,[]),l._41(512,be.a,be.a,[]),l._41(512,c.b,c.b,[]),l._41(512,a.a,a.a,[]),l._41(512,Ie.a,Ie.a,[]),l._41(512,i.a,i.a,[]),l._41(512,be.b,be.b,[]),l._41(512,f,f,[]),l._41(256,q.c,void 0,[]),l._41(256,q.b,void 0,[]),l._41(256,Pe.a,_,[])])})}});