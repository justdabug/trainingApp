webpackJsonp([144],{1975:function(e,n,l){"use strict";function View_AddonBadgesUserBadgesPage_1(e){return a._57(0,[(e()(),a._31(0,0,null,null,3,"core-empty-box",[["icon","trophy"]],null,null,null,$.b,$.a)),a._30(1,49152,null,0,k.a,[],{message:[0,"message"],icon:[1,"icon"]},null),a._47(131072,M.a,[C.a,a.j]),(e()(),a._55(-1,0,["\n            "]))],function(e,n){e(n,1,0,a._56(n,1,0,a._44(n,2).transform("addon.badges.nobadges")),"trophy")},null)}function View_AddonBadgesUserBadgesPage_4(e){return a._57(0,[(e()(),a._31(0,0,null,null,3,"ion-badge",[["color","danger"],["item-end",""]],null,null,null,null,null)),a._30(1,16384,null,0,L.a,[H.a,a.t,a.V],{color:[0,"color"]},null),(e()(),a._55(2,null,["\n                        ","\n                    "])),a._47(131072,M.a,[C.a,a.j])],function(e,n){e(n,1,0,"danger")},function(e,n){e(n,2,0,a._56(n,2,0,a._44(n,3).transform("addon.badges.expired")))})}function View_AddonBadgesUserBadgesPage_3(e){return a._57(0,[(e()(),a._31(0,0,null,null,23,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(e,n,l){var a=!0;if("click"===n){a=!1!==e.component.loadIssuedBadge(e.context.$implicit.uniquehash)&&a}return a},T.b,T.a)),a._30(1,1097728,null,3,D.a,[q.a,H.a,a.t,a.V,[2,E.a]],null,null),a._52(335544320,3,{contentLabel:0}),a._52(603979776,4,{_buttons:1}),a._52(603979776,5,{_icons:1}),a._30(5,16384,null,0,F.a,[],null,null),(e()(),a._55(-1,2,["\n                    "])),(e()(),a._31(7,0,null,0,5,"ion-avatar",[["item-start",""]],null,null,null,null,null)),a._30(8,16384,null,0,G.a,[],null,null),(e()(),a._55(-1,null,["\n                        "])),(e()(),a._31(10,0,null,null,1,"img",[["core-external-content",""],["item-start",""]],[[8,"alt",0]],null,null,null,null)),a._30(11,4734976,null,0,J.a,[a.t,K.a,N.a,S.a,g.a,_.a,z.a,Q.a,W.a],{src:[0,"src"]},null),(e()(),a._55(-1,null,["\n                    "])),(e()(),a._55(-1,2,["\n                    "])),(e()(),a._31(14,0,null,2,1,"h2",[],null,null,null,null,null)),(e()(),a._55(15,null,["",""])),(e()(),a._55(-1,2,["\n                    "])),(e()(),a._31(17,0,null,2,2,"p",[],null,null,null,null,null)),(e()(),a._55(18,null,["",""])),a._49(19,2),(e()(),a._55(-1,2,["\n                    "])),(e()(),a._26(16777216,null,4,1,null,View_AddonBadgesUserBadgesPage_4)),a._30(22,16384,null,0,X.k,[a._11,a._6],{ngIf:[0,"ngIf"]},null),(e()(),a._55(-1,2,["\n                "]))],function(e,n){var l=n.component;e(n,11,0,n.context.$implicit.badgeurl);e(n,22,0,n.context.$implicit.dateexpire&&l.currentTime>=n.context.$implicit.dateexpire)},function(e,n){e(n,0,0,n.context.$implicit.name,n.context.$implicit.uniquehash==n.component.badgeHash);e(n,10,0,n.context.$implicit.name);e(n,15,0,n.context.$implicit.name);e(n,18,0,a._56(n,18,0,e(n,19,0,a._44(n.parent.parent,0),1e3*n.context.$implicit.dateissued,"strftimedatetimeshort")))})}function View_AddonBadgesUserBadgesPage_2(e){return a._57(0,[(e()(),a._31(0,0,null,null,5,"ion-list",[["no-margin",""]],null,null,null,null,null)),a._30(1,16384,null,0,Y.a,[H.a,a.t,a.V,S.a,Z.l,ee.a],null,null),(e()(),a._55(-1,null,["\n                "])),(e()(),a._26(16777216,null,null,1,null,View_AddonBadgesUserBadgesPage_3)),a._30(4,802816,null,0,X.j,[a._11,a._6,a.E],{ngForOf:[0,"ngForOf"]},null),(e()(),a._55(-1,null,["\n            "]))],function(e,n){e(n,4,0,n.component.badges)},null)}function View_AddonBadgesUserBadgesPage_0(e){return a._57(0,[a._47(0,ne.a,[K.a,r.a]),a._52(402653184,1,{content:0}),a._52(402653184,2,{splitviewCtrl:0}),(e()(),a._31(3,0,null,null,12,"ion-header",[],null,null,null,null,null)),a._30(4,16384,null,0,le.a,[H.a,a.t,a.V,[2,ae.a]],null,null),(e()(),a._55(-1,null,["\n    "])),(e()(),a._31(6,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,te.b,te.a)),a._30(7,49152,null,0,ue.a,[se.a,[2,ae.a],[2,de.a],H.a,a.t,a.V],null,null),a._30(8,212992,null,0,oe.a,[ue.a,S.a,C.a,ie.a],null,null),(e()(),a._55(-1,3,["\n        "])),(e()(),a._31(10,0,null,3,3,"ion-title",[],null,null,null,re.b,re.a)),a._30(11,49152,null,0,_e.a,[H.a,a.t,a.V,[2,ge.a],[2,ue.a]],null,null),(e()(),a._55(12,0,["",""])),a._47(131072,M.a,[C.a,a.j]),(e()(),a._55(-1,3,["\n    "])),(e()(),a._55(-1,null,["\n"])),(e()(),a._55(-1,null,["\n"])),(e()(),a._31(17,0,null,null,24,"core-split-view",[],null,null,null,ce.b,ce.a)),a._30(18,245760,[[2,4]],0,c.a,[[2,de.a],a.t,fe.a,S.a,C.a],null,null),(e()(),a._55(-1,0,["\n    "])),(e()(),a._31(20,0,null,0,20,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,be.b,be.a)),a._30(21,4374528,[[1,4]],0,he.a,[H.a,S.a,ee.a,a.t,a.V,se.a,pe.a,a.M,[2,ae.a],[2,de.a]],null,null),(e()(),a._55(-1,1,["\n        "])),(e()(),a._31(23,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,n,l){var a=!0;if("ionRefresh"===n){a=!1!==e.component.refreshBadges(l)&&a}return a},null,null)),a._30(24,212992,null,0,Be.a,[S.a,he.a,a.M,Z.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),a._55(-1,null,["\n            "])),(e()(),a._31(26,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,me.b,me.a)),a._30(27,114688,null,0,Pe.a,[Be.a,H.a],{pullingText:[0,"pullingText"]},null),a._47(131072,M.a,[C.a,a.j]),(e()(),a._55(-1,null,["\n        "])),(e()(),a._55(-1,1,["\n        "])),(e()(),a._31(31,0,null,1,8,"core-loading",[],null,null,null,Ue.b,Ue.a)),a._30(32,638976,null,0,ve.a,[C.a,a.t,ie.a,W.a],{hideUntil:[0,"hideUntil"]},null),(e()(),a._55(-1,0,["\n            "])),(e()(),a._26(16777216,null,0,1,null,View_AddonBadgesUserBadgesPage_1)),a._30(35,16384,null,0,X.k,[a._11,a._6],{ngIf:[0,"ngIf"]},null),(e()(),a._55(-1,0,["\n\n            "])),(e()(),a._26(16777216,null,0,1,null,View_AddonBadgesUserBadgesPage_2)),a._30(38,16384,null,0,X.k,[a._11,a._6],{ngIf:[0,"ngIf"]},null),(e()(),a._55(-1,0,["\n        "])),(e()(),a._55(-1,1,["\n    "])),(e()(),a._55(-1,0,["\n"]))],function(e,n){var l=n.component;e(n,8,0),e(n,18,0);e(n,24,0,l.badgesLoaded);e(n,27,0,a._34(1,"",a._56(n,27,0,a._44(n,28).transform("core.pulltorefresh")),""));e(n,32,0,l.badgesLoaded);e(n,35,0,!l.badges||0==l.badges.length);e(n,38,0,l.badges&&l.badges.length)},function(e,n){e(n,6,0,a._44(n,7)._hidden,a._44(n,7)._sbPadding);e(n,12,0,a._56(n,12,0,a._44(n,13).transform("addon.badges.badges")));e(n,20,0,a._44(n,21).statusbarPadding,a._44(n,21)._hasRefresher);e(n,23,0,"inactive"!==a._44(n,24).state,a._44(n,24)._top);e(n,26,0,a._44(n,27).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var a=l(0),t=l(5),u=l(3),s=l(26),d=l(32),o=l(106),i=l(284),r=l(24),_=l(4),g=l(1),c=l(28),f=this&&this.__decorate||function(e,n,l,a){var t,u=arguments.length,s=u<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,l,a);else for(var d=e.length-1;d>=0;d--)(t=e[d])&&(s=(u<3?t(s):u>3?t(n,l,s):t(n,l))||s);return u>3&&s&&Object.defineProperty(n,l,s),s},b=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},h=function(){function AddonBadgesUserBadgesPage(e,n,l,a,t){this.badgesProvider=l,this.domUtils=a,this.timeUtils=t,this.badgesLoaded=!1,this.badges=[],this.currentTime=0,this.courseId=e.get("courseId")||0,this.userId=e.get("userId")||n.getCurrentSite().getUserId()}return AddonBadgesUserBadgesPage.prototype.ionViewDidLoad=function(){var e=this;this.fetchBadges().finally(function(){!e.badgeHash&&e.splitviewCtrl.isOn()&&e.badges.length>0&&e.loadIssuedBadge(e.badges[0].uniquehash),e.badgesLoaded=!0})},AddonBadgesUserBadgesPage.prototype.fetchBadges=function(){var e=this;return this.currentTime=this.timeUtils.timestamp(),this.badgesProvider.getUserBadges(this.courseId,this.userId).then(function(n){e.badges=n}).catch(function(n){e.domUtils.showErrorModalDefault(n,"Error getting badges data.")})},AddonBadgesUserBadgesPage.prototype.refreshBadges=function(e){var n=this;this.badgesProvider.invalidateUserBadges(this.courseId,this.userId).finally(function(){n.fetchBadges().finally(function(){e.complete()})})},AddonBadgesUserBadgesPage.prototype.loadIssuedBadge=function(e){this.badgeHash=e;this.splitviewCtrl.push("AddonBadgesIssuedBadgePage",{courseId:this.courseId,userId:this.userId,badgeHash:e})},f([Object(a._9)(t.f),b("design:type",t.f)],AddonBadgesUserBadgesPage.prototype,"content",void 0),f([Object(a._9)(c.a),b("design:type",c.a)],AddonBadgesUserBadgesPage.prototype,"splitviewCtrl",void 0),AddonBadgesUserBadgesPage=f([Object(a.m)({selector:"page-addon-badges-user-badges",templateUrl:"user-badges.html"}),b("design:paramtypes",[t.t,g.a,i.a,_.a,r.a])],AddonBadgesUserBadgesPage)}(),p=this&&this.__decorate||function(e,n,l,a){var t,u=arguments.length,s=u<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,l,a);else for(var d=e.length-1;d>=0;d--)(t=e[d])&&(s=(u<3?t(s):u>3?t(n,l,s):t(n,l))||s);return u>3&&s&&Object.defineProperty(n,l,s),s},B=function(){function AddonBadgesUserBadgesPageModule(){}return AddonBadgesUserBadgesPageModule=p([Object(a.I)({declarations:[h],imports:[s.a,d.a,o.a,t.l.forChild(h),u.b.forChild()]})],AddonBadgesUserBadgesPageModule)}(),m=l(1522),P=l(1523),U=l(1524),v=l(1525),y=l(1526),A=l(1527),I=l(1528),w=l(1529),x=l(1530),V=l(1531),j=l(1532),O=l(1533),R=l(1534),$=l(124),k=l(114),M=l(25),C=l(18),L=l(143),H=l(8),T=l(31),D=l(21),q=l(19),E=l(27),F=l(33),G=l(160),J=l(229),K=l(6),N=l(17),S=l(16),z=l(22),Q=l(10),W=l(2),X=l(7),Y=l(86),Z=l(44),ee=l(34),ne=l(228),le=l(371),ae=l(39),te=l(723),ue=l(212),se=l(35),de=l(20),oe=l(473),ie=l(9),re=l(724),_e=l(314),ge=l(247),ce=l(474),fe=l(72),be=l(181),he=l(29),pe=l(107),Be=l(159),me=l(213),Pe=l(173),Ue=l(54),ve=l(51),ye=l(69),Ae=a._29({encapsulation:2,styles:[],data:{}}),Ie=a._27("page-addon-badges-user-badges",h,function View_AddonBadgesUserBadgesPage_Host_0(e){return a._57(0,[(e()(),a._31(0,0,null,null,1,"page-addon-badges-user-badges",[],null,null,null,View_AddonBadgesUserBadgesPage_0,Ae)),a._30(1,49152,null,0,h,[ye.a,g.a,i.a,_.a,r.a],null,null)],null,null)},{},{},[]),we=l(23),xe=l(367),Ve=l(368),je=l(370),Oe=l(369),Re=l(472),$e=l(722),ke=l(270);l.d(n,"AddonBadgesUserBadgesPageModuleNgFactory",function(){return Me});var Me=a._28(B,[],function(e){return a._40([a._41(512,a.o,a._21,[[8,[m.a,P.a,U.a,v.a,y.a,A.a,I.a,w.a,x.a,V.a,j.a,O.a,R.a,Ie]],[3,a.o],a.K]),a._41(4608,X.m,X.l,[a.G,[2,X.w]]),a._41(4608,we.x,we.x,[]),a._41(4608,we.d,we.d,[]),a._41(4608,xe.b,xe.a,[]),a._41(4608,Ve.a,Ve.b,[]),a._41(4608,je.b,je.a,[]),a._41(4608,Oe.b,Oe.a,[]),a._41(4608,C.a,C.a,[Re.a,xe.b,Ve.a,je.b,Oe.b,C.b,C.c]),a._41(512,X.b,X.b,[]),a._41(512,we.v,we.v,[]),a._41(512,we.i,we.i,[]),a._41(512,we.s,we.s,[]),a._41(512,$e.a,$e.a,[]),a._41(512,u.b,u.b,[]),a._41(512,d.a,d.a,[]),a._41(512,o.a,o.a,[]),a._41(512,s.a,s.a,[]),a._41(512,$e.b,$e.b,[]),a._41(512,B,B,[]),a._41(256,C.c,void 0,[]),a._41(256,C.b,void 0,[]),a._41(256,ke.a,h,[])])})}});