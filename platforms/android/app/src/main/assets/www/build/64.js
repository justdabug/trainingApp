webpackJsonp([64],{2079:function(e,n,l){"use strict";function View_CoreChronoComponent_0(e){return t._57(0,[t._47(0,B.a,[L.a,o.a]),(e()(),t._31(1,0,null,null,2,"span",[["role","timer"]],null,null,null,null,null)),(e()(),t._55(2,null,["",""])),t._49(3,1)],null,function(e,n){var l=n.component;e(n,2,0,t._56(n,2,0,e(n,3,0,t._44(n,0),l.time/1e3)))})}function View_CoreEmulatorCaptureMediaPage_1(e){return t._57(0,[(e()(),t._31(0,0,null,null,3,"button",[["ion-button",""]],null,[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.done()&&t}return t},R.b,R.a)),t._30(1,1097728,[[8,4]],0,D.a,[[8,""],A.a,t.t,t.V],null,null),(e()(),t._55(2,0,["",""])),t._47(131072,U.a,[T.a,t.j])],null,function(e,n){e(n,2,0,t._56(n,2,0,t._44(n,3).transform("core.done")))})}function View_CoreEmulatorCaptureMediaPage_2(e){return t._57(0,[(e()(),t._31(0,0,[[1,0],["streamVideo",1]],null,0,"video",[["autoplay",""],["class","core-webcam-stream"]],[[8,"hidden",0]],null,null,null,null))],null,function(e,n){e(n,0,0,n.component.hasCaptured)})}function View_CoreEmulatorCaptureMediaPage_3(e){return t._57(0,[(e()(),t._31(0,0,[[2,0],["previewVideo",1]],null,0,"video",[["class","core-webcam-video-captured"],["controls",""]],[[8,"hidden",0]],null,null,null,null))],null,function(e,n){e(n,0,0,!n.component.hasCaptured)})}function View_CoreEmulatorCaptureMediaPage_4(e){return t._57(0,[(e()(),t._31(0,0,[[3,0],["imgCanvas",1]],null,0,"canvas",[["class","core-webcam-image-canvas"]],null,null,null,null,null))],null,null)}function View_CoreEmulatorCaptureMediaPage_5(e){return t._57(0,[(e()(),t._31(0,0,[[4,0],["previewImage",1]],null,1,"img",[["class","core-webcam-image"]],[[8,"hidden",0],[8,"alt",0]],null,null,null,null)),t._47(131072,U.a,[T.a,t.j])],null,function(e,n){e(n,0,0,!n.component.hasCaptured,t._34(1,"",t._56(n,0,1,t._44(n,1).transform("core.capturedimage")),""))})}function View_CoreEmulatorCaptureMediaPage_6(e){return t._57(0,[(e()(),t._31(0,0,null,null,5,"div",[["class","core-audio-record-container"]],null,null,null,null,null)),(e()(),t._55(-1,null,["\n                "])),(e()(),t._31(2,0,[[5,0],["streamAudio",1]],null,0,"canvas",[["class","core-audio-canvas"]],[[8,"hidden",0]],null,null,null,null)),(e()(),t._55(-1,null,["\n                "])),(e()(),t._31(4,0,[[6,0],["previewAudio",1]],null,0,"audio",[["class","core-audio-captured"],["controls",""]],[[8,"hidden",0]],null,null,null,null)),(e()(),t._55(-1,null,["\n            "]))],null,function(e,n){var l=n.component;e(n,2,0,l.hasCaptured);e(n,4,0,!l.hasCaptured)})}function View_CoreEmulatorCaptureMediaPage_9(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"ion-icon",[["name","microphone"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(1,147456,null,0,O.a,[A.a,t.t,t.V],{name:[0,"name"]},null)],function(e,n){e(n,1,0,"microphone")},function(e,n){e(n,0,0,t._44(n,1)._hidden)})}function View_CoreEmulatorCaptureMediaPage_10(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"ion-icon",[["name","videocam"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(1,147456,null,0,O.a,[A.a,t.t,t.V],{name:[0,"name"]},null)],function(e,n){e(n,1,0,"videocam")},function(e,n){e(n,0,0,t._44(n,1)._hidden)})}function View_CoreEmulatorCaptureMediaPage_11(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"ion-icon",[["name","camera"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(1,147456,null,0,O.a,[A.a,t.t,t.V],{name:[0,"name"]},null)],function(e,n){e(n,1,0,"camera")},function(e,n){e(n,0,0,t._44(n,1)._hidden)})}function View_CoreEmulatorCaptureMediaPage_12(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"ion-icon",[["name","square"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(1,147456,null,0,O.a,[A.a,t.t,t.V],{name:[0,"name"]},null)],function(e,n){e(n,1,0,"square")},function(e,n){e(n,0,0,t._44(n,1)._hidden)})}function View_CoreEmulatorCaptureMediaPage_8(e){return t._57(0,[(e()(),t._31(0,0,null,null,14,"button",[["clear",""],["icon-only",""],["ion-button",""]],[[1,"aria-label",0]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.actionClicked()&&t}return t},R.b,R.a)),t._30(1,1097728,null,0,D.a,[[8,""],A.a,t.t,t.V],{clear:[0,"clear"]},null),(e()(),t._55(-1,0,["\n                "])),(e()(),t._26(16777216,null,0,1,null,View_CoreEmulatorCaptureMediaPage_9)),t._30(4,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,0,["\n                "])),(e()(),t._26(16777216,null,0,1,null,View_CoreEmulatorCaptureMediaPage_10)),t._30(7,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,0,["\n                "])),(e()(),t._26(16777216,null,0,1,null,View_CoreEmulatorCaptureMediaPage_11)),t._30(10,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,0,["\n                "])),(e()(),t._26(16777216,null,0,1,null,View_CoreEmulatorCaptureMediaPage_12)),t._30(13,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,0,["\n            "]))],function(e,n){var l=n.component;e(n,1,0,"");e(n,4,0,!l.isCapturing&&l.isAudio);e(n,7,0,!l.isCapturing&&l.isVideo);e(n,10,0,l.isImage);e(n,13,0,l.isCapturing)},function(e,n){e(n,0,0,n.component.title)})}function View_CoreEmulatorCaptureMediaPage_13(e){return t._57(0,[(e()(),t._31(0,0,null,null,6,"button",[["clear",""],["icon-only",""],["ion-button",""]],[[1,"aria-label",0]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.discard()&&t}return t},R.b,R.a)),t._30(1,1097728,null,0,D.a,[[8,""],A.a,t.t,t.V],{clear:[0,"clear"]},null),t._47(131072,U.a,[T.a,t.j]),(e()(),t._55(-1,0,["\n                "])),(e()(),t._31(4,0,null,0,1,"ion-icon",[["name","trash"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(5,147456,null,0,O.a,[A.a,t.t,t.V],{name:[0,"name"]},null),(e()(),t._55(-1,0,["\n            "]))],function(e,n){e(n,1,0,"");e(n,5,0,"trash")},function(e,n){e(n,0,0,t._56(n,0,0,t._44(n,2).transform("core.discard")));e(n,4,0,t._44(n,5)._hidden)})}function View_CoreEmulatorCaptureMediaPage_14(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"core-chrono",[],[[8,"hidden",0]],[[null,"onEnd"]],function(e,n,l){var t=!0;if("onEnd"===n){t=!1!==e.component.stopCapturing()&&t}return t},View_CoreChronoComponent_0,W)),t._30(1,770048,null,0,S.a,[t.j],{running:[0,"running"],endTime:[1,"endTime"],reset:[2,"reset"]},{onEnd:"onEnd"})],function(e,n){var l=n.component;e(n,1,0,l.isCapturing,l.maxTime,l.resetChrono)},function(e,n){e(n,0,0,n.component.hasCaptured)})}function View_CoreEmulatorCaptureMediaPage_7(e){return t._57(0,[(e()(),t._31(0,0,null,null,22,"ion-row",[["class","row"]],null,null,null,null,null)),t._30(1,16384,null,0,q.a,[],null,null),(e()(),t._55(-1,null,["\n        "])),(e()(),t._31(3,0,null,null,1,"ion-col",[["class","col"]],null,null,null,null,null)),t._30(4,16384,null,0,F.a,[],null,null),(e()(),t._55(-1,null,["\n        "])),(e()(),t._31(6,0,null,null,8,"ion-col",[["class","col"],["text-center",""]],null,null,null,null,null)),t._30(7,16384,null,0,F.a,[],null,null),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_8)),t._30(10,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_13)),t._30(13,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,null,["\n        "])),(e()(),t._31(16,0,null,null,5,"ion-col",[["class","chrono-container col"],["padding",""],["text-end",""]],null,null,null,null,null)),t._30(17,16384,null,0,F.a,[],null,null),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_14)),t._30(20,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,null,["\n    "]))],function(e,n){var l=n.component;e(n,10,0,!l.hasCaptured);e(n,13,0,l.hasCaptured);e(n,20,0,!l.isImage)},null)}function View_CoreEmulatorCaptureMediaPage_0(e){return t._57(0,[t._52(671088640,1,{streamVideo:0}),t._52(671088640,2,{previewVideo:0}),t._52(671088640,3,{imgCanvas:0}),t._52(671088640,4,{previewImage:0}),t._52(671088640,5,{streamAudio:0}),t._52(671088640,6,{previewAudio:0}),(e()(),t._31(6,0,null,null,30,"ion-header",[],null,null,null,null,null)),t._30(7,16384,null,0,H.a,[A.a,t.t,t.V,[2,z.a]],null,null),(e()(),t._55(-1,null,["\n    "])),(e()(),t._31(9,0,null,null,26,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,G.b,G.a)),t._30(10,49152,null,0,J.a,[K.a,[2,z.a],[2,N.a],A.a,t.t,t.V],null,null),t._30(11,212992,null,0,Q.a,[J.a,X.a,T.a,Y.a],null,null),(e()(),t._55(-1,3,["\n        "])),(e()(),t._31(13,0,null,1,8,"ion-buttons",[["start",""]],null,null,null,null,null)),t._30(14,16384,null,1,Z.a,[A.a,t.t,t.V,[2,$.a],[2,J.a]],null,null),t._52(603979776,7,{_buttons:1}),(e()(),t._55(-1,null,["\n            "])),(e()(),t._31(17,0,null,null,3,"button",[["ion-button",""]],null,[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.cancel()&&t}return t},R.b,R.a)),t._30(18,1097728,[[7,4]],0,D.a,[[8,""],A.a,t.t,t.V],null,null),(e()(),t._55(19,0,["",""])),t._47(131072,U.a,[T.a,t.j]),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,3,["\n\n        "])),(e()(),t._31(23,0,null,3,3,"ion-title",[],null,null,null,ee.b,ee.a)),t._30(24,49152,null,0,ne.a,[A.a,t.t,t.V,[2,$.a],[2,J.a]],null,null),(e()(),t._55(25,0,["",""])),t._47(131072,U.a,[T.a,t.j]),(e()(),t._55(-1,3,["\n\n        "])),(e()(),t._31(28,0,null,2,6,"ion-buttons",[["end",""]],null,null,null,null,null)),t._30(29,16384,null,1,Z.a,[A.a,t.t,t.V,[2,$.a],[2,J.a]],null,null),t._52(603979776,8,{_buttons:1}),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_1)),t._30(33,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,3,["\n    "])),(e()(),t._55(-1,null,["\n"])),(e()(),t._55(-1,null,["\n"])),(e()(),t._31(38,0,null,null,28,"ion-content",[["class","has-footer"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,le.b,le.a)),t._30(39,4374528,null,0,te.a,[A.a,X.a,ae.a,t.t,t.V,K.a,ie.a,t.M,[2,z.a],[2,N.a]],null,null),(e()(),t._55(-1,1,["\n    "])),(e()(),t._31(41,0,null,1,24,"core-loading",[],null,null,null,ue.b,ue.a)),t._30(42,638976,null,0,oe.a,[T.a,t.t,Y.a,re.a],{hideUntil:[0,"hideUntil"]},null),(e()(),t._55(-1,0,["\n        "])),(e()(),t._31(44,0,null,0,20,"div",[["class","core-av-wrapper"]],null,null,null,null,null)),(e()(),t._55(-1,null,["\n            "])),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_2)),t._30(48,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n\n            "])),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_3)),t._30(52,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n\n            "])),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_4)),t._30(56,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_5)),t._30(59,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n\n            "])),(e()(),t._55(-1,null,["\n            "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_6)),t._30(63,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,0,["\n    "])),(e()(),t._55(-1,1,["\n"])),(e()(),t._55(-1,null,["\n\n"])),(e()(),t._31(68,0,null,null,5,"ion-footer",[],null,null,null,null,null)),t._30(69,16384,null,0,se.a,[A.a,t.t,t.V,[2,z.a]],null,null),(e()(),t._55(-1,null,["\n    "])),(e()(),t._26(16777216,null,null,1,null,View_CoreEmulatorCaptureMediaPage_7)),t._30(72,16384,null,0,x.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n"])),(e()(),t._55(-1,null,["\n\n"]))],function(e,n){var l=n.component;e(n,11,0);e(n,33,0,l.hasCaptured);e(n,42,0,l.readyToCapture);e(n,48,0,!l.isAudio);e(n,52,0,l.isVideo);e(n,56,0,l.isImage);e(n,59,0,l.isImage);e(n,63,0,l.isAudio);e(n,72,0,l.readyToCapture)},function(e,n){var l=n.component;e(n,9,0,t._44(n,10)._hidden,t._44(n,10)._sbPadding);e(n,19,0,t._56(n,19,0,t._44(n,20).transform("core.cancel")));e(n,25,0,t._56(n,25,0,t._44(n,26).transform(l.title)));e(n,38,0,t._44(n,39).statusbarPadding,t._44(n,39)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var t=l(0),a=l(5),i=l(57),u=l(4),o=l(11),r=l(24),s=this&&this.__decorate||function(e,n,l,t){var a,i=arguments.length,u=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,n,l,t);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(u=(i<3?a(u):i>3?a(n,l,u):a(n,l))||u);return i>3&&u&&Object.defineProperty(n,l,u),u},d=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},_=function(){function CoreEmulatorCaptureMediaPage(e,n,l,t,a,i,u){this.viewCtrl=e,this.domUtils=l,this.timeUtils=t,this.fileProvider=a,this.textUtils=i,this.cdr=u,this.window=window,this.type=n.get("type"),this.maxTime=n.get("maxTime"),this.facingMode=n.get("facingMode")||"environment",this.mimetype=n.get("mimetype"),this.extension=n.get("extension"),this.quality=n.get("quality")||.92,this.returnDataUrl=!!n.get("returnDataUrl")}return CoreEmulatorCaptureMediaPage.prototype.ngOnInit=function(){var e=this;this.initVariables();var n={video:!this.isAudio&&{facingMode:this.facingMode},audio:!this.isImage};navigator.mediaDevices.getUserMedia(n).then(function(n){var l=[];if(e.localMediaStream=n,e.isImage||(e.isVideo?e.previewMedia=e.previewVideo.nativeElement:(e.previewMedia=e.previewAudio.nativeElement,e.initAudioDrawer(e.localMediaStream),e.audioDrawer.start()),e.mediaRecorder=new e.window.MediaRecorder(e.localMediaStream,{mimeType:e.mimetype}),e.mediaRecorder.ondataavailable=function(e){e.data.size>0&&l.push(e.data)},e.mediaRecorder.onstop=function(){e.mediaBlob=new Blob(l),l=[],e.previewMedia.src=window.URL.createObjectURL(e.mediaBlob)}),e.isImage||e.isVideo){var t,a=!1;e.streamVideo.nativeElement.onloadedmetadata=function(){a||(a=!0,clearTimeout(t),e.readyToCapture=!0,e.streamVideo.nativeElement.onloadedmetadata=null,e.cdr.detectChanges())},e.streamVideo.nativeElement.src=window.URL.createObjectURL(e.localMediaStream),t=setTimeout(function(){a||(a=!0,e.dismissWithError(-1,"Cannot connect to webcam."))},1e4)}else e.readyToCapture=!0}).catch(function(n){e.dismissWithError(-1,n.message||n)})},CoreEmulatorCaptureMediaPage.prototype.initAudioDrawer=function(e){var n=!0,l=!1,t=new(this.window.AudioContext||this.window.webkitAudioContext),a=this.streamAudio.nativeElement.getContext("2d"),i=t.createMediaStreamSource(e),u=t.createAnalyser(),o=u.frequencyBinCount,r=new Uint8Array(o),s=this.streamAudio.nativeElement.width,d=this.streamAudio.nativeElement.height,_=function(){if(l&&(requestAnimationFrame(_),!(n=!n))){var e=s/o,t=0;u.getByteTimeDomainData(r),a.fillStyle="rgb(200, 200, 200)",a.fillRect(0,0,s,d),a.lineWidth=1,a.strokeStyle="rgb(0, 0, 0)",a.beginPath();for(var i=0;i<o;i++){var c=r[i]/128*d/2;0===i?a.moveTo(t,c):a.lineTo(t,c),t+=e}a.lineTo(s,d/2),a.stroke()}};u.fftSize=2048,i.connect(u),this.audioDrawer={start:function(){l||(l=!0,_())},stop:function(){l=!1}}},CoreEmulatorCaptureMediaPage.prototype.initVariables=function(){"captureimage"==this.type&&(this.isCaptureImage=!0,this.type="image"),"video"==this.type?(this.isVideo=!0,this.title="core.capturevideo"):"audio"==this.type?(this.isAudio=!0,this.title="core.captureaudio"):"image"==this.type&&(this.isImage=!0,this.title="core.captureimage")},CoreEmulatorCaptureMediaPage.prototype.actionClicked=function(){var e=this;if(this.isCapturing)this.stopCapturing(),this.cdr.detectChanges();else if(this.isImage){var n=this.streamVideo.nativeElement.videoWidth,l=this.streamVideo.nativeElement.videoHeight,t=this.domUtils.showModalLoading();this.imgCanvas.nativeElement.width=n,this.imgCanvas.nativeElement.height=l,this.imgCanvas.nativeElement.getContext("2d").drawImage(this.streamVideo.nativeElement,0,0,n,l),this.imgCanvas.nativeElement.toBlob(function(n){t.dismiss(),e.mediaBlob=n,e.previewImage.nativeElement.setAttribute("src",window.URL.createObjectURL(e.mediaBlob)),e.hasCaptured=!0},this.mimetype,this.quality)}else this.isCapturing=!0,this.resetChrono=!1,this.mediaRecorder.start(),this.cdr.detectChanges()},CoreEmulatorCaptureMediaPage.prototype.cancel=function(){this.dismissWithError(3,"Canceled.","Camera cancelled")},CoreEmulatorCaptureMediaPage.prototype.discard=function(){this.previewMedia&&this.previewMedia.pause(),this.streamVideo&&this.streamVideo.nativeElement.play(),this.audioDrawer&&this.audioDrawer.start(),this.hasCaptured=!1,this.isCapturing=!1,this.resetChrono=!0,delete this.mediaBlob,this.cdr.detectChanges()},CoreEmulatorCaptureMediaPage.prototype.dismissWithData=function(e){this.viewCtrl.dismiss(e,"success")},CoreEmulatorCaptureMediaPage.prototype.dismissWithError=function(e,n,l){this.viewCtrl.dismiss(this.isImage&&!this.isCaptureImage?l||n:{code:e,message:n},"error")},CoreEmulatorCaptureMediaPage.prototype.done=function(){var e=this;if(this.returnDataUrl)this.dismissWithData(this.imgCanvas.nativeElement.toDataURL(this.mimetype,this.quality));else if(this.mediaBlob){var n=this.type+"_"+this.timeUtils.readableTimestamp()+"."+this.extension,l=this.textUtils.concatenatePaths(i.a.TMPFOLDER,"media/"+n),t=this.domUtils.showModalLoading();this.fileProvider.writeFile(l,this.mediaBlob).then(function(n){e.isImage&&!e.isCaptureImage?e.dismissWithData(n.toURL()):(n.getFormatData=function(e,n){},e.dismissWithData([n]))}).catch(function(n){e.domUtils.showErrorModal(n)}).finally(function(){t.dismiss()})}else this.domUtils.showErrorModal("Please capture the media first.")},CoreEmulatorCaptureMediaPage.prototype.stopCapturing=function(){this.streamVideo&&this.streamVideo.nativeElement.pause(),this.audioDrawer&&this.audioDrawer.stop(),this.mediaRecorder&&this.mediaRecorder.stop(),this.isCapturing=!1,this.hasCaptured=!0},CoreEmulatorCaptureMediaPage.prototype.ngOnDestroy=function(){this.localMediaStream.getTracks().forEach(function(e){e.stop()}),this.streamVideo&&this.streamVideo.nativeElement.pause(),this.previewMedia&&this.previewMedia.pause(),this.audioDrawer&&this.audioDrawer.stop(),delete this.mediaBlob},s([Object(t._9)("streamVideo"),d("design:type",t.t)],CoreEmulatorCaptureMediaPage.prototype,"streamVideo",void 0),s([Object(t._9)("previewVideo"),d("design:type",t.t)],CoreEmulatorCaptureMediaPage.prototype,"previewVideo",void 0),s([Object(t._9)("imgCanvas"),d("design:type",t.t)],CoreEmulatorCaptureMediaPage.prototype,"imgCanvas",void 0),s([Object(t._9)("previewImage"),d("design:type",t.t)],CoreEmulatorCaptureMediaPage.prototype,"previewImage",void 0),s([Object(t._9)("streamAudio"),d("design:type",t.t)],CoreEmulatorCaptureMediaPage.prototype,"streamAudio",void 0),s([Object(t._9)("previewAudio"),d("design:type",t.t)],CoreEmulatorCaptureMediaPage.prototype,"previewAudio",void 0),CoreEmulatorCaptureMediaPage=s([Object(t.m)({selector:"page-core-emulator-capture-media",templateUrl:"capture-media.html"}),d("design:paramtypes",[a.G,a.t,u.a,r.a,i.a,o.a,t.j])],CoreEmulatorCaptureMediaPage)}(),c=l(3),m=l(26),p=l(32),h=this&&this.__decorate||function(e,n,l,t){var a,i=arguments.length,u=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,n,l,t);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(u=(i<3?a(u):i>3?a(n,l,u):a(n,l))||u);return i>3&&u&&Object.defineProperty(n,l,u),u},g=function(){function CoreEmulatorCaptureMediaPageModule(){}return CoreEmulatorCaptureMediaPageModule=h([Object(t.I)({declarations:[_],imports:[m.a,p.a,a.l.forChild(_),c.b.forChild()]})],CoreEmulatorCaptureMediaPageModule)}(),C=l(1522),f=l(1523),v=l(1524),w=l(1525),b=l(1526),E=l(1527),M=l(1528),V=l(1529),y=l(1530),P=l(1531),I=l(1532),k=l(1533),j=l(1534),R=l(46),D=l(43),A=l(8),U=l(25),T=l(18),O=l(48),x=l(7),B=l(1571),L=l(6),S=l(1582),W=t._29({encapsulation:2,styles:[],data:{}}),q=(t._27("core-chrono",S.a,function View_CoreChronoComponent_Host_0(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"core-chrono",[],null,null,null,View_CoreChronoComponent_0,W)),t._30(1,770048,null,0,S.a,[t.j],null,null)],function(e,n){e(n,1,0)},null)},{running:"running",startTime:"startTime",endTime:"endTime",reset:"reset"},{onEnd:"onEnd"},[]),l(120)),F=l(119),H=l(371),z=l(39),G=l(723),J=l(212),K=l(35),N=l(20),Q=l(473),X=l(16),Y=l(9),Z=l(372),$=l(247),ee=l(724),ne=l(314),le=l(181),te=l(29),ae=l(34),ie=l(107),ue=l(54),oe=l(51),re=l(2),se=l(745),de=l(69),_e=t._29({encapsulation:2,styles:[],data:{}}),ce=t._27("page-core-emulator-capture-media",_,function View_CoreEmulatorCaptureMediaPage_Host_0(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"page-core-emulator-capture-media",[],null,null,null,View_CoreEmulatorCaptureMediaPage_0,_e)),t._30(1,245760,null,0,_,[z.a,de.a,u.a,r.a,i.a,o.a,t.j],null,null)],function(e,n){e(n,1,0)},null)},{},{},[]),me=l(23),pe=l(367),he=l(368),ge=l(370),Ce=l(369),fe=l(472),ve=l(722),we=l(106),be=l(270);l.d(n,"CoreEmulatorCaptureMediaPageModuleNgFactory",function(){return Ee});var Ee=t._28(g,[],function(e){return t._40([t._41(512,t.o,t._21,[[8,[C.a,f.a,v.a,w.a,b.a,E.a,M.a,V.a,y.a,P.a,I.a,k.a,j.a,ce]],[3,t.o],t.K]),t._41(4608,x.m,x.l,[t.G,[2,x.w]]),t._41(4608,me.x,me.x,[]),t._41(4608,me.d,me.d,[]),t._41(4608,pe.b,pe.a,[]),t._41(4608,he.a,he.b,[]),t._41(4608,ge.b,ge.a,[]),t._41(4608,Ce.b,Ce.a,[]),t._41(4608,T.a,T.a,[fe.a,pe.b,he.a,ge.b,Ce.b,T.b,T.c]),t._41(512,x.b,x.b,[]),t._41(512,me.v,me.v,[]),t._41(512,me.i,me.i,[]),t._41(512,me.s,me.s,[]),t._41(512,ve.a,ve.a,[]),t._41(512,c.b,c.b,[]),t._41(512,p.a,p.a,[]),t._41(512,we.a,we.a,[]),t._41(512,m.a,m.a,[]),t._41(512,ve.b,ve.b,[]),t._41(512,g,g,[]),t._41(256,T.c,void 0,[]),t._41(256,T.b,void 0,[]),t._41(256,be.a,_,[])])})}});