webpackJsonp([33],{2112:function(e,n,l){"use strict";function View_CoreTagIndexPage_1(e){return t._57(0,[(e()(),t._31(0,0,null,null,10,"ion-item",[["class","core-warning-item item item-block"],["text-wrap",""]],null,null,null,R.b,R.a)),t._30(1,1097728,null,3,D.a,[O.a,N.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,2,{contentLabel:0}),t._52(603979776,3,{_buttons:1}),t._52(603979776,4,{_icons:1}),t._30(5,16384,null,0,U.a,[],null,null),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(7,0,null,0,1,"ion-icon",[["color","warning"],["item-start",""],["name","warning"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(8,147456,[[4,4]],0,k.a,[N.a,t.t,t.V],{color:[0,"color"],name:[1,"name"]},null),(e()(),t._55(9,2,["\n                    ","\n                "])),t._47(131072,K.a,[L.a,t.j])],function(e,n){e(n,8,0,"warning","warning")},function(e,n){e(n,7,0,t._44(n,8)._hidden);e(n,9,0,t._56(n,9,0,t._44(n,10).transform("core.tag.warningareasnotsupported")))})}function View_CoreTagIndexPage_3(e){return t._57(0,[(e()(),t._31(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),t._30(1,16384,null,0,$.a,[N.a,t.t,t.V],null,null),(e()(),t._55(2,null,["",""]))],null,function(e,n){e(n,2,0,n.parent.context.$implicit.badge)})}function View_CoreTagIndexPage_2(e){return t._57(0,[(e()(),t._31(0,0,null,null,14,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.openArea(e.context.$implicit)&&t}return t},R.b,R.a)),t._30(1,1097728,null,3,D.a,[O.a,N.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,5,{contentLabel:0}),t._52(603979776,6,{_buttons:1}),t._52(603979776,7,{_icons:1}),t._30(5,16384,null,0,U.a,[],null,null),t._47(131072,K.a,[L.a,t.j]),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(8,0,null,2,2,"h2",[],null,null,null,null,null)),(e()(),t._55(9,null,["",""])),t._47(131072,K.a,[L.a,t.j]),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._26(16777216,null,4,1,null,View_CoreTagIndexPage_3)),t._30(13,16384,null,0,E.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,2,["\n                "]))],function(e,n){e(n,13,0,n.context.$implicit.badge)},function(e,n){var l=n.component;e(n,0,0,t._56(n,0,0,t._44(n,6).transform(n.context.$implicit.nameKey)),n.context.$implicit.id==l.selectedAreaId);e(n,9,0,t._56(n,9,0,t._44(n,10).transform(n.context.$implicit.nameKey)))})}function View_CoreTagIndexPage_0(e){return t._57(0,[t._52(402653184,1,{splitviewCtrl:0}),(e()(),t._31(1,0,null,null,12,"ion-header",[],null,null,null,null,null)),t._30(2,16384,null,0,F.a,[N.a,t.t,t.V,[2,G.a]],null,null),(e()(),t._55(-1,null,["\n    "])),(e()(),t._31(4,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,H.b,H.a)),t._30(5,49152,null,0,J.a,[q.a,[2,G.a],[2,z.a],N.a,t.t,t.V],null,null),t._30(6,212992,null,0,B.a,[J.a,Q.a,L.a,S.a],null,null),(e()(),t._55(-1,3,["\n        "])),(e()(),t._31(8,0,null,3,3,"ion-title",[],null,null,null,W.b,W.a)),t._30(9,49152,null,0,X.a,[N.a,t.t,t.V,[2,Y.a],[2,J.a]],null,null),(e()(),t._55(10,0,["",": ",""])),t._47(131072,K.a,[L.a,t.j]),(e()(),t._55(-1,3,["\n    "])),(e()(),t._55(-1,null,["\n"])),(e()(),t._55(-1,null,["\n"])),(e()(),t._31(15,0,null,null,28,"core-split-view",[],null,null,null,Z.b,Z.a)),t._30(16,245760,[[1,4]],0,i.a,[[2,z.a],t.t,ee.a,Q.a,L.a],null,null),(e()(),t._55(-1,0,["\n    "])),(e()(),t._31(18,0,null,0,24,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,ne.b,ne.a)),t._30(19,4374528,null,0,le.a,[N.a,Q.a,te.a,t.t,t.V,q.a,ae.a,t.M,[2,G.a],[2,z.a]],null,null),(e()(),t._55(-1,1,["\n        "])),(e()(),t._31(21,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,n,l){var t=!0;if("ionRefresh"===n){t=!1!==e.component.refreshData(l)&&t}return t},null,null)),t._30(22,212992,null,0,oe.a,[Q.a,le.a,t.M,re.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),t._55(-1,null,["\n            "])),(e()(),t._31(24,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,ie.b,ie.a)),t._30(25,114688,null,0,ue.a,[oe.a,N.a],{pullingText:[0,"pullingText"]},null),t._47(131072,K.a,[L.a,t.j]),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,1,["\n        "])),(e()(),t._31(29,0,null,1,12,"core-loading",[],null,null,null,ce.b,ce.a)),t._30(30,638976,null,0,_e.a,[L.a,t.t,S.a,se.a],{hideUntil:[0,"hideUntil"]},null),(e()(),t._55(-1,0,["\n            "])),(e()(),t._31(32,0,null,0,8,"ion-list",[],null,null,null,null,null)),t._30(33,16384,null,0,de.a,[N.a,t.t,t.V,Q.a,re.l,te.a],null,null),(e()(),t._55(-1,null,["\n                "])),(e()(),t._26(16777216,null,null,1,null,View_CoreTagIndexPage_1)),t._30(36,16384,null,0,E.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n                "])),(e()(),t._26(16777216,null,null,1,null,View_CoreTagIndexPage_2)),t._30(39,802816,null,0,E.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(e()(),t._55(-1,null,["\n            "])),(e()(),t._55(-1,0,["\n        "])),(e()(),t._55(-1,1,["\n    "])),(e()(),t._55(-1,0,["\n"])),(e()(),t._55(-1,null,["\n"]))],function(e,n){var l=n.component;e(n,6,0),e(n,16,0);e(n,22,0,l.loaded);e(n,25,0,t._34(1,"",t._56(n,25,0,t._44(n,26).transform("core.pulltorefresh")),""));e(n,30,0,l.loaded);e(n,36,0,l.hasUnsupportedAreas);e(n,39,0,l.areas)},function(e,n){var l=n.component;e(n,4,0,t._44(n,5)._hidden,t._44(n,5)._sbPadding);e(n,10,0,t._56(n,10,0,t._44(n,11).transform("core.tag.tag")),l.tagName);e(n,18,0,t._44(n,19).statusbarPadding,t._44(n,19)._hasRefresher);e(n,21,0,"inactive"!==t._44(n,22).state,t._44(n,22)._top);e(n,24,0,t._44(n,25).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var t=l(0),a=l(5),o=l(3),r=l(4),i=l(28),u=l(163),c=l(205),_=this&&this.__decorate||function(e,n,l,t){var a,o=arguments.length,r=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,n,l,t);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(r=(o<3?a(r):o>3?a(n,l,r):a(n,l))||r);return o>3&&r&&Object.defineProperty(n,l,r),r},s=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},d=function(){function CoreTagIndexPage(e,n,l,t){this.tagProvider=n,this.domUtils=l,this.tagAreaDelegate=t,this.loaded=!1,this.hasUnsupportedAreas=!1,this.tagId=e.get("tagId")||0,this.tagName=e.get("tagName")||"",this.collectionId=e.get("collectionId"),this.areaId=e.get("areaId")||0,this.fromContextId=e.get("fromContextId")||0,this.contextId=e.get("contextId")||0,this.recursive=e.get("recursive")||!0}return CoreTagIndexPage.prototype.ionViewDidLoad=function(){var e=this;this.fetchData().then(function(){if(e.splitviewCtrl.isOn()&&e.areas&&e.areas.length>0){var n=e.areas.find(function(n){return n.id==e.areaId});e.openArea(n||e.areas[0])}}).finally(function(){e.loaded=!0})},CoreTagIndexPage.prototype.fetchData=function(){var e=this;return this.tagProvider.getTagIndexPerArea(this.tagId,this.tagName,this.collectionId,this.areaId,this.fromContextId,this.contextId,this.recursive,0).then(function(n){return e.areas=[],e.hasUnsupportedAreas=!1,Promise.all(n.map(function(n){return e.tagAreaDelegate.parseContent(n.component,n.itemtype,n.content).then(function(l){return l&&l.length?{id:n.ta,componentName:n.component,itemType:n.itemtype,nameKey:e.tagAreaDelegate.getDisplayNameKey(n.component,n.itemtype),items:l,canLoadMore:!!n.nextpageurl,badge:l&&l.length?l.length+(n.nextpageurl?"+":""):""}:(e.hasUnsupportedAreas=!0,null)})})).then(function(n){e.areas=n.filter(function(e){return null!=e})})}).catch(function(n){e.domUtils.showErrorModalDefault(n,"Error loading tag index")})},CoreTagIndexPage.prototype.refreshData=function(e){var n=this;this.tagProvider.invalidateTagIndexPerArea(this.tagId,this.tagName,this.collectionId,this.areaId,this.fromContextId,this.contextId,this.recursive).finally(function(){n.fetchData().finally(function(){e.complete()})})},CoreTagIndexPage.prototype.openArea=function(e){this.selectedAreaId=e.id;var n={tagId:this.tagId,tagName:this.tagName,collectionId:this.collectionId,areaId:e.id,fromContextId:this.fromContextId,contextId:this.contextId,recursive:this.recursive,areaNameKey:e.nameKey,componentName:e.component,itemType:e.itemType,items:e.items.slice(),canLoadMore:e.canLoadMore,nextPage:1};this.splitviewCtrl.push("CoreTagIndexAreaPage",n)},_([Object(t._9)(i.a),s("design:type",i.a)],CoreTagIndexPage.prototype,"splitviewCtrl",void 0),CoreTagIndexPage=_([Object(t.m)({selector:"page-core-tag-index",templateUrl:"index.html"}),s("design:paramtypes",[a.t,u.a,r.a,c.a])],CoreTagIndexPage)}(),g=l(26),f=l(32),h=this&&this.__decorate||function(e,n,l,t){var a,o=arguments.length,r=o<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,n,l,t);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(r=(o<3?a(r):o>3?a(n,l,r):a(n,l))||r);return o>3&&r&&Object.defineProperty(n,l,r),r},p=function(){function CoreTagIndexPageModule(){}return CoreTagIndexPageModule=h([Object(t.I)({declarations:[d],imports:[g.a,f.a,a.l.forChild(d),o.b.forChild()]})],CoreTagIndexPageModule)}(),m=l(1522),I=l(1523),b=l(1524),x=l(1525),v=l(1526),y=l(1527),P=l(1528),C=l(1529),T=l(1530),w=l(1531),V=l(1532),j=l(1533),A=l(1534),R=l(31),D=l(21),O=l(19),N=l(8),M=l(27),U=l(33),k=l(48),K=l(25),L=l(18),$=l(143),E=l(7),F=l(371),G=l(39),H=l(723),J=l(212),q=l(35),z=l(20),B=l(473),Q=l(16),S=l(9),W=l(724),X=l(314),Y=l(247),Z=l(474),ee=l(72),ne=l(181),le=l(29),te=l(34),ae=l(107),oe=l(159),re=l(44),ie=l(213),ue=l(173),ce=l(54),_e=l(51),se=l(2),de=l(86),ge=l(69),fe=t._29({encapsulation:2,styles:[],data:{}}),he=t._27("page-core-tag-index",d,function View_CoreTagIndexPage_Host_0(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"page-core-tag-index",[],null,null,null,View_CoreTagIndexPage_0,fe)),t._30(1,49152,null,0,d,[ge.a,u.a,r.a,c.a],null,null)],null,null)},{},{},[]),pe=l(23),me=l(367),Ie=l(368),be=l(370),xe=l(369),ve=l(472),ye=l(722),Pe=l(106),Ce=l(270);l.d(n,"CoreTagIndexPageModuleNgFactory",function(){return Te});var Te=t._28(p,[],function(e){return t._40([t._41(512,t.o,t._21,[[8,[m.a,I.a,b.a,x.a,v.a,y.a,P.a,C.a,T.a,w.a,V.a,j.a,A.a,he]],[3,t.o],t.K]),t._41(4608,E.m,E.l,[t.G,[2,E.w]]),t._41(4608,pe.x,pe.x,[]),t._41(4608,pe.d,pe.d,[]),t._41(4608,me.b,me.a,[]),t._41(4608,Ie.a,Ie.b,[]),t._41(4608,be.b,be.a,[]),t._41(4608,xe.b,xe.a,[]),t._41(4608,L.a,L.a,[ve.a,me.b,Ie.a,be.b,xe.b,L.b,L.c]),t._41(512,E.b,E.b,[]),t._41(512,pe.v,pe.v,[]),t._41(512,pe.i,pe.i,[]),t._41(512,pe.s,pe.s,[]),t._41(512,ye.a,ye.a,[]),t._41(512,o.b,o.b,[]),t._41(512,f.a,f.a,[]),t._41(512,Pe.a,Pe.a,[]),t._41(512,g.a,g.a,[]),t._41(512,ye.b,ye.b,[]),t._41(512,p,p,[]),t._41(256,L.c,void 0,[]),t._41(256,L.b,void 0,[]),t._41(256,Ce.a,d,[])])})}});