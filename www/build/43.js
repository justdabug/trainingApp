webpackJsonp([43],{2107:function(e,n,l){"use strict";function View_CoreSitePreferencesPage_1(e){return t._57(0,[(e()(),t._31(0,0,null,null,18,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,H.b,H.a)),t._30(1,1097728,null,3,E.a,[z.a,$.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,3,{contentLabel:0}),t._52(603979776,4,{_buttons:1}),t._52(603979776,5,{_icons:1}),t._30(5,16384,null,0,N.a,[],null,null),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(7,0,null,2,1,"h2",[],null,null,null,null,null)),(e()(),t._55(8,null,["",""])),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(10,0,null,2,3,"ion-note",[["class","core-note-block"]],null,null,null,null,null)),t._30(11,16384,null,0,T.a,[$.a,t.t,t.V],null,null),(e()(),t._31(12,16777216,null,null,1,"core-format-text",[["contextLevel","system"]],null,null,null,null,null)),t._30(13,540672,null,0,A.a,[t.t,o.a,s.a,G.b,J.a,K.a,W.b,q.b,B.b,Q.a,X.b,Y.a,[2,Z.a],[2,ee.a],[2,c.a],ne.a,u.b,le.a,te.a,ae.a,t._11,ie.a],{text:[0,"text"],contextLevel:[1,"contextLevel"],contextInstanceId:[2,"contextInstanceId"],wsNotFiltered:[3,"wsNotFiltered"]},null),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(15,0,null,2,2,"ion-note",[["class","core-note-block"]],null,null,null,null,null)),t._30(16,16384,null,0,T.a,[$.a,t.t,t.V],null,null),(e()(),t._55(17,null,["",""])),(e()(),t._55(-1,2,["\n                "]))],function(e,n){e(n,13,0,n.component.siteName,"system",0,!0)},function(e,n){var l=n.component;e(n,8,0,l.siteInfo.fullname);e(n,17,0,l.siteUrl)})}function View_CoreSitePreferencesPage_2(e){return t._57(0,[(e()(),t._31(0,0,null,null,18,"a",[["class","item item-block"],["detail-push",""],["ion-item",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(e,n,l){var t=!0,a=e.component;if("click"===n){t=!1!==a.openHandler("CoreSharedFilesListPage",{manage:!0,siteId:a.siteId,hideSitePicker:!0})&&t}return t},H.b,H.a)),t._30(1,1097728,null,3,E.a,[z.a,$.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,9,{contentLabel:0}),t._52(603979776,10,{_buttons:1}),t._52(603979776,11,{_icons:1}),t._30(5,16384,null,0,N.a,[],null,null),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(8,0,null,0,1,"ion-icon",[["item-start",""],["name","folder"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(9,147456,[[11,4]],0,ue.a,[$.a,t.t,t.V],{name:[0,"name"]},null),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(11,0,null,2,2,"h2",[],null,null,null,null,null)),(e()(),t._55(12,null,["",""])),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(15,0,null,4,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),t._30(16,16384,null,0,oe.a,[$.a,t.t,t.V],null,null),(e()(),t._55(17,null,["",""])),(e()(),t._55(-1,2,["\n                "]))],function(e,n){e(n,9,0,"folder")},function(e,n){var l=n.component;e(n,0,0,t._56(n,0,0,t._44(n,6).transform("core.sharedfiles.sharedfiles")),"CoreSharedFilesListPage"==l.selectedPage);e(n,8,0,t._44(n,9)._hidden);e(n,12,0,t._56(n,12,0,t._44(n,13).transform("core.sharedfiles.sharedfiles")));e(n,17,0,l.iosSharedFiles)})}function View_CoreSitePreferencesPage_4(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"core-icon",[["item-start",""]],null,null,null,se.b,se.a)),t._30(1,704512,null,0,ce.a,[t.t,$.a],{name:[0,"name"]},null)],function(e,n){e(n,1,0,n.parent.context.$implicit.icon)},null)}function View_CoreSitePreferencesPage_3(e){return t._57(0,[(e()(),t._31(0,0,null,null,16,"a",[["class","item item-block"],["detail-push",""],["ion-item",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.openHandler(e.context.$implicit.page,e.context.$implicit.params)&&t}return t},H.b,H.a)),t._30(1,278528,null,0,_e.i,[t.E,t.F,t.t,t.W],{ngClass:[0,"ngClass"]},null),t._46(2,2),t._30(3,1097728,null,3,E.a,[z.a,$.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,12,{contentLabel:0}),t._52(603979776,13,{_buttons:1}),t._52(603979776,14,{_icons:1}),t._30(7,16384,null,0,N.a,[],null,null),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._26(16777216,null,0,1,null,View_CoreSitePreferencesPage_4)),t._30(11,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._31(13,0,null,2,2,"h2",[],null,null,null,null,null)),(e()(),t._55(14,null,["",""])),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,2,["\n                "]))],function(e,n){e(n,1,0,e(n,2,0,"core-settings-handler",n.context.$implicit.class));e(n,11,0,n.context.$implicit.icon)},function(e,n){var l=n.component;e(n,0,0,t._56(n,0,0,t._44(n,8).transform(n.context.$implicit.title)),n.context.$implicit.page==l.selectedPage);e(n,14,0,t._56(n,14,0,t._44(n,15).transform(n.context.$implicit.title)))})}function View_CoreSitePreferencesPage_6(e){return t._57(0,[(e()(),t._31(0,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),t._55(1,null,["",""])),t._49(2,1)],null,function(e,n){var l=n.component;e(n,1,0,t._56(n,1,0,e(n,2,0,t._44(n.parent.parent,0),l.spaceUsage.spaceUsage)))})}function View_CoreSitePreferencesPage_7(e){return t._57(0,[(e()(),t._31(0,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),t._55(1,null,["",""])),t._48(2,{$a:0}),t._47(131072,re.a,[J.a,t.j])],null,function(e,n){var l=n.component;e(n,1,0,t._56(n,1,0,t._44(n,3).transform("core.settings.entriesincache",e(n,2,0,l.spaceUsage.cacheEntries))))})}function View_CoreSitePreferencesPage_5(e){return t._57(0,[(e()(),t._31(0,0,null,null,27,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,H.b,H.a)),t._30(1,1097728,null,3,E.a,[z.a,$.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,15,{contentLabel:0}),t._52(603979776,16,{_buttons:1}),t._52(603979776,17,{_icons:1}),t._30(5,16384,null,0,N.a,[],null,null),(e()(),t._55(-1,2,["\n                        "])),(e()(),t._31(7,0,null,2,5,"h2",[["text-wrap",""]],null,null,null,null,null)),(e()(),t._55(8,null,[""," "])),t._47(131072,re.a,[J.a,t.j]),(e()(),t._31(10,0,null,null,2,"ion-icon",[["color","info"],["name","information-circle"],["role","img"]],[[1,"aria-label",0],[2,"hide",null]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.showSpaceInfo()&&t}return t},null,null)),t._30(11,147456,[[17,4]],0,ue.a,[$.a,t.t,t.V],{color:[0,"color"],name:[1,"name"]},null),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,2,["\n                        "])),(e()(),t._26(16777216,null,2,1,null,View_CoreSitePreferencesPage_6)),t._30(15,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,2,["\n                        "])),(e()(),t._26(16777216,null,2,1,null,View_CoreSitePreferencesPage_7)),t._30(18,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,2,["\n                        "])),(e()(),t._31(20,0,null,4,6,"button",[["clear",""],["color","danger"],["icon-only",""],["ion-button",""],["item-end",""]],[[8,"hidden",0],[1,"aria-label",0]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.deleteSiteStorage()&&t}return t},fe.b,fe.a)),t._30(21,1097728,[[16,4]],0,he.a,[[8,""],$.a,t.t,t.V],{color:[0,"color"],clear:[1,"clear"]},null),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,0,["\n                            "])),(e()(),t._31(24,0,null,0,1,"ion-icon",[["name","trash"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(25,147456,null,0,ue.a,[$.a,t.t,t.V],{name:[0,"name"]},null),(e()(),t._55(-1,0,["\n                        "])),(e()(),t._55(-1,2,["\n                    "]))],function(e,n){var l=n.component;e(n,11,0,"info","information-circle");e(n,15,0,null!=l.spaceUsage.spaceUsage);e(n,18,0,null!=l.spaceUsage.cacheEntries);e(n,21,0,"danger","");e(n,25,0,"trash")},function(e,n){var l=n.component;e(n,8,0,t._56(n,8,0,t._44(n,9).transform("core.settings.spaceusage")));e(n,10,0,t._56(n,10,0,t._44(n,12).transform("core.info")),t._44(n,11)._hidden);e(n,20,0,!l.spaceUsage.spaceUsage>"0"&&!l.spaceUsage.cacheEntries>"0",t._56(n,20,1,t._44(n,22).transform("core.settings.deletesitefilestitle")));e(n,24,0,t._44(n,25)._hidden)})}function View_CoreSitePreferencesPage_8(e){return t._57(0,[(e()(),t._31(0,0,null,null,6,"button",[["clear",""],["icon-only",""],["ion-button",""],["item-end",""]],[[8,"title",0],[1,"aria-label",0]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.synchronize()&&t}return t},fe.b,fe.a)),t._30(1,1097728,[[19,4]],0,he.a,[[8,""],$.a,t.t,t.V],{clear:[0,"clear"]},null),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,0,["\n                            "])),(e()(),t._31(4,0,null,0,1,"ion-icon",[["name","sync"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._30(5,147456,null,0,ue.a,[$.a,t.t,t.V],{name:[0,"name"]},null),(e()(),t._55(-1,0,["\n                        "]))],function(e,n){e(n,1,0,"");e(n,5,0,"sync")},function(e,n){e(n,0,0,n.component.siteName,t._56(n,0,1,t._44(n,2).transform("core.settings.synchronizenow")));e(n,4,0,t._44(n,5)._hidden)})}function View_CoreSitePreferencesPage_9(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"ion-spinner",[["item-end",""]],[[2,"spinner-paused",null]],null,null,de.b,de.a)),t._30(1,114688,null,0,pe.a,[$.a,t.t,t.V],null,null)],function(e,n){e(n,1,0)},function(e,n){e(n,0,0,t._44(n,1)._paused)})}function View_CoreSitePreferencesPage_0(e){return t._57(0,[t._47(0,ge.a,[B.b,G.b]),t._52(402653184,1,{splitviewCtrl:0}),(e()(),t._31(2,0,null,null,17,"ion-header",[],null,null,null,null,null)),t._30(3,16384,null,0,me.a,[$.a,t.t,t.V,[2,be.a]],null,null),(e()(),t._55(-1,null,["\n    "])),(e()(),t._31(5,0,null,null,13,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Pe.b,Pe.a)),t._30(6,49152,null,0,Se.a,[ve.a,[2,be.a],[2,Z.a],$.a,t.t,t.V],null,null),t._30(7,212992,null,0,ye.a,[Se.a,K.a,J.a,u.b],null,null),(e()(),t._55(-1,3,["\n        "])),(e()(),t._31(9,0,null,3,3,"ion-title",[],null,null,null,we.b,we.a)),t._30(10,49152,null,0,Ce.a,[$.a,t.t,t.V,[2,Ie.a],[2,Se.a]],null,null),(e()(),t._55(11,0,["",""])),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,3,["\n        "])),(e()(),t._31(14,0,null,2,3,"ion-buttons",[["end",""]],null,null,null,null,null)),t._30(15,16384,null,1,Ve.a,[$.a,t.t,t.V,[2,Ie.a],[2,Se.a]],null,null),t._52(603979776,2,{_buttons:1}),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,3,["\n    "])),(e()(),t._55(-1,null,["\n"])),(e()(),t._55(-1,null,["\n"])),(e()(),t._31(21,0,null,null,66,"core-split-view",[],null,null,null,ke.b,ke.a)),t._30(22,245760,[[1,4]],0,c.a,[[2,Z.a],t.t,xe.a,K.a,J.a],null,null),(e()(),t._55(-1,0,["\n    "])),(e()(),t._31(24,0,null,0,62,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,je.b,je.a)),t._30(25,4374528,null,0,ee.a,[$.a,K.a,Ue.a,t.t,t.V,ve.a,Oe.a,t.M,[2,be.a],[2,Z.a]],null,null),(e()(),t._55(-1,1,["\n        "])),(e()(),t._31(27,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(e,n,l){var t=!0;if("ionRefresh"===n){t=!1!==e.component.refreshData(l)&&t}return t},null,null)),t._30(28,212992,null,0,De.a,[K.a,ee.a,t.M,Re.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(e()(),t._55(-1,null,["\n            "])),(e()(),t._31(30,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Fe.b,Fe.a)),t._30(31,114688,null,0,Le.a,[De.a,$.a],{pullingText:[0,"pullingText"]},null),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,null,["\n        "])),(e()(),t._55(-1,1,["\n        "])),(e()(),t._31(35,0,null,1,50,"core-loading",[],null,null,null,He.b,He.a)),t._30(36,638976,null,0,Ee.a,[J.a,t.t,u.b,W.b],{hideUntil:[0,"hideUntil"]},null),(e()(),t._55(-1,0,["\n            "])),(e()(),t._31(38,0,null,0,46,"ion-list",[],null,null,null,null,null)),t._30(39,16384,null,0,ze.a,[$.a,t.t,t.V,K.a,Re.l,Ue.a],null,null),(e()(),t._55(-1,null,["\n                "])),(e()(),t._26(16777216,null,null,1,null,View_CoreSitePreferencesPage_1)),t._30(42,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n                "])),(e()(),t._31(44,0,null,null,5,"ion-item-divider",[["class","item item-divider"]],null,null,null,H.b,H.a)),t._30(45,1097728,null,3,E.a,[z.a,$.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,6,{contentLabel:0}),t._52(603979776,7,{_buttons:1}),t._52(603979776,8,{_icons:1}),t._30(49,16384,null,0,$e.a,[$.a,t.t,t.V],null,null),(e()(),t._55(-1,null,["\n                "])),(e()(),t._26(16777216,null,null,1,null,View_CoreSitePreferencesPage_2)),t._30(52,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n\n                "])),(e()(),t._26(16777216,null,null,1,null,View_CoreSitePreferencesPage_3)),t._30(55,802816,null,0,_e.j,[t._11,t._6,t.E],{ngForOf:[0,"ngForOf"]},null),(e()(),t._55(-1,null,["\n\n                "])),(e()(),t._31(57,0,null,null,26,"ion-card",[["class","with-borders"]],null,null,null,null,null)),t._30(58,16384,null,0,Me.a,[$.a,t.t,t.V],null,null),(e()(),t._55(-1,null,["\n                    "])),(e()(),t._26(16777216,null,null,1,null,View_CoreSitePreferencesPage_5)),t._30(61,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,null,["\n                    "])),(e()(),t._31(63,0,null,null,19,"ion-item",[["class","item item-block"],["text-wrap",""]],null,null,null,H.b,H.a)),t._30(64,1097728,null,3,E.a,[z.a,$.a,t.t,t.V,[2,M.a]],null,null),t._52(335544320,18,{contentLabel:0}),t._52(603979776,19,{_buttons:1}),t._52(603979776,20,{_icons:1}),t._30(68,16384,null,0,N.a,[],null,null),(e()(),t._55(-1,2,["\n                        "])),(e()(),t._31(70,0,null,2,5,"h2",[],null,null,null,null,null)),(e()(),t._55(71,null,[""," "])),t._47(131072,re.a,[J.a,t.j]),(e()(),t._31(73,0,null,null,2,"ion-icon",[["color","info"],["name","information-circle"],["role","img"]],[[1,"aria-label",0],[2,"hide",null]],[[null,"click"]],function(e,n,l){var t=!0;if("click"===n){t=!1!==e.component.showSyncInfo()&&t}return t},null,null)),t._30(74,147456,[[20,4]],0,ue.a,[$.a,t.t,t.V],{color:[0,"color"],name:[1,"name"]},null),t._47(131072,re.a,[J.a,t.j]),(e()(),t._55(-1,2,["\n                        "])),(e()(),t._26(16777216,null,4,1,null,View_CoreSitePreferencesPage_8)),t._30(78,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,2,["\n                        "])),(e()(),t._26(16777216,null,4,1,null,View_CoreSitePreferencesPage_9)),t._30(81,16384,null,0,_e.k,[t._11,t._6],{ngIf:[0,"ngIf"]},null),(e()(),t._55(-1,2,["\n                    "])),(e()(),t._55(-1,null,["\n                "])),(e()(),t._55(-1,null,["\n            "])),(e()(),t._55(-1,0,["\n        "])),(e()(),t._55(-1,1,["\n    "])),(e()(),t._55(-1,0,["\n"])),(e()(),t._55(-1,null,["\n"]))],function(e,n){var l=n.component;e(n,7,0),e(n,22,0);e(n,28,0,l.loaded);e(n,31,0,t._34(1,"",t._56(n,31,0,t._44(n,32).transform("core.pulltorefresh")),""));e(n,36,0,l.loaded);e(n,42,0,l.siteInfo);e(n,52,0,l.isIOS);e(n,55,0,l.handlers);e(n,61,0,l.spaceUsage);e(n,74,0,"info","information-circle");e(n,78,0,!l.isSynchronizing());e(n,81,0,l.isSynchronizing())},function(e,n){e(n,5,0,t._44(n,6)._hidden,t._44(n,6)._sbPadding);e(n,11,0,t._56(n,11,0,t._44(n,12).transform("core.settings.preferences")));e(n,24,0,t._44(n,25).statusbarPadding,t._44(n,25)._hasRefresher);e(n,27,0,"inactive"!==t._44(n,28).state,t._44(n,28)._top);e(n,30,0,t._44(n,31).r.state);e(n,71,0,t._56(n,71,0,t._44(n,72).transform("core.settings.synchronizenow")));e(n,73,0,t._56(n,73,0,t._44(n,75).transform("core.info")),t._44(n,74)._hidden)})}Object.defineProperty(n,"__esModule",{value:!0});var t=l(0),a=l(5),i=l(3),r=l(329),u=l(9),o=l(1),s=l(4),c=l(28),_=l(487),f=l(729),h=this&&this.__decorate||function(e,n,l,t){var a,i=arguments.length,r=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,n,l,t);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(r=(i<3?a(r):i>3?a(n,l,r):a(n,l))||r);return i>3&&r&&Object.defineProperty(n,l,r),r},d=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},p=this&&this.__awaiter||function(e,n,l,t){return new(l||(l=Promise))(function(a,i){function fulfilled(e){try{step(t.next(e))}catch(e){i(e)}}function rejected(e){try{step(t.throw(e))}catch(e){i(e)}}function step(e){e.done?a(e.value):new l(function(n){n(e.value)}).then(fulfilled,rejected)}step((t=t.apply(e,n||[])).next())})},g=this&&this.__generator||function(e,n){function verb(i){return function(u){return function step(i){if(l)throw new TypeError("Generator is already executing.");for(;r;)try{if(l=1,t&&(a=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(t,i[1])).done)return a;switch(t=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,t=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(e,r)}catch(e){i=[6,e],t=0}finally{l=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}var l,t,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},m=function(){function CoreSitePreferencesPage(e,n,l,t,a,i,r,o,s){var c=this;this.settingsDelegate=e,this.settingsHelper=n,this.sitesProvider=l,this.domUtils=t,this.eventsProvider=a,this.sharedFilesProvider=i,this.translate=r,this.siteInfo=[],this.spaceUsage={cacheEntries:0,spaceUsage:0},this.loaded=!1,this.isDestroyed=!1,this.isIOS=o.is("ios"),this.selectedPage=s.get("page")||!1,this.sitesObserver=this.eventsProvider.on(u.b.SITE_UPDATED,function(e){e.siteId==c.siteId&&c.refreshData()})}return CoreSitePreferencesPage.prototype.ionViewDidLoad=function(){var e=this;this.fetchData().finally(function(){e.loaded=!0,e.selectedPage?e.openHandler(e.selectedPage):e.splitviewCtrl.isOn()&&(e.isIOS?e.openHandler("CoreSharedFilesListPage",{manage:!0,siteId:e.siteId,hideSitePicker:!0}):e.handlers.length>0&&e.openHandler(e.handlers[0].page,e.handlers[0].params))})},CoreSitePreferencesPage.prototype.fetchData=function(){return p(this,void 0,void 0,function(){var e,n,l=this;return g(this,function(t){switch(t.label){case 0:return this.handlers=this.settingsDelegate.getHandlers(),e=this.sitesProvider.getCurrentSite(),this.siteId=e.id,this.siteInfo=e.getInfo(),this.siteName=e.getSiteName(),this.siteUrl=e.getURL(),(n=[]).push(this.settingsHelper.getSiteSpaceUsage(this.siteId).then(function(e){return l.spaceUsage=e})),this.isIOS&&n.push(this.sharedFilesProvider.getSiteSharedFiles(this.siteId).then(function(e){return l.iosSharedFiles=e.length})),[4,Promise.all(n)];case 1:return t.sent(),[2]}})})},CoreSitePreferencesPage.prototype.synchronize=function(e){var n=this;this.settingsHelper.synchronizeSite(!1,this.siteId).catch(function(e){n.isDestroyed||n.domUtils.showErrorModalDefault(e,"core.settings.errorsyncsite",!0)})},CoreSitePreferencesPage.prototype.isSynchronizing=function(){return this.siteId&&!!this.settingsHelper.getSiteSyncPromise(this.siteId)},CoreSitePreferencesPage.prototype.refreshData=function(e){this.fetchData().finally(function(){e&&e.complete()})},CoreSitePreferencesPage.prototype.deleteSiteStorage=function(){var e=this;this.settingsHelper.deleteSiteStorage(this.siteName,this.siteId).then(function(n){e.spaceUsage=n}).catch(function(){})},CoreSitePreferencesPage.prototype.openHandler=function(e,n){this.selectedPage=e,this.splitviewCtrl.push(e,n)},CoreSitePreferencesPage.prototype.showSpaceInfo=function(){this.domUtils.showAlert(this.translate.instant("core.help"),this.translate.instant("core.settings.spaceusagehelp"))},CoreSitePreferencesPage.prototype.showSyncInfo=function(){this.domUtils.showAlert(this.translate.instant("core.help"),this.translate.instant("core.settings.synchronizenowhelp"))},CoreSitePreferencesPage.prototype.ngOnDestroy=function(){this.isDestroyed=!0,this.sitesObserver&&this.sitesObserver.off()},h([Object(t._9)(c.a),d("design:type",c.a)],CoreSitePreferencesPage.prototype,"splitviewCtrl",void 0),CoreSitePreferencesPage=h([Object(t.m)({selector:"page-core-site-preferences",templateUrl:"site.html"}),d("design:paramtypes",[r.a,f.a,o.a,s.a,u.b,_.a,i.c,a.v,a.t])],CoreSitePreferencesPage)}(),b=l(26),P=l(32),S=l(108),v=this&&this.__decorate||function(e,n,l,t){var a,i=arguments.length,r=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,l):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,n,l,t);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(r=(i<3?a(r):i>3?a(n,l,r):a(n,l))||r);return i>3&&r&&Object.defineProperty(n,l,r),r},y=function(){function CoreSitePreferencesPageModule(){}return CoreSitePreferencesPageModule=v([Object(t.I)({declarations:[m],imports:[b.a,P.a,S.a,a.l.forChild(m),i.b.forChild()]})],CoreSitePreferencesPageModule)}(),w=l(1528),C=l(1529),I=l(1530),V=l(1531),k=l(1532),x=l(1533),j=l(1534),U=l(1535),O=l(1536),D=l(1537),R=l(1538),F=l(1539),L=l(1540),H=l(31),E=l(21),z=l(19),$=l(8),M=l(27),N=l(33),T=l(251),A=l(49),G=l(11),J=l(18),K=l(15),W=l(2),q=l(22),B=l(6),Q=l(17),X=l(10),Y=l(14),Z=l(20),ee=l(29),ne=l(43),le=l(41),te=l(30),ae=l(36),ie=l(39),re=l(25),ue=l(48),oe=l(145),se=l(84),ce=l(77),_e=l(7),fe=l(47),he=l(44),de=l(123),pe=l(104),ge=l(1576),me=l(373),be=l(40),Pe=l(723),Se=l(214),ve=l(35),ye=l(472),we=l(724),Ce=l(317),Ie=l(250),Ve=l(374),ke=l(473),xe=l(74),je=l(183),Ue=l(34),Oe=l(109),De=l(161),Re=l(45),Fe=l(215),Le=l(175),He=l(56),Ee=l(53),ze=l(89),$e=l(103),Me=l(78),Ne=l(70),Te=t._29({encapsulation:2,styles:[],data:{}}),Ae=t._27("page-core-site-preferences",m,function View_CoreSitePreferencesPage_Host_0(e){return t._57(0,[(e()(),t._31(0,0,null,null,1,"page-core-site-preferences",[],null,null,null,View_CoreSitePreferencesPage_0,Te)),t._30(1,180224,null,0,m,[r.a,f.a,o.a,s.a,u.b,_.a,J.a,K.a,Ne.a],null,null)],null,null)},{},{},[]),Ge=l(23),Je=l(369),Ke=l(370),We=l(372),qe=l(371),Be=l(471),Qe=l(722),Xe=l(272);l.d(n,"CoreSitePreferencesPageModuleNgFactory",function(){return Ye});var Ye=t._28(y,[],function(e){return t._40([t._41(512,t.o,t._21,[[8,[w.a,C.a,I.a,V.a,k.a,x.a,j.a,U.a,O.a,D.a,R.a,F.a,L.a,Ae]],[3,t.o],t.K]),t._41(4608,_e.m,_e.l,[t.G,[2,_e.w]]),t._41(4608,Ge.x,Ge.x,[]),t._41(4608,Ge.d,Ge.d,[]),t._41(4608,Je.b,Je.a,[]),t._41(4608,Ke.a,Ke.b,[]),t._41(4608,We.b,We.a,[]),t._41(4608,qe.b,qe.a,[]),t._41(4608,J.a,J.a,[Be.a,Je.b,Ke.a,We.b,qe.b,J.b,J.c]),t._41(512,_e.b,_e.b,[]),t._41(512,Ge.v,Ge.v,[]),t._41(512,Ge.i,Ge.i,[]),t._41(512,Ge.s,Ge.s,[]),t._41(512,Qe.a,Qe.a,[]),t._41(512,i.b,i.b,[]),t._41(512,P.a,P.a,[]),t._41(512,S.a,S.a,[]),t._41(512,b.a,b.a,[]),t._41(512,Qe.b,Qe.b,[]),t._41(512,y,y,[]),t._41(256,J.c,void 0,[]),t._41(256,J.b,void 0,[]),t._41(256,Xe.a,m,[])])})}});