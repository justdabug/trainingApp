{"version":3,"sources":["../../src/components/chrono/chrono.ngfactory.js","../../src/core/emulator/pages/capture-media/capture-media.ngfactory.js","../../src/core/emulator/pages/capture-media/capture-media.ts","../../src/core/emulator/pages/capture-media/capture-media.module.ts","../../src/core/emulator/pages/capture-media/capture-media.module.ngfactory.js"],"names":["View_CoreChronoComponent_0","_l","core","seconds_to_hms","logger","utils_text","_ck","_v","_co","component","time","View_CoreEmulatorCaptureMediaPage_1","en","$event","ad","done","button_ngfactory","button_button","config","translate_pipe","translate_service","transform","View_CoreEmulatorCaptureMediaPage_2","hasCaptured","View_CoreEmulatorCaptureMediaPage_3","View_CoreEmulatorCaptureMediaPage_4","View_CoreEmulatorCaptureMediaPage_5","View_CoreEmulatorCaptureMediaPage_6","View_CoreEmulatorCaptureMediaPage_9","icon","name","_hidden","View_CoreEmulatorCaptureMediaPage_10","View_CoreEmulatorCaptureMediaPage_11","View_CoreEmulatorCaptureMediaPage_12","View_CoreEmulatorCaptureMediaPage_8","actionClicked","clear","common","ngIf","isCapturing","isAudio","isVideo","isImage","title","View_CoreEmulatorCaptureMediaPage_13","discard","View_CoreEmulatorCaptureMediaPage_14","stopCapturing","RenderType_CoreChronoComponent","chrono","running","endTime","reset","onEnd","maxTime","resetChrono","View_CoreEmulatorCaptureMediaPage_7","row","col","View_CoreEmulatorCaptureMediaPage_0","streamVideo","previewVideo","imgCanvas","previewImage","streamAudio","previewAudio","toolbar_header","view_controller","navbar_ngfactory","navbar","app","nav_controller","back_button","platform","events","toolbar_item","toolbar","_buttons","cancel","toolbar_title_ngfactory","toolbar_title","content_ngfactory","content","dom_controller","keyboard","loading_ngfactory","loading","utils","hideUntil","toolbar_footer","readyToCapture","_sbPadding","statusbarPadding","_hasRefresher","capture_media_CoreEmulatorCaptureMediaPage","CoreEmulatorCaptureMediaPage","viewCtrl","params","domUtils","timeUtils","fileProvider","textUtils","cdr","this","window","type","get","facingMode","mimetype","extension","quality","returnDataUrl","prototype","ngOnInit","_this","initVariables","constraints","video","audio","navigator","mediaDevices","getUserMedia","then","stream","chunks","localMediaStream","previewMedia","nativeElement","initAudioDrawer","audioDrawer","start","mediaRecorder","MediaRecorder","mimeType","ondataavailable","e","data","size","push","onstop","mediaBlob","Blob","src","URL","createObjectURL","waitTimeout_1","hasLoaded_1","onloadedmetadata","clearTimeout","detectChanges","setTimeout","dismissWithError","catch","error","message","skip","audioCtx","AudioContext","webkitAudioContext","canvasCtx","getContext","source","createMediaStreamSource","analyser","createAnalyser","bufferLength","frequencyBinCount","dataArray","Uint8Array","width","height","drawAudio","requestAnimationFrame","sliceWidth","x","getByteTimeDomainData","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","i","y","moveTo","lineTo","stroke","fftSize","connect","stop","isCaptureImage","videoWidth","videoHeight","loadingModal_1","showModalLoading","drawImage","toBlob","blob","dismiss","setAttribute","pause","play","dismissWithData","code","cameraMessage","toDataURL","fileName","readableTimestamp","path","concatenatePaths","file","TMPFOLDER","loadingModal","writeFile","fileEntry","getMetadata","metadata","fullPath","lastModifiedDate","modificationTime","getFormatData","successFn","errorFn","toURL","err","showErrorModal","finally","ngOnDestroy","getTracks","forEach","track","__decorate","Object","selector","templateUrl","ionic_angular","dom","capture_media_module_CoreEmulatorCaptureMediaPageModule","CoreEmulatorCaptureMediaPageModule","capture_media_module___decorate","declarations","imports","components_module","directives_module","forChild","_ngx_translate_core","encapsulation","styles","View_CoreChronoComponent_Host_0","startTime","RenderType_CoreEmulatorCaptureMediaPage","CoreEmulatorCaptureMediaPageNgFactory","View_CoreEmulatorCaptureMediaPage_Host_0","nav_params","__webpack_require__","d","__webpack_exports__","CoreEmulatorCaptureMediaPageModuleNgFactory","action_sheet_component_ngfactory","alert_component_ngfactory","app_root_ngfactory","loading_component_ngfactory","modal_component_ngfactory","picker_component_ngfactory","popover_component_ngfactory","select_popover_component_ngfactory","toast_component_ngfactory","context_menu_popover_ngfactory","course_picker_menu_popover_ngfactory","recaptchamodal_ngfactory","bs_tooltip_ngfactory","esm5_forms","translate_loader","translate_compiler","translate_parser","missing_translation_handler","translate_store","ionic_angular_module","pipes_module","undefined","module_loader"],"mappings":"qDAcO,SAAAA,2BAAAC,GAAyC,OAAQC,EAAA,IAAO,GAAKA,EAAA,IAAO,EAAIC,EAAA,GAA0BC,EAAA,EAAuBC,EAAA,KAAwBJ,GAAAA,GAAaC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,SAAA,OAAA,UAAA,KAAA,KAAA,KAAA,KAAA,QAAAD,GAAAA,GAA4FC,EAAA,IAAO,EAAA,MAAA,GAAA,MAAsBA,EAAA,IAAO,EAAA,IAAA,KAAA,SAAAI,EAAAC,GAAmC,IAAAC,EAAAD,EAAAE,UAA6GH,EAAAC,EAAA,EAAA,EAApEL,EAAA,IAAOK,EAAA,EAAA,EAAAD,EAAAC,EAAA,EAAA,EAAyBL,EAAA,IAAOK,EAAA,GAAAC,EAAAE,KAAA,SCkC/Z,SAAAC,oCAAAV,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,WAAA,aAAA,KAAA,OAAA,KAAA,UAAA,SAAAK,EAAAK,EAAAC,GAA0G,IAAAC,GAAA,EAAuC,GAAA,UAAAF,EAAA,CAEvOE,GADA,IAD+MP,EAAAE,UAC/MM,QACAD,EACK,OAAAA,GAAeE,EAAA,EAAkBA,EAAA,IAAwBd,EAAA,IAAO,EAAA,UAAA,EAAA,IAAA,EAA0Be,EAAA,IAAS,EAAA,IAAYC,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,KAAA,OAAAD,GAAAA,GAAyBC,EAAA,IAAO,EAAA,GAAA,GAAA,MAAmBA,EAAA,IAAO,OAASiB,EAAA,GAAmBC,EAAA,EAAqBlB,EAAA,KAAoB,KAAA,SAAAI,EAAAC,GAAyGD,EAAAC,EAAA,EAAA,EAAzDL,EAAA,IAAOK,EAAA,EAAA,EAAWL,EAAA,IAAOK,EAAA,GAAAc,UAAA,iBACjW,SAAAC,oCAAArB,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,IAAA,EAAA,IAAA,cAAA,IAAA,KAAA,EAAA,UAAA,WAAA,KAAA,QAAA,yBAAA,EAAA,SAAA,IAAA,KAAA,KAAA,KAAA,QAAA,KAAA,SAAAI,EAAAC,GAA8OD,EAAAC,EAAA,EAAA,EAAzDA,EAAAE,UAAwBc,eACnS,SAAAC,oCAAAvB,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,IAAA,EAAA,IAAA,eAAA,IAAA,KAAA,EAAA,UAAA,QAAA,+BAAA,WAAA,OAAA,EAAA,SAAA,IAAA,KAAA,KAAA,KAAA,QAAA,KAAA,SAAAI,EAAAC,GAAwPD,EAAAC,EAAA,EAAA,GAA1DA,EAAAE,UAAwBc,eAC5S,SAAAE,oCAAAxB,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,IAAA,EAAA,IAAA,YAAA,IAAA,KAAA,EAAA,WAAA,QAAA,6BAAA,KAAA,KAAA,KAAA,KAAA,QAAA,KAAA,MACtF,SAAAwB,oCAAAzB,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,IAAA,EAAA,IAAA,eAAA,IAAA,KAAA,EAAA,QAAA,QAAA,wBAAA,EAAA,SAAA,IAAA,EAAA,MAAA,IAAA,KAAA,KAAA,KAAA,OAAqJA,EAAA,IAAO,OAASiB,EAAA,GAAmBC,EAAA,EAAqBlB,EAAA,KAAoB,KAAA,SAAAI,EAAAC,GAA8MD,EAAAC,EAAA,EAAA,GAA/KA,EAAAE,UAAwBc,YAAmDrB,EAAA,IAAqB,EAAA,GAAQA,EAAA,IAAOK,EAAA,EAAA,EAAWL,EAAA,IAAOK,EAAA,GAAAc,UAAA,uBAAA,OACvd,SAAAM,oCAAA1B,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,QAAA,QAAA,gCAAA,KAAA,KAAA,KAAA,KAAA,QAAAD,GAAAA,GAAkHC,EAAA,KAAO,EAAA,MAAA,yBAAAD,GAAAA,GAA8CC,EAAA,IAAO,EAAA,IAAA,EAAA,IAAA,cAAA,IAAA,KAAA,EAAA,WAAA,QAAA,wBAAA,EAAA,SAAA,IAAA,KAAA,KAAA,KAAA,QAAAD,GAAAA,GAAiJC,EAAA,KAAO,EAAA,MAAA,yBAAAD,GAAAA,GAA8CC,EAAA,IAAO,EAAA,IAAA,EAAA,IAAA,eAAA,IAAA,KAAA,EAAA,UAAA,QAAA,wBAAA,WAAA,OAAA,EAAA,SAAA,IAAA,KAAA,KAAA,KAAA,QAAAD,GAAAA,GAAqKC,EAAA,KAAO,EAAA,MAAA,qBAAA,KAAA,SAAAI,EAAAC,GAA4D,IAAAC,EAAAD,EAAAE,UAAyDH,EAAAC,EAAA,EAAA,EAAjCC,EAAAe,aAA6FjB,EAAAC,EAAA,EAAA,GAAlCC,EAAAe,eAC5wB,SAAAK,oCAAA3B,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,aAAA,OAAA,eAAA,OAAA,UAAA,EAAA,OAAA,OAAA,KAAA,KAAA,KAAA,OAA4HA,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqB2B,EAAA,GAAUX,EAAA,EAAWhB,EAAA,EAAeA,EAAA,IAAe4B,MAAA,EAAA,SAAoB,OAAA,SAAAxB,EAAAC,GAA4DD,EAAAC,EAAA,EAAA,EAA9B,eAA0D,SAAAD,EAAAC,GAA8DD,EAAAC,EAAA,EAAA,EAAvBL,EAAA,IAAOK,EAAA,GAAAwB,WAC3b,SAAAC,qCAAA/B,GAAmD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,aAAA,OAAA,aAAA,OAAA,UAAA,EAAA,OAAA,OAAA,KAAA,KAAA,KAAA,OAA0HA,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqB2B,EAAA,GAAUX,EAAA,EAAWhB,EAAA,EAAeA,EAAA,IAAe4B,MAAA,EAAA,SAAoB,OAAA,SAAAxB,EAAAC,GAA0DD,EAAAC,EAAA,EAAA,EAA5B,aAAwD,SAAAD,EAAAC,GAA8DD,EAAAC,EAAA,EAAA,EAAvBL,EAAA,IAAOK,EAAA,GAAAwB,WACxb,SAAAE,qCAAAhC,GAAmD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,aAAA,OAAA,WAAA,OAAA,UAAA,EAAA,OAAA,OAAA,KAAA,KAAA,KAAA,OAAwHA,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqB2B,EAAA,GAAUX,EAAA,EAAWhB,EAAA,EAAeA,EAAA,IAAe4B,MAAA,EAAA,SAAoB,OAAA,SAAAxB,EAAAC,GAAwDD,EAAAC,EAAA,EAAA,EAA1B,WAAsD,SAAAD,EAAAC,GAA8DD,EAAAC,EAAA,EAAA,EAAvBL,EAAA,IAAOK,EAAA,GAAAwB,WACpb,SAAAG,qCAAAjC,GAAmD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,aAAA,OAAA,WAAA,OAAA,UAAA,EAAA,OAAA,OAAA,KAAA,KAAA,KAAA,OAAwHA,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqB2B,EAAA,GAAUX,EAAA,EAAWhB,EAAA,EAAeA,EAAA,IAAe4B,MAAA,EAAA,SAAoB,OAAA,SAAAxB,EAAAC,GAAwDD,EAAAC,EAAA,EAAA,EAA1B,WAAsD,SAAAD,EAAAC,GAA8DD,EAAAC,EAAA,EAAA,EAAvBL,EAAA,IAAOK,EAAA,GAAAwB,WACpb,SAAAI,oCAAAlC,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,GAAA,WAAA,QAAA,KAAA,YAAA,KAAA,aAAA,OAAA,EAAA,aAAA,MAAA,KAAA,UAAA,SAAAK,EAAAK,EAAAC,GAA+J,IAAAC,GAAA,EAAuC,GAAA,UAAAF,EAAA,CAE5RE,GADA,IADoQP,EAAAE,UACpQ2B,iBACAtB,EACK,OAAAA,GAAeE,EAAA,EAAkBA,EAAA,IAAwBd,EAAA,IAAO,EAAA,QAAA,KAAA,EAAsBe,EAAA,IAAS,EAAA,IAAYC,EAAA,EAAWhB,EAAA,EAAeA,EAAA,IAAemC,OAAA,EAAA,UAAsB,OAAApC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,GAAA,yBAAAD,GAAAA,GAA2CC,EAAA,IAAO,SAAA,KAAA,EAAA,EAAA,KAAA0B,sCAAoE1B,EAAA,IAAO,EAAA,MAAA,KAAA,EAAoBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,GAAA,yBAAAD,GAAAA,GAA2CC,EAAA,IAAO,SAAA,KAAA,EAAA,EAAA,KAAA8B,uCAAqE9B,EAAA,IAAO,EAAA,MAAA,KAAA,EAAoBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,GAAA,yBAAAD,GAAAA,GAA2CC,EAAA,IAAO,SAAA,KAAA,EAAA,EAAA,KAAA+B,uCAAqE/B,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,GAAA,yBAAAD,GAAAA,GAA2CC,EAAA,IAAO,SAAA,KAAA,EAAA,EAAA,KAAAgC,uCAAqEhC,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,GAAA,qBAAA,SAAAI,EAAAC,GAAmD,IAAAC,EAAAD,EAAAE,UAA4CH,EAAAC,EAAA,EAAA,EAApB,IAAiGD,EAAAC,EAAA,EAAA,GAAnDC,EAAAgC,aAAAhC,EAAAiC,SAAgInC,EAAAC,EAAA,EAAA,GAAnDC,EAAAgC,aAAAhC,EAAAkC,SAA0GpC,EAAAC,EAAA,GAAA,EAA7BC,EAAAmC,SAAyFrC,EAAAC,EAAA,GAAA,EAAjCC,EAAAgC,cAA8D,SAAAlC,EAAAC,GAAyED,EAAAC,EAAA,EAAA,EAAnDA,EAAAE,UAAwBmC,SAChkD,SAAAC,qCAAA5C,GAAmD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,WAAA,QAAA,KAAA,YAAA,KAAA,aAAA,OAAA,EAAA,aAAA,MAAA,KAAA,UAAA,SAAAK,EAAAK,EAAAC,GAA8J,IAAAC,GAAA,EAAuC,GAAA,UAAAF,EAAA,CAE5RE,GADA,IADoQP,EAAAE,UACpQqC,WACAhC,EACK,OAAAA,GAAeE,EAAA,EAAkBA,EAAA,IAAwBd,EAAA,IAAO,EAAA,QAAA,KAAA,EAAsBe,EAAA,IAAS,EAAA,IAAYC,EAAA,EAAWhB,EAAA,EAAeA,EAAA,IAAemC,OAAA,EAAA,UAAsB,MAASnC,EAAA,IAAO,OAASiB,EAAA,GAAmBC,EAAA,EAAqBlB,EAAA,KAAoBD,GAAAA,GAAaC,EAAA,KAAO,EAAA,GAAA,yBAAAD,GAAAA,GAA2CC,EAAA,IAAO,EAAA,EAAA,KAAA,EAAA,EAAA,aAAA,OAAA,UAAA,OAAA,UAAA,EAAA,OAAA,OAAA,KAAA,KAAA,KAAA,OAAoHA,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqB2B,EAAA,GAAUX,EAAA,EAAWhB,EAAA,EAAeA,EAAA,IAAe4B,MAAA,EAAA,SAAoB,OAAA7B,GAAAA,GAAkBC,EAAA,KAAO,EAAA,GAAA,qBAAA,SAAAI,EAAAC,GAAuED,EAAAC,EAAA,EAAA,EAApB,IAAuED,EAAAC,EAAA,EAAA,EAAzB,UAAqD,SAAAD,EAAAC,GAAmGD,EAAAC,EAAA,EAAA,EAA5DL,EAAA,IAAOK,EAAA,EAAA,EAAWL,EAAA,IAAOK,EAAA,GAAAc,UAAA,kBAAqGf,EAAAC,EAAA,EAAA,EAAvBL,EAAA,IAAOK,EAAA,GAAAwB,WACr2B,SAAAgB,qCAAA9C,GAAmD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,mBAAA,EAAA,SAAA,MAAA,KAAA,UAAA,SAAAK,EAAAK,EAAAC,GAA2G,IAAAC,GAAA,EAAuC,GAAA,UAAAF,EAAA,CAEzOE,GADA,IADiNP,EAAAE,UACjNuC,iBACAlC,EACK,OAAAA,GAAed,2BAA+BiD,IAAqC/C,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqBgD,EAAA,GAAyBhD,EAAA,IAAwBiD,SAAA,EAAA,WAAAC,SAAA,EAAA,WAAAC,OAAA,EAAA,WAA2EC,MAAA,WAAiB,SAAAhD,EAAAC,GAAwB,IAAAC,EAAAD,EAAAE,UAAuHH,EAAAC,EAAA,EAAA,EAA/FC,EAAAgC,YAAiChC,EAAA+C,QAA6B/C,EAAAgD,cAAmF,SAAAlD,EAAAC,GAA+ED,EAAAC,EAAA,EAAA,EAAzDA,EAAAE,UAAwBc,eAChf,SAAAkC,oCAAAxD,GAAkD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,GAAA,YAAA,QAAA,QAAA,KAAA,KAAA,KAAA,KAAA,OAAsFA,EAAA,IAAO,EAAA,MAAA,KAAA,EAAoBwD,EAAA,KAAO,KAAA,OAAAzD,GAAAA,GAA4BC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,YAAA,QAAA,QAAA,KAAA,KAAA,KAAA,KAAA,OAAqFA,EAAA,IAAO,EAAA,MAAA,KAAA,EAAoByD,EAAA,KAAO,KAAA,OAAA1D,GAAAA,GAA4BC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,YAAA,QAAA,QAAA,cAAA,KAAA,KAAA,KAAA,KAAA,KAAA,OAA0GA,EAAA,IAAO,EAAA,MAAA,KAAA,EAAoByD,EAAA,KAAO,KAAA,OAAA1D,GAAAA,GAA4BC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAiC,sCAAuEjC,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAA2C,uCAAwE3C,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,IAAO,GAAA,EAAA,KAAA,KAAA,EAAA,YAAA,QAAA,yBAAA,UAAA,KAAA,WAAA,KAAA,KAAA,KAAA,KAAA,KAAA,OAA0IA,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqByD,EAAA,KAAO,KAAA,OAAA1D,GAAAA,GAA4BC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAA6C,uCAAwE7C,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,KAAO,EAAA,MAAA,aAAA,SAAAI,EAAAC,GAA8C,IAAAC,EAAAD,EAAAE,UAA0DH,EAAAC,EAAA,GAAA,GAAlCC,EAAAe,aAA8FjB,EAAAC,EAAA,GAAA,EAAjCC,EAAAe,aAA0FjB,EAAAC,EAAA,GAAA,GAA9BC,EAAAmC,UAA2D,MACt7D,SAAAiB,oCAAA3D,GAAkD,OAAQC,EAAA,IAAO,GAAKA,EAAA,IAAO,UAAA,GAAgB2D,YAAA,IAAoB3D,EAAA,IAAO,UAAA,GAAgB4D,aAAA,IAAqB5D,EAAA,IAAO,UAAA,GAAgB6D,UAAA,IAAkB7D,EAAA,IAAO,UAAA,GAAgB8D,aAAA,IAAqB9D,EAAA,IAAO,UAAA,GAAgB+D,YAAA,IAAoB/D,EAAA,IAAO,UAAA,GAAgBgE,aAAA,KAAkBjE,GAAAA,GAAYC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,GAAA,gBAAA,KAAA,KAAA,KAAA,KAAA,OAAyEA,EAAA,IAAO,EAAA,MAAA,KAAA,EAAoBiE,EAAA,GAAajD,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,EAAMkE,EAAA,IAAkB,KAAA,OAAAnE,GAAAA,GAA0BC,EAAA,KAAO,EAAA,MAAA,aAAAD,GAAAA,GAAkCC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,GAAA,eAAA,QAAA,YAAA,mBAAA,OAAA,EAAA,SAAA,IAAA,EAAA,oBAAA,OAAA,KAAA,KAAuJmE,EAAA,EAAmBA,EAAA,IAAyBnE,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoE,EAAA,GAAaC,EAAA,GAAO,EAAMH,EAAA,IAAkB,EAAOI,EAAA,GAAoBtD,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,KAAA,MAAgBA,EAAA,IAAO,GAAA,OAAA,KAAA,EAAsBuE,EAAA,GAA8BH,EAAA,EAAYI,EAAA,EAActD,EAAA,EAAqBuD,EAAA,GAAsB,KAAA,OAAA1E,GAAAA,GAAyBC,EAAA,KAAO,EAAA,GAAA,iBAAAD,GAAAA,GAAmCC,EAAA,IAAO,GAAA,EAAA,KAAA,EAAA,EAAA,gBAAA,QAAA,KAAA,KAAA,KAAA,KAAA,KAAA,OAAoFA,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqB0E,EAAA,GAAkB1D,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,EAAM2E,EAAA,IAAW,EAAOP,EAAA,IAAU,KAAA,MAAiBpE,EAAA,IAAO,UAAA,GAAgB4E,SAAA,KAAc7E,GAAAA,GAAYC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,GAAA,EAAA,KAAA,KAAA,EAAA,WAAA,aAAA,KAAA,OAAA,KAAA,UAAA,SAAAK,EAAAK,EAAAC,GAA2G,IAAAC,GAAA,EAAuC,GAAA,UAAAF,EAAA,CAEllDE,GADA,IAD0jDP,EAAAE,UAC1jDsE,UACAjE,EACK,OAAAA,GAAeE,EAAA,EAAkBA,EAAA,IAAwBd,EAAA,IAAO,GAAA,UAAA,EAAA,IAAA,EAA2Be,EAAA,IAAS,EAAA,IAAYC,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,KAAA,OAAAD,GAAAA,GAAyBC,EAAA,IAAO,GAAA,GAAA,GAAA,MAAoBA,EAAA,IAAO,OAASiB,EAAA,GAAmBC,EAAA,EAAqBlB,EAAA,KAAoBD,GAAAA,GAAaC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,KAAO,EAAA,GAAA,mBAAAD,GAAAA,GAAqCC,EAAA,IAAO,GAAA,EAAA,KAAA,EAAA,EAAA,eAAA,KAAA,KAAA,KAAuD8E,GAAA,EAAyBA,GAAA,IAA+B9E,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqB+E,GAAA,GAAmB/D,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,EAAM2E,EAAA,IAAW,EAAOP,EAAA,IAAU,KAAA,OAAArE,GAAAA,GAA0BC,EAAA,IAAO,GAAA,GAAA,GAAA,MAAoBA,EAAA,IAAO,OAASiB,EAAA,GAAmBC,EAAA,EAAqBlB,EAAA,KAAoBD,GAAAA,GAAaC,EAAA,KAAO,EAAA,GAAA,mBAAAD,GAAAA,GAAqCC,EAAA,IAAO,GAAA,EAAA,KAAA,EAAA,EAAA,gBAAA,MAAA,KAAA,KAAA,KAAA,KAAA,KAAA,OAAkFA,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqB0E,EAAA,GAAkB1D,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,EAAM2E,EAAA,IAAW,EAAOP,EAAA,IAAU,KAAA,MAAiBpE,EAAA,IAAO,UAAA,GAAgB4E,SAAA,KAAc7E,GAAAA,GAAYC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAS,sCAAuET,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,KAAO,EAAA,GAAA,aAAAD,GAAAA,GAA+BC,EAAA,KAAO,EAAA,MAAA,SAAAD,GAAAA,GAA8BC,EAAA,KAAO,EAAA,MAAA,SAAAD,GAAAA,GAA8BC,EAAA,IAAO,GAAA,EAAA,KAAA,KAAA,GAAA,gBAAA,QAAA,iBAAA,EAAA,oBAAA,OAAA,EAAA,gBAAA,OAAA,KAAA,KAA4IgF,GAAA,EAAoBA,GAAA,IAA0BhF,EAAA,IAAO,GAAA,QAAA,KAAA,EAAuBiF,GAAA,GAAcjE,EAAA,EAAWwD,EAAA,EAAcU,GAAA,EAAmBlF,EAAA,EAAeA,EAAA,EAAaqE,EAAA,EAASc,GAAA,EAAcnF,EAAA,GAAS,EAAMkE,EAAA,IAAkB,EAAOI,EAAA,IAAiB,KAAA,OAAAvE,GAAAA,GAA0BC,EAAA,KAAO,EAAA,GAAA,aAAAD,GAAAA,GAA+BC,EAAA,IAAO,GAAA,EAAA,KAAA,EAAA,GAAA,kBAAA,KAAA,KAAA,KAA2DoF,GAAA,EAAiCA,GAAA,IAAuCpF,EAAA,IAAO,GAAA,OAAA,KAAA,EAAsBqF,GAAA,GAA2BnE,EAAA,EAAqBlB,EAAA,EAAeyE,EAAA,EAAwBa,GAAA,IAAyBC,WAAA,EAAA,cAA8B,OAAAxF,GAAAA,GAAkBC,EAAA,KAAO,EAAA,GAAA,iBAAAD,GAAAA,GAAmCC,EAAA,IAAO,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,oBAAA,KAAA,KAAA,KAAA,KAAA,QAAAD,GAAAA,GAAqGC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAoB,sCAAuEpB,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,uBAAAD,GAAAA,GAA4CC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAsB,sCAAuEtB,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,uBAAAD,GAAAA,GAA4CC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAuB,sCAAuEvB,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAwB,sCAAuExB,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,uBAAAD,GAAAA,GAA4CC,EAAA,KAAO,EAAA,MAAA,qBAAAD,GAAAA,GAA0CC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAyB,sCAAuEzB,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,iBAAAD,GAAAA,GAAsCC,EAAA,KAAO,EAAA,GAAA,aAAAD,GAAAA,GAA+BC,EAAA,KAAO,EAAA,GAAA,SAAAD,GAAAA,GAA2BC,EAAA,KAAO,EAAA,MAAA,WAAAD,GAAAA,GAAgCC,EAAA,IAAO,GAAA,EAAA,KAAA,KAAA,EAAA,gBAAA,KAAA,KAAA,KAAA,KAAA,OAAyEA,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBwF,GAAA,GAAaxE,EAAA,EAAWhB,EAAA,EAAeA,EAAA,GAAW,EAAMkE,EAAA,IAAkB,KAAA,OAAAnE,GAAAA,GAA0BC,EAAA,KAAO,EAAA,MAAA,aAAAD,GAAAA,GAAkCC,EAAA,IAAO,SAAA,KAAA,KAAA,EAAA,KAAAuD,sCAAuEvD,EAAA,IAAO,GAAA,MAAA,KAAA,EAAqBoC,EAAA,GAAUpC,EAAA,IAAqBA,EAAA,KAAkBqC,MAAA,EAAA,SAAoB,OAAAtC,GAAAA,GAAkBC,EAAA,KAAO,EAAA,MAAA,SAAAD,GAAAA,GAA8BC,EAAA,KAAO,EAAA,MAAA,WAAA,SAAAI,EAAAC,GAA4C,IAAAC,EAAAD,EAAAE,UAAwBH,EAAAC,EAAA,GAAA,GAAiDD,EAAAC,EAAA,GAAA,EAAjCC,EAAAe,aAAgGjB,EAAAC,EAAA,GAAA,EAApCC,EAAAmF,gBAA6FrF,EAAAC,EAAA,GAAA,GAA9BC,EAAAiC,SAAsFnC,EAAAC,EAAA,GAAA,EAA7BC,EAAAkC,SAAsFpC,EAAAC,EAAA,GAAA,EAA9BC,EAAAmC,SAAwFrC,EAAAC,EAAA,GAAA,EAA9BC,EAAAmC,SAAwFrC,EAAAC,EAAA,GAAA,EAA9BC,EAAAiC,SAA+FnC,EAAAC,EAAA,GAAA,EAArCC,EAAAmF,iBAAmE,SAAArF,EAAAC,GAAsB,IAAAC,EAAAD,EAAAE,UAA6GH,EAAAC,EAAA,EAAA,EAApEL,EAAA,IAAOK,EAAA,IAAAwB,QAAkC7B,EAAA,IAAOK,EAAA,IAAAqF,YAAuItF,EAAAC,EAAA,GAAA,EAA7DL,EAAA,IAAOK,EAAA,GAAA,EAAYL,EAAA,IAAOK,EAAA,IAAAc,UAAA,iBAAwIf,EAAAC,EAAA,GAAA,EAAzDL,EAAA,IAAOK,EAAA,GAAA,EAAYL,EAAA,IAAOK,EAAA,IAAAc,UAAAb,EAAAoC,SAA2JtC,EAAAC,EAAA,GAAA,EAAhFL,EAAA,IAAOK,EAAA,IAAAsF,iBAA2C3F,EAAA,IAAOK,EAAA,IAAAuF,slBC/C91KC,EAAA,WAgCI,SAAAC,6BAAoBC,EAA0BC,EAA2BC,EACzDC,EAA0CC,EAC1CC,EAA0CC,GAFtCC,KAAAP,SAAAA,EAAqDO,KAAAL,SAAAA,EACzDK,KAAAJ,UAAAA,EAA0CI,KAAAH,aAAAA,EAC1CG,KAAAF,UAAAA,EAA0CE,KAAAD,IAAAA,EACtDC,KAAKC,OAASA,OACdD,KAAKE,KAAOR,EAAOS,IAAI,QACvBH,KAAKjD,QAAU2C,EAAOS,IAAI,WAC1BH,KAAKI,WAAaV,EAAOS,IAAI,eAAiB,cAC9CH,KAAKK,SAAWX,EAAOS,IAAI,YAC3BH,KAAKM,UAAYZ,EAAOS,IAAI,aAC5BH,KAAKO,QAAUb,EAAOS,IAAI,YAAc,IACxCH,KAAKQ,gBAAkBd,EAAOS,IAAI,iBAsV1C,OAhVIX,6BAAAiB,UAAAC,SAAA,WAAA,IAAAC,EAAAX,KACIA,KAAKY,gBAEL,IAAMC,GACFC,OAAOd,KAAK/D,UAAoBmE,WAAYJ,KAAKI,YACjDW,OAAQf,KAAK7D,SAGjB6E,UAAUC,aAAaC,aAAaL,GAAaM,KAAK,SAACC,GACnD,IAAIC,KA8BJ,GA7BAV,EAAKW,iBAAmBF,EAEnBT,EAAKxE,UACFwE,EAAKzE,QACLyE,EAAKY,aAAeZ,EAAKrD,aAAakE,eAEtCb,EAAKY,aAAeZ,EAAKjD,aAAa8D,cACtCb,EAAKc,gBAAgBd,EAAKW,kBAC1BX,EAAKe,YAAYC,SAGrBhB,EAAKiB,cAAgB,IAAIjB,EAAKV,OAAO4B,cAAclB,EAAKW,kBAAoBQ,SAAUnB,EAAKN,WAG3FM,EAAKiB,cAAcG,gBAAkB,SAACC,GAC9BA,EAAEC,KAAKC,KAAO,GACdb,EAAOc,KAAKH,EAAEC,OAKtBtB,EAAKiB,cAAcQ,OAAS,WACxBzB,EAAK0B,UAAY,IAAIC,KAAKjB,GAC1BA,KAEAV,EAAKY,aAAagB,IAAMtC,OAAOuC,IAAIC,gBAAgB9B,EAAK0B,aAI5D1B,EAAKxE,SAAWwE,EAAKzE,QAAS,CAC9B,IACIwG,EADAC,GAAY,EAIhBhC,EAAKtD,YAAYmE,cAAcoB,iBAAmB,WAC1CD,IAKJA,GAAY,EACZE,aAAaH,GACb/B,EAAKxB,gBAAiB,EACtBwB,EAAKtD,YAAYmE,cAAcoB,iBAAmB,KAElDjC,EAAKZ,IAAI+C,kBAIbnC,EAAKtD,YAAYmE,cAAce,IAAMtC,OAAOuC,IAAIC,gBAAgB9B,EAAKW,kBAGrEoB,EAAcK,WAAW,WAChBJ,IAEDA,GAAY,EACZhC,EAAKqC,kBAAkB,EAAG,+BAE/B,UAGHrC,EAAKxB,gBAAiB,IAE3B8D,MAAM,SAACC,GACNvC,EAAKqC,kBAAkB,EAAGE,EAAMC,SAAWD,MAUzC1D,6BAAAiB,UAAAgB,gBAAV,SAA0BL,GACtB,IAAIgC,GAAO,EACPzG,GAAU,EAER0G,EAAW,IAAKrD,KAAKC,OAAOqD,cAAgBtD,KAAKC,OAAOsD,oBAC1DC,EAAYxD,KAAKvC,YAAY+D,cAAciC,WAAW,MACtDC,EAASL,EAASM,wBAAwBvC,GAC1CwC,EAAWP,EAASQ,iBACpBC,EAAeF,EAASG,kBACxBC,EAAY,IAAIC,WAAWH,GAC3BI,EAAQlE,KAAKvC,YAAY+D,cAAc0C,MACvCC,EAASnE,KAAKvC,YAAY+D,cAAc2C,OACxCC,EAAY,WACR,GAAKzH,IAKL0H,sBAAsBD,KAGtBhB,GAAQA,IACR,CAIA,IAAMkB,EAAaJ,EAAQJ,EACvBS,EAAI,EAERX,EAASY,sBAAsBR,GAE/BR,EAAUiB,UAAY,qBACtBjB,EAAUkB,SAAS,EAAG,EAAGR,EAAOC,GAEhCX,EAAUmB,UAAY,EACtBnB,EAAUoB,YAAc,eAExBpB,EAAUqB,YAEV,IAAK,IAAIC,EAAI,EAAGA,EAAIhB,EAAcgB,IAAK,CACnC,IACIC,EADMf,EAAUc,GAAK,IACbX,EAAS,EAEX,IAANW,EACAtB,EAAUwB,OAAOT,EAAGQ,GAEpBvB,EAAUyB,OAAOV,EAAGQ,GAGxBR,GAAKD,EAGTd,EAAUyB,OAAOf,EAAOC,EAAS,GACjCX,EAAU0B,WAGlBtB,EAASuB,QAAU,KACnBzB,EAAO0B,QAAQxB,GAEf5D,KAAK0B,aACDC,MAAO,WACChF,IAIJA,GAAU,EACVyH,MAEJiB,KAAM,WACF1I,GAAU,KAQZ6C,6BAAAiB,UAAAG,cAAV,WACqB,gBAAbZ,KAAKE,OACLF,KAAKsF,gBAAiB,EACtBtF,KAAKE,KAAO,SAIC,SAAbF,KAAKE,MACLF,KAAK9D,SAAU,EACf8D,KAAK5D,MAAQ,qBACO,SAAb4D,KAAKE,MACZF,KAAK/D,SAAU,EACf+D,KAAK5D,MAAQ,qBACO,SAAb4D,KAAKE,OACZF,KAAK7D,SAAU,EACf6D,KAAK5D,MAAQ,sBAOrBoD,6BAAAiB,UAAA7E,cAAA,WAAA,IAAA+E,EAAAX,KACI,GAAIA,KAAKhE,YAELgE,KAAKxD,gBACLwD,KAAKD,IAAI+C,qBAET,GAAK9C,KAAK7D,QAMH,CAEH,IAAM+H,EAAQlE,KAAK3C,YAAYmE,cAAc+D,WACzCpB,EAASnE,KAAK3C,YAAYmE,cAAcgE,YACxCC,EAAezF,KAAKL,SAAS+F,mBAEjC1F,KAAKzC,UAAUiE,cAAc0C,MAAQA,EACrClE,KAAKzC,UAAUiE,cAAc2C,OAASA,EACtCnE,KAAKzC,UAAUiE,cAAciC,WAAW,MAAMkC,UAAU3F,KAAK3C,YAAYmE,cAAe,EAAG,EAAG0C,EAAOC,GAGrGnE,KAAKzC,UAAUiE,cAAcoE,OAAO,SAACC,GACjCJ,EAAaK,UAEbnF,EAAK0B,UAAYwD,EACjBlF,EAAKnD,aAAagE,cAAcuE,aAAa,MAAO9F,OAAOuC,IAAIC,gBAAgB9B,EAAK0B,YACpF1B,EAAK5F,aAAc,GACpBiF,KAAKK,SAAUL,KAAKO,cArBvBP,KAAKhE,aAAc,EACnBgE,KAAKhD,aAAc,EACnBgD,KAAK4B,cAAcD,QACnB3B,KAAKD,IAAI+C,iBA0BrBtD,6BAAAiB,UAAAlC,OAAA,WAEIyB,KAAKgD,iBAAiB,EAAG,YAAa,qBAM1CxD,6BAAAiB,UAAAnE,QAAA,WACI0D,KAAKuB,cAAgBvB,KAAKuB,aAAayE,QACvChG,KAAK3C,aAAe2C,KAAK3C,YAAYmE,cAAcyE,OACnDjG,KAAK0B,aAAe1B,KAAK0B,YAAYC,QAErC3B,KAAKjF,aAAc,EACnBiF,KAAKhE,aAAc,EACnBgE,KAAKhD,aAAc,SACZgD,KAAKqC,UACZrC,KAAKD,IAAI+C,iBAQbtD,6BAAAiB,UAAAyF,gBAAA,SAAgBjE,GACZjC,KAAKP,SAASqG,QAAQ7D,EAAM,YAUhCzC,6BAAAiB,UAAAuC,iBAAA,SAAiBmD,EAAchD,EAAiBiD,GAG5CpG,KAAKP,SAASqG,QAFG9F,KAAK7D,UAAY6D,KAAKsF,eACfc,GAAiBjD,GAAagD,KAAMA,EAAMhD,QAASA,GAC9C,UAMjC3D,6BAAAiB,UAAAlG,KAAA,WAAA,IAAAoG,EAAAX,KACI,GAAIA,KAAKQ,cAELR,KAAKkG,gBAAgBlG,KAAKzC,UAAUiE,cAAc6E,UAAUrG,KAAKK,SAAUL,KAAKO,eAKpF,GAAKP,KAAKqC,UAAV,CAQA,IAAMiE,EAAWtG,KAAKE,KAAO,IAAMF,KAAKJ,UAAU2G,oBAAsB,IAAMvG,KAAKM,UAC/EkG,EAAOxG,KAAKF,UAAU2G,iBAAiBC,EAAA,EAAiBC,UAAW,SAAWL,GAC9EM,EAAe5G,KAAKL,SAAS+F,mBAEjC1F,KAAKH,aAAagH,UAAUL,EAAMxG,KAAKqC,WAAWlB,KAAK,SAAC2F,GACpD,IAAInG,EAAKxE,SAAYwE,EAAK2E,eAItB,OAAO3E,EAAKd,aAAakH,YAAYD,GAAW3F,KAAK,SAAC6F,GAYlDrG,EAAKuF,kBAVD5K,KAAMwL,EAAUxL,KAChB2L,SAAUH,EAAUG,SACpB/G,KAAM,KACNgH,iBAAkBF,EAASG,iBAC3BjF,KAAM8E,EAAS9E,KACfkF,cAAe,SAACC,EAAWC,UAVnC3G,EAAKuF,gBAAgBY,EAAUS,WAkBpCtE,MAAM,SAACuE,GACN7G,EAAKhB,SAAS8H,eAAeD,KAC9BE,QAAQ,WACPd,EAAad,iBAjCb9F,KAAKL,SAAS8H,eAAe,oCAwCrCjI,6BAAAiB,UAAAjE,cAAA,WACIwD,KAAK3C,aAAe2C,KAAK3C,YAAYmE,cAAcwE,QACnDhG,KAAK0B,aAAe1B,KAAK0B,YAAY2D,OACrCrF,KAAK4B,eAAiB5B,KAAK4B,cAAcyD,OACzCrF,KAAKhE,aAAc,EACnBgE,KAAKjF,aAAc,GAMvByE,6BAAAiB,UAAAkH,YAAA,WACmB3H,KAAKsB,iBAAiBsG,YAC9BC,QAAQ,SAACC,GACZA,EAAMzC,SAEVrF,KAAK3C,aAAe2C,KAAK3C,YAAYmE,cAAcwE,QACnDhG,KAAKuB,cAAgBvB,KAAKuB,aAAayE,QACvChG,KAAK0B,aAAe1B,KAAK0B,YAAY2D,cAC9BrF,KAAKqC,WA7XU0F,GAAzBC,OAAAtO,EAAA,GAAAsO,CAAU,+BAA4BtO,EAAA,iEACZqO,GAA1BC,OAAAtO,EAAA,GAAAsO,CAAU,gCAA8BtO,EAAA,kEACjBqO,GAAvBC,OAAAtO,EAAA,GAAAsO,CAAU,6BAAwBtO,EAAA,+DACRqO,GAA1BC,OAAAtO,EAAA,GAAAsO,CAAU,gCAA8BtO,EAAA,kEACfqO,GAAzBC,OAAAtO,EAAA,GAAAsO,CAAU,+BAA4BtO,EAAA,iEACZqO,GAA1BC,OAAAtO,EAAA,GAAAsO,CAAU,gCAA8BtO,EAAA,kEANhC8F,6BAA4BuI,GAJxCC,OAAAtO,EAAA,EAAAsO,EACGC,SAAU,mCACVC,YAAa,8CAkCiBC,EAAA,EAAwBA,EAAA,EAA6BC,EAAA,EACxDlO,EAAA,EAA6CwM,EAAA,EAC7C7M,EAAA,EAAoCH,EAAA,KAlCtD8F,8BAAb,uXCEA6I,EAAA,WAAA,SAAAC,sCAAiD,OAApCA,mCAAkCC,GAX9CP,OAAAtO,EAAA,EAAAsO,EACGQ,cACIjJ,GAEJkJ,SACIC,EAAA,EACAC,EAAA,EACAR,EAAA,EAAgBS,SAASrJ,GACzBsJ,EAAA,EAAgBD,eAGXN,oCAAb,sNHpBA7L,EAAqC/C,EAAA,KAASoP,cAAA,EAAAC,UAAA9G,aAIXvI,EAAA,IAAO,cAAgBgD,EAAA,EADnD,SAAAsM,gCAAAvP,GAA8C,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,iBAAA,KAAA,KAAA,KAAAF,2BAAAiD,IAAyH/C,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqBgD,EAAA,GAAyBhD,EAAA,GAAoB,KAAA,OAAA,SAAAI,EAAAC,GAAqCD,EAAAC,EAAA,EAAA,IAAiB,QAC7N4C,QAAA,UAAAsM,UAAA,YAAArM,QAAA,UAAAC,MAAA,UAAoFC,MAAA,kOC8BxMoM,GAA8CxP,EAAA,KAASoP,cAAA,EAAAC,UAAA9G,UAiCvDkH,GAA4CzP,EAAA,IAAO,mCAAqC6F,EADjF,SAAA6J,yCAAA3P,GAAuD,OAAQC,EAAA,IAAO,IAAAD,GAAAA,GAAcC,EAAA,IAAO,EAAA,EAAA,KAAA,KAAA,EAAA,sCAAA,KAAA,KAAA,KAAA0D,oCAAA8L,KAAgKxP,EAAA,IAAO,EAAA,OAAA,KAAA,EAAqB6F,GAAmC3B,EAAA,EAAoByL,GAAA,EAAejB,EAAA,EAA0BlO,EAAA,EAA2BwM,EAAA,EAAsB7M,EAAA,EAA2BH,EAAA,GAAoB,KAAA,OAAA,SAAAI,EAAAC,GAAqCD,EAAAC,EAAA,EAAA,IAAiB,0GG9EphBuP,EAAAC,EAAAC,EAAA,8CAAA,WAAA,OAAAC,KAqCA,IAAAA,GAAkD/P,EAAA,IAAQ2O,KAAqC,SAAA5O,GAAqB,OAAQC,EAAA,KAASA,EAAA,IAAO,IAAMA,EAAA,EAA6BA,EAAA,MAAmC,GAAQgQ,EAAA,EAA4BC,EAAA,EAAsBC,EAAA,EAAsBC,EAAA,EAAwBC,EAAA,EAAsBC,EAAA,EAAuBC,EAAA,EAAwBC,EAAA,EAA2BC,EAAA,EAAuBC,EAAA,EAA8CC,EAAA,EAAmDC,EAAA,EAA0CC,EAAA,EAAqCnB,MAAyC,EAAQzP,EAAA,GAA8BA,EAAA,IAAkBA,EAAA,IAAO,KAAOoC,EAAA,EAAoBA,EAAA,GAA2BpC,EAAA,GAAY,EAAMoC,EAAA,KAAWpC,EAAA,IAAO,KAAO6Q,GAAA,EAAQA,GAAA,MAAa7Q,EAAA,IAAO,KAAO6Q,GAAA,EAAiBA,GAAA,MAAsB7Q,EAAA,IAAO,KAAO8Q,GAAA,EAAqBA,GAAA,MAA8B9Q,EAAA,IAAO,KAAO+Q,GAAA,EAAuBA,GAAA,MAAgC/Q,EAAA,IAAO,KAAOgR,GAAA,EAAqBA,GAAA,MAAiChR,EAAA,IAAO,KAAOiR,GAAA,EAA+BA,GAAA,MAAwCjR,EAAA,IAAO,KAAOkB,EAAA,EAAsBA,EAAA,GAAuBgQ,GAAA,EAAoBJ,GAAA,EAAqBC,GAAA,EAAuBC,GAAA,EAAqBC,GAAA,EAA+B/P,EAAA,EAAsBA,EAAA,IAAiBlB,EAAA,IAAO,IAAMoC,EAAA,EAAkBA,EAAA,MAAuBpC,EAAA,IAAO,IAAM6Q,GAAA,EAASA,GAAA,MAAc7Q,EAAA,IAAO,IAAM6Q,GAAA,EAAiBA,GAAA,MAAsB7Q,EAAA,IAAO,IAAM6Q,GAAA,EAAyBA,GAAA,MAA8B7Q,EAAA,IAAO,IAAMmR,GAAA,EAAiBA,GAAA,MAAsBnR,EAAA,IAAO,IAAMmP,EAAA,EAAqBA,EAAA,MAA0BnP,EAAA,IAAO,IAAMiP,EAAA,EAA0BA,EAAA,MAA+BjP,EAAA,IAAO,IAAMoR,GAAA,EAAqBA,GAAA,MAA0BpR,EAAA,IAAO,IAAMgP,EAAA,EAA0BA,EAAA,MAA+BhP,EAAA,IAAO,IAAMmR,GAAA,EAAqBA,GAAA,MAA0BnR,EAAA,IAAO,IAAM2O,EAAuCA,MAA4C3O,EAAA,IAAO,IAAMkB,EAAA,OAAamQ,MAAkBrR,EAAA,IAAO,IAAMkB,EAAA,OAAoBmQ,MAAkBrR,EAAA,IAAO,IAAMsR,GAAA,EAAuBzL","sourcesContent":["/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../pipes/seconds-to-hms\";\nimport * as i2 from \"../../providers/logger\";\nimport * as i3 from \"../../providers/utils/text\";\nimport * as i4 from \"./chrono\";\nvar styles_CoreChronoComponent = [];\nvar RenderType_CoreChronoComponent = i0.ɵcrt({ encapsulation: 2, styles: styles_CoreChronoComponent, data: {} });\nexport { RenderType_CoreChronoComponent as RenderType_CoreChronoComponent };\nexport function View_CoreChronoComponent_0(_l) { return i0.ɵvid(0, [i0.ɵpid(0, i1.CoreSecondsToHMSPipe, [i2.CoreLoggerProvider, i3.CoreTextUtilsProvider]), (_l()(), i0.ɵeld(1, 0, null, null, 2, \"span\", [[\"role\", \"timer\"]], null, null, null, null, null)), (_l()(), i0.ɵted(2, null, [\"\", \"\"])), i0.ɵppd(3, 1)], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵunv(_v, 2, 0, _ck(_v, 3, 0, i0.ɵnov(_v, 0), (_co.time / 1000))); _ck(_v, 2, 0, currVal_0); }); }\nexport function View_CoreChronoComponent_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"core-chrono\", [], null, null, null, View_CoreChronoComponent_0, RenderType_CoreChronoComponent)), i0.ɵdid(1, 770048, null, 0, i4.CoreChronoComponent, [i0.ChangeDetectorRef], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar CoreChronoComponentNgFactory = i0.ɵccf(\"core-chrono\", i4.CoreChronoComponent, View_CoreChronoComponent_Host_0, { running: \"running\", startTime: \"startTime\", endTime: \"endTime\", reset: \"reset\" }, { onEnd: \"onEnd\" }, []);\nexport { CoreChronoComponentNgFactory as CoreChronoComponentNgFactory };\n//# sourceMappingURL=chrono.ngfactory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chrono/chrono.ngfactory.js\n// module id = null\n// module chunks = ","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../node_modules/ionic-angular/components/button/button.ngfactory\";\nimport * as i2 from \"ionic-angular/components/button/button\";\nimport * as i3 from \"ionic-angular/config/config\";\nimport * as i4 from \"@ngx-translate/core/src/translate.pipe\";\nimport * as i5 from \"@ngx-translate/core/src/translate.service\";\nimport * as i6 from \"ionic-angular/components/icon/icon\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../../../components/chrono/chrono.ngfactory\";\nimport * as i9 from \"../../../../components/chrono/chrono\";\nimport * as i10 from \"ionic-angular/components/grid/row\";\nimport * as i11 from \"ionic-angular/components/grid/col\";\nimport * as i12 from \"ionic-angular/components/toolbar/toolbar-header\";\nimport * as i13 from \"ionic-angular/navigation/view-controller\";\nimport * as i14 from \"../../../../../node_modules/ionic-angular/components/toolbar/navbar.ngfactory\";\nimport * as i15 from \"ionic-angular/components/toolbar/navbar\";\nimport * as i16 from \"ionic-angular/components/app/app\";\nimport * as i17 from \"ionic-angular/navigation/nav-controller\";\nimport * as i18 from \"../../../../directives/back-button\";\nimport * as i19 from \"ionic-angular/platform/platform\";\nimport * as i20 from \"../../../../providers/events\";\nimport * as i21 from \"ionic-angular/components/toolbar/toolbar-item\";\nimport * as i22 from \"ionic-angular/components/toolbar/toolbar\";\nimport * as i23 from \"../../../../../node_modules/ionic-angular/components/toolbar/toolbar-title.ngfactory\";\nimport * as i24 from \"ionic-angular/components/toolbar/toolbar-title\";\nimport * as i25 from \"../../../../../node_modules/ionic-angular/components/content/content.ngfactory\";\nimport * as i26 from \"ionic-angular/components/content/content\";\nimport * as i27 from \"ionic-angular/platform/dom-controller\";\nimport * as i28 from \"ionic-angular/platform/keyboard\";\nimport * as i29 from \"../../../../components/loading/loading.ngfactory\";\nimport * as i30 from \"../../../../components/loading/loading\";\nimport * as i31 from \"../../../../providers/utils/utils\";\nimport * as i32 from \"ionic-angular/components/toolbar/toolbar-footer\";\nimport * as i33 from \"./capture-media\";\nimport * as i34 from \"ionic-angular/navigation/nav-params\";\nimport * as i35 from \"../../../../providers/utils/dom\";\nimport * as i36 from \"../../../../providers/utils/time\";\nimport * as i37 from \"../../../../providers/file\";\nimport * as i38 from \"../../../../providers/utils/text\";\nvar styles_CoreEmulatorCaptureMediaPage = [];\nvar RenderType_CoreEmulatorCaptureMediaPage = i0.ɵcrt({ encapsulation: 2, styles: styles_CoreEmulatorCaptureMediaPage, data: {} });\nexport { RenderType_CoreEmulatorCaptureMediaPage as RenderType_CoreEmulatorCaptureMediaPage };\nfunction View_CoreEmulatorCaptureMediaPage_1(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 3, \"button\", [[\"ion-button\", \"\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.done() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i1.View_Button_0, i1.RenderType_Button)), i0.ɵdid(1, 1097728, [[8, 4]], 0, i2.Button, [[8, \"\"], i3.Config, i0.ElementRef, i0.Renderer], null, null), (_l()(), i0.ɵted(2, 0, [\"\", \"\"])), i0.ɵpid(131072, i4.TranslatePipe, [i5.TranslateService, i0.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i0.ɵunv(_v, 2, 0, i0.ɵnov(_v, 3).transform(\"core.done\")); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_2(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, [[1, 0], [\"streamVideo\", 1]], null, 0, \"video\", [[\"autoplay\", \"\"], [\"class\", \"core-webcam-stream\"]], [[8, \"hidden\", 0]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.hasCaptured; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_3(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, [[2, 0], [\"previewVideo\", 1]], null, 0, \"video\", [[\"class\", \"core-webcam-video-captured\"], [\"controls\", \"\"]], [[8, \"hidden\", 0]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = !_co.hasCaptured; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_4(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, [[3, 0], [\"imgCanvas\", 1]], null, 0, \"canvas\", [[\"class\", \"core-webcam-image-canvas\"]], null, null, null, null, null))], null, null); }\nfunction View_CoreEmulatorCaptureMediaPage_5(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, [[4, 0], [\"previewImage\", 1]], null, 1, \"img\", [[\"class\", \"core-webcam-image\"]], [[8, \"hidden\", 0], [8, \"alt\", 0]], null, null, null, null)), i0.ɵpid(131072, i4.TranslatePipe, [i5.TranslateService, i0.ChangeDetectorRef])], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = !_co.hasCaptured; var currVal_1 = i0.ɵinlineInterpolate(1, \"\", i0.ɵunv(_v, 0, 1, i0.ɵnov(_v, 1).transform(\"core.capturedimage\")), \"\"); _ck(_v, 0, 0, currVal_0, currVal_1); }); }\nfunction View_CoreEmulatorCaptureMediaPage_6(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 5, \"div\", [[\"class\", \"core-audio-record-container\"]], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\n                \"])), (_l()(), i0.ɵeld(2, 0, [[5, 0], [\"streamAudio\", 1]], null, 0, \"canvas\", [[\"class\", \"core-audio-canvas\"]], [[8, \"hidden\", 0]], null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\n                \"])), (_l()(), i0.ɵeld(4, 0, [[6, 0], [\"previewAudio\", 1]], null, 0, \"audio\", [[\"class\", \"core-audio-captured\"], [\"controls\", \"\"]], [[8, \"hidden\", 0]], null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\n            \"]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.hasCaptured; _ck(_v, 2, 0, currVal_0); var currVal_1 = !_co.hasCaptured; _ck(_v, 4, 0, currVal_1); }); }\nfunction View_CoreEmulatorCaptureMediaPage_9(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"ion-icon\", [[\"name\", \"microphone\"], [\"role\", \"img\"]], [[2, \"hide\", null]], null, null, null, null)), i0.ɵdid(1, 147456, null, 0, i6.Icon, [i3.Config, i0.ElementRef, i0.Renderer], { name: [0, \"name\"] }, null)], function (_ck, _v) { var currVal_1 = \"microphone\"; _ck(_v, 1, 0, currVal_1); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1)._hidden; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_10(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"ion-icon\", [[\"name\", \"videocam\"], [\"role\", \"img\"]], [[2, \"hide\", null]], null, null, null, null)), i0.ɵdid(1, 147456, null, 0, i6.Icon, [i3.Config, i0.ElementRef, i0.Renderer], { name: [0, \"name\"] }, null)], function (_ck, _v) { var currVal_1 = \"videocam\"; _ck(_v, 1, 0, currVal_1); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1)._hidden; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_11(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"ion-icon\", [[\"name\", \"camera\"], [\"role\", \"img\"]], [[2, \"hide\", null]], null, null, null, null)), i0.ɵdid(1, 147456, null, 0, i6.Icon, [i3.Config, i0.ElementRef, i0.Renderer], { name: [0, \"name\"] }, null)], function (_ck, _v) { var currVal_1 = \"camera\"; _ck(_v, 1, 0, currVal_1); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1)._hidden; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_12(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"ion-icon\", [[\"name\", \"square\"], [\"role\", \"img\"]], [[2, \"hide\", null]], null, null, null, null)), i0.ɵdid(1, 147456, null, 0, i6.Icon, [i3.Config, i0.ElementRef, i0.Renderer], { name: [0, \"name\"] }, null)], function (_ck, _v) { var currVal_1 = \"square\"; _ck(_v, 1, 0, currVal_1); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1)._hidden; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_8(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 14, \"button\", [[\"clear\", \"\"], [\"icon-only\", \"\"], [\"ion-button\", \"\"]], [[1, \"aria-label\", 0]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.actionClicked() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i1.View_Button_0, i1.RenderType_Button)), i0.ɵdid(1, 1097728, null, 0, i2.Button, [[8, \"\"], i3.Config, i0.ElementRef, i0.Renderer], { clear: [0, \"clear\"] }, null), (_l()(), i0.ɵted(-1, 0, [\"\\n                \"])), (_l()(), i0.ɵand(16777216, null, 0, 1, null, View_CoreEmulatorCaptureMediaPage_9)), i0.ɵdid(4, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, 0, [\"\\n                \"])), (_l()(), i0.ɵand(16777216, null, 0, 1, null, View_CoreEmulatorCaptureMediaPage_10)), i0.ɵdid(7, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, 0, [\"\\n                \"])), (_l()(), i0.ɵand(16777216, null, 0, 1, null, View_CoreEmulatorCaptureMediaPage_11)), i0.ɵdid(10, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, 0, [\"\\n                \"])), (_l()(), i0.ɵand(16777216, null, 0, 1, null, View_CoreEmulatorCaptureMediaPage_12)), i0.ɵdid(13, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, 0, [\"\\n            \"]))], function (_ck, _v) { var _co = _v.component; var currVal_1 = \"\"; _ck(_v, 1, 0, currVal_1); var currVal_2 = (!_co.isCapturing && _co.isAudio); _ck(_v, 4, 0, currVal_2); var currVal_3 = (!_co.isCapturing && _co.isVideo); _ck(_v, 7, 0, currVal_3); var currVal_4 = _co.isImage; _ck(_v, 10, 0, currVal_4); var currVal_5 = _co.isCapturing; _ck(_v, 13, 0, currVal_5); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.title; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_13(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 6, \"button\", [[\"clear\", \"\"], [\"icon-only\", \"\"], [\"ion-button\", \"\"]], [[1, \"aria-label\", 0]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.discard() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i1.View_Button_0, i1.RenderType_Button)), i0.ɵdid(1, 1097728, null, 0, i2.Button, [[8, \"\"], i3.Config, i0.ElementRef, i0.Renderer], { clear: [0, \"clear\"] }, null), i0.ɵpid(131072, i4.TranslatePipe, [i5.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵted(-1, 0, [\"\\n                \"])), (_l()(), i0.ɵeld(4, 0, null, 0, 1, \"ion-icon\", [[\"name\", \"trash\"], [\"role\", \"img\"]], [[2, \"hide\", null]], null, null, null, null)), i0.ɵdid(5, 147456, null, 0, i6.Icon, [i3.Config, i0.ElementRef, i0.Renderer], { name: [0, \"name\"] }, null), (_l()(), i0.ɵted(-1, 0, [\"\\n            \"]))], function (_ck, _v) { var currVal_1 = \"\"; _ck(_v, 1, 0, currVal_1); var currVal_3 = \"trash\"; _ck(_v, 5, 0, currVal_3); }, function (_ck, _v) { var currVal_0 = i0.ɵunv(_v, 0, 0, i0.ɵnov(_v, 2).transform(\"core.discard\")); _ck(_v, 0, 0, currVal_0); var currVal_2 = i0.ɵnov(_v, 5)._hidden; _ck(_v, 4, 0, currVal_2); }); }\nfunction View_CoreEmulatorCaptureMediaPage_14(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"core-chrono\", [], [[8, \"hidden\", 0]], [[null, \"onEnd\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"onEnd\" === en)) {\n        var pd_0 = (_co.stopCapturing() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i8.View_CoreChronoComponent_0, i8.RenderType_CoreChronoComponent)), i0.ɵdid(1, 770048, null, 0, i9.CoreChronoComponent, [i0.ChangeDetectorRef], { running: [0, \"running\"], endTime: [1, \"endTime\"], reset: [2, \"reset\"] }, { onEnd: \"onEnd\" })], function (_ck, _v) { var _co = _v.component; var currVal_1 = _co.isCapturing; var currVal_2 = _co.maxTime; var currVal_3 = _co.resetChrono; _ck(_v, 1, 0, currVal_1, currVal_2, currVal_3); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.hasCaptured; _ck(_v, 0, 0, currVal_0); }); }\nfunction View_CoreEmulatorCaptureMediaPage_7(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 22, \"ion-row\", [[\"class\", \"row\"]], null, null, null, null, null)), i0.ɵdid(1, 16384, null, 0, i10.Row, [], null, null), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵeld(3, 0, null, null, 1, \"ion-col\", [[\"class\", \"col\"]], null, null, null, null, null)), i0.ɵdid(4, 16384, null, 0, i11.Col, [], null, null), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵeld(6, 0, null, null, 8, \"ion-col\", [[\"class\", \"col\"], [\"text-center\", \"\"]], null, null, null, null, null)), i0.ɵdid(7, 16384, null, 0, i11.Col, [], null, null), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_8)), i0.ɵdid(10, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_13)), i0.ɵdid(13, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵeld(16, 0, null, null, 5, \"ion-col\", [[\"class\", \"chrono-container col\"], [\"padding\", \"\"], [\"text-end\", \"\"]], null, null, null, null, null)), i0.ɵdid(17, 16384, null, 0, i11.Col, [], null, null), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_14)), i0.ɵdid(20, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵted(-1, null, [\"\\n    \"]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = !_co.hasCaptured; _ck(_v, 10, 0, currVal_0); var currVal_1 = _co.hasCaptured; _ck(_v, 13, 0, currVal_1); var currVal_2 = !_co.isImage; _ck(_v, 20, 0, currVal_2); }, null); }\nexport function View_CoreEmulatorCaptureMediaPage_0(_l) { return i0.ɵvid(0, [i0.ɵqud(671088640, 1, { streamVideo: 0 }), i0.ɵqud(671088640, 2, { previewVideo: 0 }), i0.ɵqud(671088640, 3, { imgCanvas: 0 }), i0.ɵqud(671088640, 4, { previewImage: 0 }), i0.ɵqud(671088640, 5, { streamAudio: 0 }), i0.ɵqud(671088640, 6, { previewAudio: 0 }), (_l()(), i0.ɵeld(6, 0, null, null, 30, \"ion-header\", [], null, null, null, null, null)), i0.ɵdid(7, 16384, null, 0, i12.Header, [i3.Config, i0.ElementRef, i0.Renderer, [2, i13.ViewController]], null, null), (_l()(), i0.ɵted(-1, null, [\"\\n    \"])), (_l()(), i0.ɵeld(9, 0, null, null, 26, \"ion-navbar\", [[\"class\", \"toolbar\"], [\"core-back-button\", \"\"]], [[8, \"hidden\", 0], [2, \"statusbar-padding\", null]], null, null, i14.View_Navbar_0, i14.RenderType_Navbar)), i0.ɵdid(10, 49152, null, 0, i15.Navbar, [i16.App, [2, i13.ViewController], [2, i17.NavController], i3.Config, i0.ElementRef, i0.Renderer], null, null), i0.ɵdid(11, 212992, null, 0, i18.CoreBackButtonDirective, [i15.Navbar, i19.Platform, i5.TranslateService, i20.CoreEventsProvider], null, null), (_l()(), i0.ɵted(-1, 3, [\"\\n        \"])), (_l()(), i0.ɵeld(13, 0, null, 1, 8, \"ion-buttons\", [[\"start\", \"\"]], null, null, null, null, null)), i0.ɵdid(14, 16384, null, 1, i21.ToolbarItem, [i3.Config, i0.ElementRef, i0.Renderer, [2, i22.Toolbar], [2, i15.Navbar]], null, null), i0.ɵqud(603979776, 7, { _buttons: 1 }), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵeld(17, 0, null, null, 3, \"button\", [[\"ion-button\", \"\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.cancel() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i1.View_Button_0, i1.RenderType_Button)), i0.ɵdid(18, 1097728, [[7, 4]], 0, i2.Button, [[8, \"\"], i3.Config, i0.ElementRef, i0.Renderer], null, null), (_l()(), i0.ɵted(19, 0, [\"\", \"\"])), i0.ɵpid(131072, i4.TranslatePipe, [i5.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵted(-1, 3, [\"\\n\\n        \"])), (_l()(), i0.ɵeld(23, 0, null, 3, 3, \"ion-title\", [], null, null, null, i23.View_ToolbarTitle_0, i23.RenderType_ToolbarTitle)), i0.ɵdid(24, 49152, null, 0, i24.ToolbarTitle, [i3.Config, i0.ElementRef, i0.Renderer, [2, i22.Toolbar], [2, i15.Navbar]], null, null), (_l()(), i0.ɵted(25, 0, [\"\", \"\"])), i0.ɵpid(131072, i4.TranslatePipe, [i5.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵted(-1, 3, [\"\\n\\n        \"])), (_l()(), i0.ɵeld(28, 0, null, 2, 6, \"ion-buttons\", [[\"end\", \"\"]], null, null, null, null, null)), i0.ɵdid(29, 16384, null, 1, i21.ToolbarItem, [i3.Config, i0.ElementRef, i0.Renderer, [2, i22.Toolbar], [2, i15.Navbar]], null, null), i0.ɵqud(603979776, 8, { _buttons: 1 }), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_1)), i0.ɵdid(33, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵted(-1, 3, [\"\\n    \"])), (_l()(), i0.ɵted(-1, null, [\"\\n\"])), (_l()(), i0.ɵted(-1, null, [\"\\n\"])), (_l()(), i0.ɵeld(38, 0, null, null, 28, \"ion-content\", [[\"class\", \"has-footer\"]], [[2, \"statusbar-padding\", null], [2, \"has-refresher\", null]], null, null, i25.View_Content_0, i25.RenderType_Content)), i0.ɵdid(39, 4374528, null, 0, i26.Content, [i3.Config, i19.Platform, i27.DomController, i0.ElementRef, i0.Renderer, i16.App, i28.Keyboard, i0.NgZone, [2, i13.ViewController], [2, i17.NavController]], null, null), (_l()(), i0.ɵted(-1, 1, [\"\\n    \"])), (_l()(), i0.ɵeld(41, 0, null, 1, 24, \"core-loading\", [], null, null, null, i29.View_CoreLoadingComponent_0, i29.RenderType_CoreLoadingComponent)), i0.ɵdid(42, 638976, null, 0, i30.CoreLoadingComponent, [i5.TranslateService, i0.ElementRef, i20.CoreEventsProvider, i31.CoreUtilsProvider], { hideUntil: [0, \"hideUntil\"] }, null), (_l()(), i0.ɵted(-1, 0, [\"\\n        \"])), (_l()(), i0.ɵeld(44, 0, null, 0, 20, \"div\", [[\"class\", \"core-av-wrapper\"]], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_2)), i0.ɵdid(48, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n\\n            \"])), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_3)), i0.ɵdid(52, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n\\n            \"])), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_4)), i0.ɵdid(56, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_5)), i0.ɵdid(59, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n\\n            \"])), (_l()(), i0.ɵted(-1, null, [\"\\n            \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_6)), i0.ɵdid(63, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n        \"])), (_l()(), i0.ɵted(-1, 0, [\"\\n    \"])), (_l()(), i0.ɵted(-1, 1, [\"\\n\"])), (_l()(), i0.ɵted(-1, null, [\"\\n\\n\"])), (_l()(), i0.ɵeld(68, 0, null, null, 5, \"ion-footer\", [], null, null, null, null, null)), i0.ɵdid(69, 16384, null, 0, i32.Footer, [i3.Config, i0.ElementRef, i0.Renderer, [2, i13.ViewController]], null, null), (_l()(), i0.ɵted(-1, null, [\"\\n    \"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_CoreEmulatorCaptureMediaPage_7)), i0.ɵdid(72, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, null, [\"\\n\"])), (_l()(), i0.ɵted(-1, null, [\"\\n\\n\"]))], function (_ck, _v) { var _co = _v.component; _ck(_v, 11, 0); var currVal_4 = _co.hasCaptured; _ck(_v, 33, 0, currVal_4); var currVal_7 = _co.readyToCapture; _ck(_v, 42, 0, currVal_7); var currVal_8 = !_co.isAudio; _ck(_v, 48, 0, currVal_8); var currVal_9 = _co.isVideo; _ck(_v, 52, 0, currVal_9); var currVal_10 = _co.isImage; _ck(_v, 56, 0, currVal_10); var currVal_11 = _co.isImage; _ck(_v, 59, 0, currVal_11); var currVal_12 = _co.isAudio; _ck(_v, 63, 0, currVal_12); var currVal_13 = _co.readyToCapture; _ck(_v, 72, 0, currVal_13); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵnov(_v, 10)._hidden; var currVal_1 = i0.ɵnov(_v, 10)._sbPadding; _ck(_v, 9, 0, currVal_0, currVal_1); var currVal_2 = i0.ɵunv(_v, 19, 0, i0.ɵnov(_v, 20).transform(\"core.cancel\")); _ck(_v, 19, 0, currVal_2); var currVal_3 = i0.ɵunv(_v, 25, 0, i0.ɵnov(_v, 26).transform(_co.title)); _ck(_v, 25, 0, currVal_3); var currVal_5 = i0.ɵnov(_v, 39).statusbarPadding; var currVal_6 = i0.ɵnov(_v, 39)._hasRefresher; _ck(_v, 38, 0, currVal_5, currVal_6); }); }\nexport function View_CoreEmulatorCaptureMediaPage_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"page-core-emulator-capture-media\", [], null, null, null, View_CoreEmulatorCaptureMediaPage_0, RenderType_CoreEmulatorCaptureMediaPage)), i0.ɵdid(1, 245760, null, 0, i33.CoreEmulatorCaptureMediaPage, [i13.ViewController, i34.NavParams, i35.CoreDomUtilsProvider, i36.CoreTimeUtilsProvider, i37.CoreFileProvider, i38.CoreTextUtilsProvider, i0.ChangeDetectorRef], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar CoreEmulatorCaptureMediaPageNgFactory = i0.ɵccf(\"page-core-emulator-capture-media\", i33.CoreEmulatorCaptureMediaPage, View_CoreEmulatorCaptureMediaPage_Host_0, {}, {}, []);\nexport { CoreEmulatorCaptureMediaPageNgFactory as CoreEmulatorCaptureMediaPageNgFactory };\n//# sourceMappingURL=capture-media.ngfactory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core/emulator/pages/capture-media/capture-media.ngfactory.js\n// module id = null\n// module chunks = ","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, ViewChild, ElementRef, ChangeDetectorRef } from '@angular/core';\nimport { ViewController, NavParams } from 'ionic-angular';\nimport { CoreFileProvider } from '@providers/file';\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\nimport { CoreTextUtilsProvider } from '@providers/utils/text';\nimport { CoreTimeUtilsProvider } from '@providers/utils/time';\nimport { MediaFile } from '@ionic-native/media-capture';\n\n/**\n * Page to capture media in browser or desktop.\n */\n\n@Component({\n    selector: 'page-core-emulator-capture-media',\n    templateUrl: 'capture-media.html',\n})\nexport class CoreEmulatorCaptureMediaPage implements OnInit, OnDestroy {\n    @ViewChild('streamVideo') streamVideo: ElementRef;\n    @ViewChild('previewVideo') previewVideo: ElementRef;\n    @ViewChild('imgCanvas') imgCanvas: ElementRef;\n    @ViewChild('previewImage') previewImage: ElementRef;\n    @ViewChild('streamAudio') streamAudio: ElementRef;\n    @ViewChild('previewAudio') previewAudio: ElementRef;\n\n    title: string; // The title of the page.\n    isAudio: boolean; // Whether it should capture audio.\n    isVideo: boolean; // Whether it should capture video.\n    isImage: boolean; // Whether it should capture image.\n    readyToCapture: boolean; // Whether it's ready to capture.\n    hasCaptured: boolean; // Whether it has captured something.\n    isCapturing: boolean; // Whether it's capturing.\n    maxTime: number; // The max time to capture.\n    resetChrono: boolean; // Boolean to reset the chrono.\n\n    protected type: string; // The type to capture: audio, video, image, captureimage.\n    protected isCaptureImage: boolean; // To identify if it's capturing an image using media capture plugin (instead of camera).\n    protected returnDataUrl: boolean; // Whether it should return a data img. Only if isImage.\n    protected facingMode: string; // Camera facing mode.\n    protected mimetype: string;\n    protected extension: string;\n    protected window: any; // Cast window to \"any\" because some of the properties used aren't in the window spec.\n    protected mediaRecorder; // To record video/audio.\n    protected audioDrawer; // To start/stop the display of audio sound.\n    protected quality; // Image only.\n    protected previewMedia: HTMLAudioElement | HTMLVideoElement; // The element to preview the audio/video captured.\n    protected mediaBlob: Blob; // A Blob where the captured data is stored.\n    protected localMediaStream: MediaStream;\n\n    constructor(private viewCtrl: ViewController, params: NavParams, private domUtils: CoreDomUtilsProvider,\n            private timeUtils: CoreTimeUtilsProvider, private fileProvider: CoreFileProvider,\n            private textUtils: CoreTextUtilsProvider, private cdr: ChangeDetectorRef) {\n        this.window = window;\n        this.type = params.get('type');\n        this.maxTime = params.get('maxTime');\n        this.facingMode = params.get('facingMode') || 'environment';\n        this.mimetype = params.get('mimetype');\n        this.extension = params.get('extension');\n        this.quality = params.get('quality') || 0.92;\n        this.returnDataUrl = !!params.get('returnDataUrl');\n    }\n\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {\n        this.initVariables();\n\n        const constraints = {\n            video: this.isAudio ? false : { facingMode: this.facingMode },\n            audio: !this.isImage\n        };\n\n        navigator.mediaDevices.getUserMedia(constraints).then((stream) => {\n            let chunks = [];\n            this.localMediaStream = stream;\n\n            if (!this.isImage) {\n                if (this.isVideo) {\n                    this.previewMedia = this.previewVideo.nativeElement;\n                } else {\n                    this.previewMedia = this.previewAudio.nativeElement;\n                    this.initAudioDrawer(this.localMediaStream);\n                    this.audioDrawer.start();\n                }\n\n                this.mediaRecorder = new this.window.MediaRecorder(this.localMediaStream, { mimeType: this.mimetype });\n\n                // When video or audio is recorded, add it to the list of chunks.\n                this.mediaRecorder.ondataavailable = (e): void => {\n                    if (e.data.size > 0) {\n                        chunks.push(e.data);\n                    }\n                };\n\n                // When recording stops, create a Blob element with the recording and set it to the video or audio.\n                this.mediaRecorder.onstop = (): void => {\n                    this.mediaBlob = new Blob(chunks);\n                    chunks = [];\n\n                    this.previewMedia.src = window.URL.createObjectURL(this.mediaBlob);\n                };\n            }\n\n            if (this.isImage || this.isVideo) {\n                let hasLoaded = false,\n                    waitTimeout;\n\n                // Listen for stream ready to display the stream.\n                this.streamVideo.nativeElement.onloadedmetadata = (): void => {\n                    if (hasLoaded) {\n                        // Already loaded or timeout triggered, stop.\n                        return;\n                    }\n\n                    hasLoaded = true;\n                    clearTimeout(waitTimeout);\n                    this.readyToCapture = true;\n                    this.streamVideo.nativeElement.onloadedmetadata = null;\n                    // Force change detection. Angular doesn't detect these async operations.\n                    this.cdr.detectChanges();\n                };\n\n                // Set the stream as the source of the video.\n                this.streamVideo.nativeElement.src = window.URL.createObjectURL(this.localMediaStream);\n\n                // If stream isn't ready in a while, show error.\n                waitTimeout = setTimeout(() => {\n                    if (!hasLoaded) {\n                        // Show error.\n                        hasLoaded = true;\n                        this.dismissWithError(-1, 'Cannot connect to webcam.');\n                    }\n                }, 10000);\n            } else {\n                // It's ready to capture.\n                this.readyToCapture = true;\n            }\n        }).catch((error) => {\n            this.dismissWithError(-1, error.message || error);\n        });\n    }\n\n    /**\n     * Initialize the audio drawer. This code has been extracted from MDN's example on MediaStream Recording:\n     * https://github.com/mdn/web-dictaphone\n     *\n     * @param stream Stream returned by getUserMedia.\n     */\n    protected initAudioDrawer(stream: MediaStream): void {\n        let skip = true,\n            running = false;\n\n        const audioCtx = new (this.window.AudioContext || this.window.webkitAudioContext)(),\n            canvasCtx = this.streamAudio.nativeElement.getContext('2d'),\n            source = audioCtx.createMediaStreamSource(stream),\n            analyser = audioCtx.createAnalyser(),\n            bufferLength = analyser.frequencyBinCount,\n            dataArray = new Uint8Array(bufferLength),\n            width = this.streamAudio.nativeElement.width,\n            height = this.streamAudio.nativeElement.height,\n            drawAudio = (): void => {\n                if (!running) {\n                    return;\n                }\n\n                // Update the draw every animation frame.\n                requestAnimationFrame(drawAudio);\n\n                // Skip half of the frames to improve performance, shouldn't affect the smoothness.\n                skip = !skip;\n                if (skip) {\n                    return;\n                }\n\n                const sliceWidth = width / bufferLength;\n                let x = 0;\n\n                analyser.getByteTimeDomainData(dataArray);\n\n                canvasCtx.fillStyle = 'rgb(200, 200, 200)';\n                canvasCtx.fillRect(0, 0, width, height);\n\n                canvasCtx.lineWidth = 1;\n                canvasCtx.strokeStyle = 'rgb(0, 0, 0)';\n\n                canvasCtx.beginPath();\n\n                for (let i = 0; i < bufferLength; i++) {\n                    const v = dataArray[i] / 128.0,\n                        y = v * height / 2;\n\n                    if (i === 0) {\n                        canvasCtx.moveTo(x, y);\n                    } else {\n                        canvasCtx.lineTo(x, y);\n                    }\n\n                    x += sliceWidth;\n                }\n\n                canvasCtx.lineTo(width, height / 2);\n                canvasCtx.stroke();\n            };\n\n        analyser.fftSize = 2048;\n        source.connect(analyser);\n\n        this.audioDrawer = {\n            start: (): void => {\n                if (running) {\n                    return;\n                }\n\n                running = true;\n                drawAudio();\n            },\n            stop: (): void => {\n                running = false;\n            }\n        };\n    }\n\n    /**\n     * Initialize some variables based on the params.\n     */\n    protected initVariables(): void {\n        if (this.type == 'captureimage') {\n            this.isCaptureImage = true;\n            this.type = 'image';\n        }\n\n        // Initialize some data based on the type of media to capture.\n        if (this.type == 'video') {\n            this.isVideo = true;\n            this.title = 'core.capturevideo';\n        } else if (this.type == 'audio') {\n            this.isAudio = true;\n            this.title = 'core.captureaudio';\n        } else if (this.type == 'image') {\n            this.isImage = true;\n            this.title = 'core.captureimage';\n        }\n    }\n\n    /**\n     * Main action clicked: record or stop recording.\n     */\n    actionClicked(): void {\n        if (this.isCapturing) {\n            // It's capturing, stop.\n            this.stopCapturing();\n            this.cdr.detectChanges();\n        } else {\n            if (!this.isImage) {\n                // Start the capture.\n                this.isCapturing = true;\n                this.resetChrono = false;\n                this.mediaRecorder.start();\n                this.cdr.detectChanges();\n            } else {\n                // Get the image from the video and set it to the canvas, using video width/height.\n                const width = this.streamVideo.nativeElement.videoWidth,\n                    height = this.streamVideo.nativeElement.videoHeight,\n                    loadingModal = this.domUtils.showModalLoading();\n\n                this.imgCanvas.nativeElement.width = width;\n                this.imgCanvas.nativeElement.height = height;\n                this.imgCanvas.nativeElement.getContext('2d').drawImage(this.streamVideo.nativeElement, 0, 0, width, height);\n\n                // Convert the image to blob and show it in an image element.\n                this.imgCanvas.nativeElement.toBlob((blob) => {\n                    loadingModal.dismiss();\n\n                    this.mediaBlob = blob;\n                    this.previewImage.nativeElement.setAttribute('src', window.URL.createObjectURL(this.mediaBlob));\n                    this.hasCaptured = true;\n                }, this.mimetype, this.quality);\n            }\n        }\n    }\n\n    /**\n     * User cancelled.\n     */\n    cancel(): void {\n        // Send a \"cancelled\" error like the Cordova plugin does.\n        this.dismissWithError(3, 'Canceled.', 'Camera cancelled');\n    }\n\n    /**\n     * Discard the captured media.\n     */\n    discard(): void {\n        this.previewMedia && this.previewMedia.pause();\n        this.streamVideo && this.streamVideo.nativeElement.play();\n        this.audioDrawer && this.audioDrawer.start();\n\n        this.hasCaptured = false;\n        this.isCapturing = false;\n        this.resetChrono = true;\n        delete this.mediaBlob;\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * Close the modal, returning some data (success).\n     *\n     * @param data Data to return.\n     */\n    dismissWithData(data: any): void {\n        this.viewCtrl.dismiss(data, 'success');\n    }\n\n    /**\n     * Close the modal, returning an error.\n     *\n     * @param code Error code. Will not be used if it's a Camera capture.\n     * @param message Error message.\n     * @param cameraMessage A specific message to use if it's a Camera capture. If not set, message will be used.\n     */\n    dismissWithError(code: number, message: string, cameraMessage?: string): void {\n        const isCamera = this.isImage && !this.isCaptureImage,\n            error = isCamera ? (cameraMessage || message) : { code: code, message: message };\n        this.viewCtrl.dismiss(error, 'error');\n    }\n\n    /**\n     * Done capturing, write the file.\n     */\n    done(): void {\n        if (this.returnDataUrl) {\n            // Return the image as a base64 string.\n            this.dismissWithData(this.imgCanvas.nativeElement.toDataURL(this.mimetype, this.quality));\n\n            return;\n        }\n\n        if (!this.mediaBlob) {\n            // Shouldn't happen.\n            this.domUtils.showErrorModal('Please capture the media first.');\n\n            return;\n        }\n\n        // Create the file and return it.\n        const fileName = this.type + '_' + this.timeUtils.readableTimestamp() + '.' + this.extension,\n            path = this.textUtils.concatenatePaths(CoreFileProvider.TMPFOLDER, 'media/' + fileName),\n            loadingModal = this.domUtils.showModalLoading();\n\n        this.fileProvider.writeFile(path, this.mediaBlob).then((fileEntry) => {\n            if (this.isImage && !this.isCaptureImage) {\n                this.dismissWithData(fileEntry.toURL());\n            } else {\n                // The capture plugin should return a MediaFile, not a FileEntry. Convert it.\n                return this.fileProvider.getMetadata(fileEntry).then((metadata) => {\n                    const mediaFile: MediaFile = {\n                        name: fileEntry.name,\n                        fullPath: fileEntry.fullPath,\n                        type: null,\n                        lastModifiedDate: metadata.modificationTime,\n                        size: metadata.size,\n                        getFormatData: (successFn, errorFn): void => {\n                            // Nothing to do.\n                        }\n                    };\n\n                    this.dismissWithData([mediaFile]);\n                });\n            }\n        }).catch((err) => {\n            this.domUtils.showErrorModal(err);\n        }).finally(() => {\n            loadingModal.dismiss();\n        });\n    }\n\n    /**\n     * Stop capturing. Only for video and audio.\n     */\n    stopCapturing(): void {\n        this.streamVideo && this.streamVideo.nativeElement.pause();\n        this.audioDrawer && this.audioDrawer.stop();\n        this.mediaRecorder && this.mediaRecorder.stop();\n        this.isCapturing = false;\n        this.hasCaptured = true;\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        const tracks = this.localMediaStream.getTracks();\n        tracks.forEach((track) => {\n            track.stop();\n        });\n        this.streamVideo && this.streamVideo.nativeElement.pause();\n        this.previewMedia && this.previewMedia.pause();\n        this.audioDrawer && this.audioDrawer.stop();\n        delete this.mediaBlob;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/emulator/pages/capture-media/capture-media.ts","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CoreEmulatorCaptureMediaPage } from './capture-media';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\n\n@NgModule({\n    declarations: [\n        CoreEmulatorCaptureMediaPage\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        IonicPageModule.forChild(CoreEmulatorCaptureMediaPage),\n        TranslateModule.forChild()\n    ]\n})\nexport class CoreEmulatorCaptureMediaPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/emulator/pages/capture-media/capture-media.module.ts","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./capture-media.module\";\nimport * as i2 from \"../../../../../node_modules/ionic-angular/components/action-sheet/action-sheet-component.ngfactory\";\nimport * as i3 from \"../../../../../node_modules/ionic-angular/components/alert/alert-component.ngfactory\";\nimport * as i4 from \"../../../../../node_modules/ionic-angular/components/app/app-root.ngfactory\";\nimport * as i5 from \"../../../../../node_modules/ionic-angular/components/loading/loading-component.ngfactory\";\nimport * as i6 from \"../../../../../node_modules/ionic-angular/components/modal/modal-component.ngfactory\";\nimport * as i7 from \"../../../../../node_modules/ionic-angular/components/picker/picker-component.ngfactory\";\nimport * as i8 from \"../../../../../node_modules/ionic-angular/components/popover/popover-component.ngfactory\";\nimport * as i9 from \"../../../../../node_modules/ionic-angular/components/select/select-popover-component.ngfactory\";\nimport * as i10 from \"../../../../../node_modules/ionic-angular/components/toast/toast-component.ngfactory\";\nimport * as i11 from \"../../../../components/context-menu/context-menu-popover.ngfactory\";\nimport * as i12 from \"../../../../components/course-picker-menu/course-picker-menu-popover.ngfactory\";\nimport * as i13 from \"../../../../components/recaptcha/recaptchamodal.ngfactory\";\nimport * as i14 from \"../../../../components/bs-tooltip/bs-tooltip.ngfactory\";\nimport * as i15 from \"./capture-media.ngfactory\";\nimport * as i16 from \"@angular/common\";\nimport * as i17 from \"@angular/forms\";\nimport * as i18 from \"@ngx-translate/core/src/translate.loader\";\nimport * as i19 from \"@ngx-translate/core/src/translate.compiler\";\nimport * as i20 from \"@ngx-translate/core/src/translate.parser\";\nimport * as i21 from \"@ngx-translate/core/src/missing-translation-handler\";\nimport * as i22 from \"@ngx-translate/core/src/translate.service\";\nimport * as i23 from \"@ngx-translate/core/src/translate.store\";\nimport * as i24 from \"ionic-angular/module\";\nimport * as i25 from \"@ngx-translate/core/index\";\nimport * as i26 from \"../../../../directives/directives.module\";\nimport * as i27 from \"../../../../pipes/pipes.module\";\nimport * as i28 from \"../../../../components/components.module\";\nimport * as i29 from \"ionic-angular/util/module-loader\";\nimport * as i30 from \"./capture-media\";\nvar CoreEmulatorCaptureMediaPageModuleNgFactory = i0.ɵcmf(i1.CoreEmulatorCaptureMediaPageModule, [], function (_l) { return i0.ɵmod([i0.ɵmpd(512, i0.ComponentFactoryResolver, i0.ɵCodegenComponentFactoryResolver, [[8, [i2.ActionSheetCmpNgFactory, i3.AlertCmpNgFactory, i4.IonicAppNgFactory, i5.LoadingCmpNgFactory, i6.ModalCmpNgFactory, i7.PickerCmpNgFactory, i8.PopoverCmpNgFactory, i9.SelectPopoverNgFactory, i10.ToastCmpNgFactory, i11.CoreContextMenuPopoverComponentNgFactory, i12.CoreCoursePickerMenuPopoverComponentNgFactory, i13.CoreRecaptchaModalComponentNgFactory, i14.CoreBSTooltipComponentNgFactory, i15.CoreEmulatorCaptureMediaPageNgFactory]], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.ɵmpd(4608, i16.NgLocalization, i16.NgLocaleLocalization, [i0.LOCALE_ID, [2, i16.ɵa]]), i0.ɵmpd(4608, i17.ɵi, i17.ɵi, []), i0.ɵmpd(4608, i17.FormBuilder, i17.FormBuilder, []), i0.ɵmpd(4608, i18.TranslateLoader, i18.TranslateFakeLoader, []), i0.ɵmpd(4608, i19.TranslateCompiler, i19.TranslateFakeCompiler, []), i0.ɵmpd(4608, i20.TranslateParser, i20.TranslateDefaultParser, []), i0.ɵmpd(4608, i21.MissingTranslationHandler, i21.FakeMissingTranslationHandler, []), i0.ɵmpd(4608, i22.TranslateService, i22.TranslateService, [i23.TranslateStore, i18.TranslateLoader, i19.TranslateCompiler, i20.TranslateParser, i21.MissingTranslationHandler, i22.USE_DEFAULT_LANG, i22.USE_STORE]), i0.ɵmpd(512, i16.CommonModule, i16.CommonModule, []), i0.ɵmpd(512, i17.ɵba, i17.ɵba, []), i0.ɵmpd(512, i17.FormsModule, i17.FormsModule, []), i0.ɵmpd(512, i17.ReactiveFormsModule, i17.ReactiveFormsModule, []), i0.ɵmpd(512, i24.IonicModule, i24.IonicModule, []), i0.ɵmpd(512, i25.TranslateModule, i25.TranslateModule, []), i0.ɵmpd(512, i26.CoreDirectivesModule, i26.CoreDirectivesModule, []), i0.ɵmpd(512, i27.CorePipesModule, i27.CorePipesModule, []), i0.ɵmpd(512, i28.CoreComponentsModule, i28.CoreComponentsModule, []), i0.ɵmpd(512, i24.IonicPageModule, i24.IonicPageModule, []), i0.ɵmpd(512, i1.CoreEmulatorCaptureMediaPageModule, i1.CoreEmulatorCaptureMediaPageModule, []), i0.ɵmpd(256, i22.USE_STORE, undefined, []), i0.ɵmpd(256, i22.USE_DEFAULT_LANG, undefined, []), i0.ɵmpd(256, i29.LAZY_LOADED_TOKEN, i30.CoreEmulatorCaptureMediaPage, [])]); });\nexport { CoreEmulatorCaptureMediaPageModuleNgFactory as CoreEmulatorCaptureMediaPageModuleNgFactory };\n//# sourceMappingURL=capture-media.module.ngfactory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core/emulator/pages/capture-media/capture-media.module.ngfactory.js\n// module id = null\n// module chunks = "]}